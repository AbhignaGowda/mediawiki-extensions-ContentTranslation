@import '../../widgets/common/ext.cx.common.less';
@import 'mediawiki.mixins';

.cx-sourceselector-dialog {
	.mw-ui-item;

	background-color: #fff;
	color: @gray-darker;
	position: absolute;
	z-index: 400; // 300 is the z-index of overlay
	min-width: 650px;
	max-width: 700px;
	border: 1px solid #ddd;
	border-bottom-width: 3px;
	border-radius: @borderRadius;
	padding: 0;
	box-shadow: 0 5px 10px rgba( 0, 0, 0, 0.2 );

	.cx-sourceselector-dialog__heading {
		@vertical-margin: 10px;
		@horizontal-margin: 15px;

		.mw-ui-item;
		.mw-ui-one-whole;

		padding: @vertical-margin @horizontal-margin;
		font-size: 1.6em;
		line-height: 1.5em;
		border-bottom: 1px solid #eee;
		font-weight: normal;
	}
}

.cx-sourceselector-embedded {
	.mw-ui-item;

	background-color: @white;
	color: @gray-darker;
	position: relative;
	z-index: 400; // 300 is the z-index of overlay
	margin-bottom: 2em;
	border-radius: @borderRadius;
	padding: 0;

	&.cx-sourceselector-embedded--selected {
		.cx-sourceselector-embedded__target-language,
		.translation-language-arrow,
		.cx-sourceselector-embedded-discard,
		.cx-sourceselector-embedded__actions {
			display: block;
		}
	}

	.cx-sourceselector-embedded-selected-item {
		@item-height: 6.25em;
		@image-size: 5.25em;

		.mw-ui-one-whole;
		.flex-display( box );
		.flex-display;
		-ms-flex-align: center; // Support IE10
		-webkit-box-align: center; // Support 2011 syntax
		-webkit-align-items: center; // Vendor specific
		align-items: center; // Modern syntax
		min-height: @item-height;

		&__image {
			background-color: @colorGray15;
			.background-image-svg('../../dashboard/images/page_lightgray.svg', '../../dashboard/images/page_lightgray.png');
			background-repeat: no-repeat;
			background-size: @image-size;
			background-position: center center;
			display: block;
			height: @image-size;
			width: @image-size;
			border: 0;
			margin: 0.5em;
		}

		&__info {
			color: @colorGray1;

			.flex-display( box );
			.flex-display;
			flex-direction: column;
			// Support 2009/2012 syntax that does not support space-around
			-webkit-box-pack: justify; // iOS 6-, Safari 3.1-6
			-moz-box-pack: justify; // Firefox 21-
			-ms-flex-pack: distribute; // Support IE10
			justify-content: space-around;

			max-width: 60%;
			min-height: @item-height;
			padding-left: 0.7em;

			font-size: 1.2em;
			font-weight: bold;

			// Needs to be overridden for specificity
			> a {
				color: @colorGray1;
			}
		}

		.cx-sourceselector-embedded-discard {
			.background-image-svg('../../tools/images/clear.svg', '../../tools/images/clear.png');
			background-position: center center;
			background-repeat: no-repeat;
			background-size: 16px;
			opacity: 0.8;

			float: right;
			width: 30px;
			height: 30px;
			padding: 0 8px;
			cursor: pointer;

			&:hover {
				opacity: 1;
			}
		}
	}

	.cx-sourceselector-embedded__source-inputs {
		.flex-display( box );
		.flex-display;

		height: 40px;
		border-bottom: 1px solid #eee;
		padding: 10px;
	}

	.cx-sourceselector-embedded__actions {
		display: none;
	}

	.cx-sourceselector-embedded__language-filter {
		background: @colorGray15;
		width: auto;
		max-width: 25%;
		border: 1px solid #9d9d9d;
		border-radius: @borderRadius;
		padding: 0;
		font-weight: bold;

		.flex-display( box ); // Support 2009 syntax
		.flex-display();
		margin-left: auto;

		.cx-sourceselector-embedded__source-language,
		.cx-sourceselector-embedded__target-language {
			float: left;
			position: relative;
			box-sizing: border-box;
			font-size: 18px;
			cursor: pointer;

			-webkit-box-flex: 1; // iOS 6-, Safari 3.1-6
			-moz-box-flex: 1; // Firefox 21-
			width: auto; // Fallback for flex-basis
			-ms-flex: 0 1 auto; // IE 10
			-webkit-flex: 0 1 auto; // Safari 6.2 - 8
			flex: 0 1 auto;
			overflow: hidden;
		}

		.cx-sourceselector-embedded__language-button {
			max-height: 34px;
			padding: 8px;
			line-height: 1;

			overflow: hidden;
			text-overflow: ellipsis;
			white-space: nowrap;
		}
	}

	.cx-sourceselector-embedded__source-language {
		padding-right: 8px;
		margin-right: -8px;
	}

	.cx-sourceselector-embedded__target-language {
		display: none;

		padding-left: 8px;
		margin-left: -8px;
	}

	.translation-language-arrow {
		display: none;

		float: left;
		position: relative;
		width: 0;
		height: 34px;
		margin-right: 16px;
	}

	.translation-language-arrow:after,
	.translation-language-arrow:before {
		content: ' ';
		position: absolute;
		top: 50%;
		left: 100%;
		width: 0;
		height: 0;
		border: solid transparent;
		pointer-events: none;
	}

	.translation-language-arrow:after {
		margin-top: -17px;
		border-color: rgba( 255, 255, 255, 0 );
		border-left-color: @colorGray15;
		border-width: 17px;
		border-left-width: 12px;
	}

	.translation-language-arrow:before {
		margin-top: -18px;
		border-color: rgba( 157, 157, 157, 0 );
		border-left-color: #9d9d9d;
		border-width: 18px;
		border-left-width: 13px;
	}
}

.cx-sourceselector-uls-target,
.cx-sourceselector-uls-source {
	z-index: 2000;
}

.cx-sourceselector-dialog__target-inputs,
.cx-sourceselector-dialog__source-inputs {
	.mw-ui-item;
	.mw-ui-one-whole;

	height: 50px;
	padding: 10px;
	border-bottom: 1px solid #eee;
}

.cx-sourceselector-dialog__language-label {
	.mw-ui-item;
	.mw-ui-two-twelfths;

	padding: 5px;
	font-size: large;
}

.cx-sourceselector-messagebar {
	.mw-ui-one-whole;
	padding: 10px;
	background-color: #f7d358;
}

.cx-sourceselector-dialog__actions,
.cx-sourceselector-embedded__actions {
	.mw-ui-one-whole;
	padding: 10px 15px 15px 15px;
	text-align: right;
	background-color: @gray-lighter;

	button {
		margin-left: 10px;
	}
}

.cx-sourceselector__license {
	.mw-ui-one-whole;

	padding: 10px;
	background-color: @gray-lighter;
	font-size: 12px;
	color: #72777d;
}

.cx-sourceselector-dialog__language {
	.mw-ui-item;
	.mw-ui-three-twelfths;

	button {
		.mw-ui-item;
		.mw-ui-one-whole;

		font-size: medium;
		padding: 5px 10px;
		background: #efefef;
		position: relative;
		cursor: pointer;
		text-align: left;
		overflow: hidden;
		text-overflow: ellipsis;
		white-space: nowrap;

		&:after {
			.background-image-svg('../../tools/images/dropdown.svg', '../../tools/images/dropdown.png');
			content: '';
			display: inline-block;
			width: 20px;
			height: 12px;
			right: 2px;
			position: absolute;
			bottom: 50%;
			margin-bottom: -6px;
		}
	}
}

.cx-sourceselector-page-title {
	.mw-ui-item;
	.mw-ui-seven-twelfths;

	input {
		.mw-ui-item;
		.mw-ui-one-whole;

		margin: 5px 10px 0;
		font-size: medium;
		appearance: none;
		border: 0;
		padding: 2px;

		// Make sure that the placeholder has a consistent alignment,
		// so it won't be in opposite ends when the languages' direction is different
		&::placeholder {
			text-align: left;
		}

		&::input-placeholder {
			text-align: left;
		}
	}
}

.uls-language-list a.cx-sourceselector-unavailable-target {
	color: #bcf;
}
