/*@nomin*/
!function(e){function t(t){for(var s,o,r=t[0],c=t[1],l=t[2],g=0,d=[];g<r.length;g++)o=r[g],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);for(u&&u(t);d.length;)d.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],s=!0,r=1;r<n.length;r++){var c=n[r];0!==i[c]&&(s=!1)}s&&(a.splice(t--,1),e=o(o.s=n[0]))}return e}var s={},i={cx:0},a=[];function o(t){if(s[t])return s[t].exports;var n=s[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=s,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)o.d(n,s,function(t){return e[t]}.bind(null,s));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var r=window.webpackJsonp=window.webpackJsonp||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var u=c;a.push([0,"cx.ui","cx.libs"]),n()}({0:function(e,t,n){e.exports=n("56d7")},"02cc":function(e,t,n){},"0466":function(e,t,n){},"0651":function(e,t){SXEditorBackCommand=function e(){e.super.call(this,"back")},OO.inheritClass(SXEditorBackCommand,ve.ui.Command),SXEditorBackCommand.prototype.execute=function(){ve.init.target.back()},ve.ui.commandRegistry.register(new SXEditorBackCommand),e.exports=SXEditorBackCommand},"07b6":function(e,t,n){"use strict";n("c9fd")},"07c3":function(e,t,n){"use strict";n("e9dc")},"11f4":function(e,t,n){},1594:function(e,t,n){},"160b":function(e,t){e.exports='<svg width="136px" height="136px" viewBox="0 0 136 136" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>publishing-launching</title> <defs> <path d="M52.8,74.8 C52.8,79.64 44,83.6 44,83.6 C44,83.6 35.2,79.64 35.2,74.8 L52.8,74.8 Z M44,30.8 C40.3939316,30.707512 37.49251,27.806064 37.4,24.2 C37.4,20.554908 40.3549256,17.6 44,17.6 C47.645092,17.6 50.6,20.554908 50.6,24.2 C50.507468,27.806064 47.606064,30.707512 44,30.8 Z M58.52,51.48 C62.04,34.76 55.88,4.4 44,4.4 C32.12,4.4 25.52,33.88 29.04,50.6 L22,66 L33.88,66 L35.2,70.4 L52.8,70.4 C53.68,69.08 53.24,68.2 54.12,66 L66,66 L58.52,51.48 Z" id="path-1"></path> </defs> <g id="publishing-launching" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Group" fill="#EAF3FF"> <circle id="Oval" cx="68" cy="68" r="68"></circle> </g> <g id="🔣-Icon/Wikimedia-logos/logoWikimediaDiscovery" transform="translate(24.000000, 24.000000)"> <mask id="mask-2" fill="white"> <use xlink:href="#path-1"></use> </mask> <use id="Mask-2" fill="#000000" fill-rule="evenodd" xlink:href="#path-1"></use> <g id="🎨-Color/Accent50-#36c" mask="url(#mask-2)" fill="#3366CC" fill-rule="evenodd"> <rect id="Rectangle-1" x="0" y="0" width="105.6" height="105.6"></rect> </g> </g> </g> </svg>'},"1c5b":function(e,t,n){"use strict";n("67bb")},2293:function(e,t,n){"use strict";n("7e70")},2395:function(e,t,n){},"250e":function(e,t,n){"use strict";n("5827")},"296b":function(e,t,n){"use strict";n("f0b4")},"30ee":function(e,t,n){},3440:function(e,t,n){"use strict";n("f171")},3492:function(e,t,n){},"34e5":function(e,t,n){"use strict";n("a6e7")},3634:function(e,t){SXEditorNextCommand=function e(){e.super.call(this,"next")},OO.inheritClass(SXEditorNextCommand,ve.ui.Command),SXEditorNextCommand.prototype.execute=function(){ve.init.target.next()},ve.ui.commandRegistry.register(new SXEditorNextCommand),e.exports=SXEditorNextCommand},"37c1":function(e,t,n){},"37fc":function(e,t){e.exports='<svg width="136px" height="136px" viewBox="0 0 136 136" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>sad-robot</title> <g id="sad-robot" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Group"> <circle id="Oval" fill="#EAECF0" cx="68" cy="68" r="68"></circle> <path id="Mask" d="M70,40.99684 L96.02,40.99684 C100.428,40.99684 104,44.58084 104,48.98484 L104,82.99684 L74,82.99684 L74,92.99684 L96.02,92.99684 C100.428,92.99684 104,96.54884 104,100.99684 L104,108.99684 L32,108.99684 L32,100.99684 C32,96.57684 35.572,92.99684 39.98,92.99684 L62,92.99684 L62,82.99684 L32,82.99684 L32,48.98484 C32,44.57284 35.572,40.99684 39.98,40.99684 L66,40.99684 L66,32.65684 C63.244908,31.68276 61.59226,28.86552 62.086412,25.98536 C62.580564,23.10524 65.077784,21 68,21 C70.9222,21 73.41944,23.10524 73.9136,25.98536 C74.40776,28.86552 72.75508,31.68276 70,32.65684 L70,40.99684 Z M62,78 C62,74.6862915 64.6862915,72 68,72 C71.3137085,72 74,74.6862915 74,78 M54,64.99684 C57.313708,64.99684 60,62.310548 60,58.99684 C60,55.68312 57.313708,52.99684 54,52.99684 C50.686292,52.99684 48,55.68312 48,58.99684 C48,62.310548 50.686292,64.99684 54,64.99684 Z M82,64.99684 C85.31372,64.99684 88,62.310548 88,58.99684 C88,55.68312 85.31372,52.99684 82,52.99684 C78.68628,52.99684 76,55.68312 76,58.99684 C76,62.310548 78.68628,64.99684 82,64.99684 Z" fill="#54595D"></path> </g> </g> </svg>'},"391f":function(e,t,n){"use strict";n("3492")},"39bd":function(e,t,n){"use strict";n("94f9")},"3ac3":function(e,t,n){"use strict";n("83a6")},"3e4a":function(e,t,n){"use strict";n("37c1")},4550:function(e,t,n){"use strict";n("fc87")},"45dd":function(e,t){SXEditorBackTool=function e(){e.super.apply(this,arguments)},OO.inheritClass(SXEditorBackTool,ve.ui.Tool),SXEditorBackTool.static.name="back",SXEditorBackTool.static.group="navigation",SXEditorBackTool.static.icon="close",SXEditorBackTool.static.title=OO.ui.deferMsg("visualeditor-backbutton-tooltip"),SXEditorBackTool.static.commandName="back",SXEditorBackTool.prototype.onUpdateState=function(){SXEditorBackTool.super.prototype.onUpdateState.apply(this,arguments),this.setActive(!1),this.setDisabled(!1)},ve.ui.toolFactory.register(SXEditorBackTool),e.exports=SXEditorBackTool},"4afe":function(e,t,n){"use strict";n("30ee")},"4b31":function(e,t,n){var s={"./publishing-failure.svg":"b3ed","./publishing-launching.svg":"160b","./publishing-success.svg":"5cce","./sad-robot.svg":"37fc","./tutorial-mt.svg":"e1b0","./tutorial-sections.svg":"c69b"};function i(e){var t=a(e);return n(t)}function a(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=a,e.exports=i,i.id="4b31"},"4c90":function(e,t,n){},"4d50":function(e,t,n){"use strict";n("a8dd")},"50f1":function(e,t,n){},"51f3":function(e,t,n){},5282:function(e,t,n){"use strict";n("da9e")},"542a":function(e,t,n){"use strict";n("898f")},"56d7":function(e,t,n){"use strict";n.r(t);var s=n("2b0e"),o=n("87ed"),r=n("2f62"),l={name:"ContentTranslationApp",components:{MwGrid:o.h,MwCol:o.e,MwRow:o.o},data:()=>({transitionName:""}),computed:{...Object(r.e)({translationInProgress:e=>e.application.translationInProgress})},watch:{$route(e,t){const n=e.meta.workflowStep,s=t.meta.workflowStep;this.transitionName=n<s?"mw-ui-animation-slide-end":"mw-ui-animation-slide-start"}},mounted(){window.addEventListener("beforeunload",e=>{this.translationInProgress&&(e.preventDefault(),e.returnValue="")})}},u=(n("7c55"),n("2877")),d=Object(u.a)(l,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mw-grid",{attrs:{id:"contenttranslation"}},[n("mw-row",{staticClass:"cx-container"},[n("mw-col",{attrs:{cols:"12"}},[n("transition",{attrs:{name:e.transitionName}},[n("router-view")],1)],1),n("aside")],1)],1)}),[],!1,null,null,null).exports,p={username:mw.config.get("wgUserName"),translations:[],translationsLoaded:!1};n("13d5");class h{constructor({sourceLanguage:e,targetLanguage:t,sourceTitle:n,targetTitle:s,status:i,id:a,sourceURL:o,targetURL:r,startTimestamp:c,lastUpdateTimestamp:l,progress:u={},startedTranslator:g,lastUpdatedTranslator:d,cxVersion:p}={}){this.id=a,this.cxVersion=p,this.sourceLanguage=e,this.targetLanguage=t,this.sourceTitle=n,this.targetTitle=s,this.sourceURL=o,this.targetURL=r,this.progress=u,this.status=i,this.startedTranslator=g,this.lastUpdatedTranslator=d,this.lastUpdateTimestamp=l,this.startTimestamp=c}}class w{constructor(e,t,n){this.sourceLanguage=e,this.targetLanguage=t,this.providers=[...n||[],this.constructor.ORIGINAL_TEXT_PROVIDER_KEY,this.constructor.EMPTY_TEXT_PROVIDER_KEY]}static get ORIGINAL_TEXT_PROVIDER_KEY(){return"original"}static get EMPTY_TEXT_PROVIDER_KEY(){return"empty"}}class x{constructor({text:e=null,title:t=null,suppressed:n=!1}={}){this.text=e,this.title=t,this.suppressed=n}}class v{constructor({result:e="success",messages:t=[],status:n=""}={}){this.result=e,this.messages=t&&t.map(e=>new x(e)),this.status=n}get isSuccessful(){return"success"===this.result}get isWarning(){return"warning"===this.result}get hasSuppressedWarnings(){return this.isWarning&&this.messages.every(e=>e.suppressed)}get activeMessages(){return this.messages.filter(e=>!e.suppressed)}get hasActiveMessages(){return this.activeMessages.length>0}get reviewInfoStatus(){return this.isSuccessful||this.isWarning&&!this.hasActiveMessages?"default":this.isWarning?"warning":"error"}}var C=new mw.cx.SiteMapper;var _={fetchTranslations:async function b(e){if(mw.user.isAnon())return Promise.resolve([]);const t={action:"query",format:"json",assert:"user",formatversion:2,list:"contenttranslation"};return e&&(t.offset=e),(new mw.Api).get(t).then(async e=>{var t;let s=e.query.contenttranslation.translations.map(e=>new h(e.translation));if(null!==(t=e.continue)&&void 0!==t&&t.offset){const t=await b(e.continue.offset);s=s.concat(t)}return s})},fetchSegmentTranslation:async function(e,t,n,s,i){if(!s)return;let a=`/translate/${e}/${t}`;n!==w.ORIGINAL_TEXT_PROVIDER_KEY&&(a+="/"+n);const o=C.getCXServerUrl(a);return fetch(o,{headers:{"Content-Type":"application/json",Authorization:i},method:"POST",body:JSON.stringify({html:`<div>${s}</div>`})}).then(e=>e.json()).then(e=>/<div>(?<content>.*)<\/div>/.exec(e.contents).groups.content).catch(e=>Promise.reject(e))},publishTranslation:({html:e,sourceTitle:t,targetTitle:n,sourceSectionTitle:s,targetSectionTitle:i,sourceLanguage:a,targetLanguage:o,revision:r,sectionNumber:c})=>{const l={action:"cxpublishsection",title:n,html:e,sourcetitle:t,sourcerevid:r,sourcesectiontitle:s,targetsectiontitle:i,sourcelanguage:a,targetlanguage:o,sectionnumber:c};return(new mw.Api).postWithToken("csrf",l).then(()=>new v).catch((e,t)=>t.exception?new v({result:"failure",messages:[new x({text:t.exception.message})],status:t.statusText}):t.error?new v({result:"failure",messages:[new x({text:t.error.info})],status:t.error.code}):new v({result:"failure"}))}};const y=mw.config.get("wgNamespaceIds"),k={NEW_SECTION:y[""],SANDBOX_SECTION:y.user},P=(e,t)=>mw.cx.getTitleForNamespace(e,k[t]),A=["cjy-hans","cjy-hant","gan-hans","gan","hak-hans","hak-hant","hsn","ii","ja","jje","ko-kp","ko","lzh","ryu","wuu","yue","zh","zh-cn","zh-hans","zh-hant","zh-hk","zh-mo","zh-my","zh-sg","zh-tw"],M=function(e,t){return e?A.includes(t)?e.split(""):e.match(/\S+/g)||[]:[]},B=[{status:"failure",value:5},{status:"warning",value:15},{status:"success",value:100}],R=(e,t)=>{const n=N(e).textContent,i=100-100*((e,t,n)=>{let s,i,a,o,r;return e&&t?e===t?1:(i=o=M(e,n),a=r=M(t,n),r.length>o.length&&(i=r,a=o),s=i.filter((function(e){return a.indexOf(e)>=0})),s.length/i.length):0})(N(t).textContent,n);return Math.ceil(i)},N=e=>{const t=document.createElement("div");return t.innerHTML=e,t};var D_calculateScore=R,D_getScoreStatus=e=>B.find(t=>e<=t.value).status,D_getMTScoreForPageSection=(e,t)=>R(e.translationHtml,e.getProposedTranslationHtml(t));const H=e=>{const t=document.createElement("article");return t.innerHTML=e,Array.prototype.forEach.call(t.querySelectorAll("article, section, [data-segmentid]"),e=>{const t=e.parentNode;for(;e.firstChild;)t.insertBefore(e.firstChild,e);e.remove()}),Array.prototype.forEach.call(t.querySelectorAll(".cx-link"),e=>{var t;const n=JSON.parse(e.getAttribute("data-cx")||"{}");!1===(null==n?void 0:n.adapted)&&!0!==(null==n||null===(t=n.targetTitle)||void 0===t?void 0:t.missing)?e.replaceWith(e.innerHTML):["data-linkid","class","title","id"].forEach(t=>{e.removeAttribute(t)})}),Array.prototype.forEach.call(t.querySelectorAll(".mw-ref"),e=>{const t=JSON.parse(e.getAttribute("data-cx")||"{}");!1===(null==t?void 0:t.adapted)&&e.parentNode.removeChild(e)}),Array.prototype.forEach.call(t.querySelectorAll("[data-cx]"),e=>{e.removeAttribute("data-cx")}),Array.prototype.forEach.call(t.querySelectorAll("tr[id], td[id], th[id], table[id], tbody[id], thead[id], div[id]"),e=>{e.removeAttribute("id")}),t.innerHTML},U=(e,t,n,s)=>{if(e.presentSections[t.originalTitle])return H(t.translationHtml);if(s){return((e,t)=>{const n=e=>{const t=document.createElement("h2");return t.textContent=e,t},s=n(e.title),i=n(t.originalTitle),a=H(e.translationHtml),o=H(t.html);return`${s.outerHTML}\n${a}\n${i.outerHTML}\n${o}`})(t,n.sections.find(e=>e.originalTitle===s))}return H(t.translationHtml)};var Y={namespaced:!0,state:p,getters:{getPublishedTranslationsForLanguagePair:e=>(t,n)=>e.translations.filter(e=>e.sourceLanguage===t&&e.targetLanguage===n&&"published"===e.status),getDraftTranslationsForLanguagePair:e=>(t,n)=>e.translations.filter(e=>e.sourceLanguage===t&&e.targetLanguage===n&&"draft"===e.status),getPublishedTranslations:e=>()=>e.translations.filter(e=>"published"===e.status),getDraftTranslations:e=>()=>e.translations.filter(e=>"draft"===e.status),hasSectionTranslations:e=>()=>e.translations.some(e=>e.hasSectionTranslations)},actions:{async fetchTranslations({commit:e,dispatch:t,state:n}){if(n.translations.length)return;const s=await _.fetchTranslations();s.forEach(t=>e("addTranslation",t));const i=s.reduce((e,t)=>{const n=t.sourceLanguage;return e[n]=e[n]||[],e[n].push(t.sourceTitle),e},{});e("setTranslationsLoaded",!0),Object.keys(i).forEach(e=>{t("mediawiki/fetchPageMetadata",{language:e,titles:i[e]},{root:!0})})},async publishTranslation({rootState:e,dispatch:t,rootGetters:n}){if(!await t("validateMT"))return;const i=n["application/getCurrentPage"],a=n["application/getCurrentTargetPage"],{section:o,sectionSuggestion:r,publishTarget:c}=e.application,l=n["suggestions/getFirstAppendixTitleBySectionSuggestion"](r),u=P(r.targetTitle,c),g=((e,t,n,s)=>{const i=e.presentSections[t.originalTitle];return i?s.getSectionNumberByTitle(i):n?s.getSectionNumberByTitle(n):"new"})(r,o,a,l),d=U(r,o,a,l),{sourceTitle:p,sourceLanguage:m,targetLanguage:h}=r,{originalTitle:S,title:f}=o;t("application/setPublishResult",await _.publishTranslation({html:d,sourceTitle:p,targetTitle:u,sourceSectionTitle:S,targetSectionTitle:f,sourceLanguage:m,targetLanguage:h,revision:i.revision,sectionNumber:g}),{root:!0})},validateMT({rootState:e,dispatch:t}){const n=e.application.currentSourceSection,s=D_getMTScoreForPageSection(n,e.application.currentMTProvider),i=D_getScoreStatus(s);if("success"===i)return!0;const a=e.application.currentPublishResult;if(!("warning"===i&&a.hasSuppressedWarnings)){const e=100-s,n=mw.message("cx-sx-publisher-mt-abuse-message-title",e),a=mw.message("cx-sx-publisher-mt-abuse-message-body"),o=new x({title:n,text:a});return t("application/setPublishResult",new v({result:i,messages:[o]}),{root:!0}),!1}return!0}},mutations:{addTranslation(e,t){e.translations.push(t)},setTranslationsLoaded:(e,t)=>{e.translationsLoaded=t}}},z=n("e3e7"),K={pageSuggestions:[],sectionSuggestions:[],favorites:{},sectionSuggestionsLoadingCount:0,maxSuggestionsPerSlice:5,sectionSuggestionSeedCollections:[],appendixSectionTitles:z};n("5319"),n("2b3d");class Z{constructor({sourceLanguage:e,targetLanguage:t,sourceTitle:n,targetTitle:s,langLinksCount:i,wikidataId:a}={}){this.sourceLanguage=e,this.targetLanguage=t,this.sourceTitle=n,this.targetTitle=s,this.wikidataId=a,this.langLinksCount=i}get id(){return`${this.sourceLanguage}/${this.targetLanguage}/${this.sourceTitle}`}}class J{constructor({sourceLanguage:e,targetLanguage:t,sourceTitle:n,targetTitle:s,present:i,missing:a,sourceSections:o,targetSections:r}={}){this.sourceLanguage=e,this.targetLanguage=t,this.sourceTitle=n,this.targetTitle=s,this.missingSections=a,this.presentSections=i,this.sourceSections=o,this.targetSections=r}get id(){return`${this.sourceLanguage}/${this.targetLanguage}/${this.sourceTitle}`}missingCoreSectionsCount(e){return Object.keys(this.missingSections).filter(t=>!e.includes(t)).length}isValid(e){return this.missingCoreSectionsCount(e)>0}get missingSectionsCount(){return Object.keys(this.missingSections).length}get presentSectionsCount(){return Object.keys(this.presentSections||{}).length}}const Q=z.en;const se=e=>{for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e};var ae={fetchSuggestions:async function(e,t,n,s=24){var i;let a="/data/recommendation/article/creation/translation/"+e;n&&(a+="/"+n);const o=C.getRestbaseUrl(t,a),r=new URLSearchParams({count:s}),c=await fetch(`${o}?${r}`);if(!c.ok)throw new Error("Failed to load data from server");return((null===(i=await c.json())||void 0===i?void 0:i.items)||[]).map(n=>new Z({sourceTitle:n.title.replace(/_/g," "),sourceLanguage:e,targetLanguage:t,wikidataId:n.wikidata_id,langLinksCount:n.sitelink_count}))},fetchSectionSuggestions:async function(e,t,n){const s=[t,e,n].map(e=>encodeURIComponent(e)),i=C.getCXServerUrl("/suggest/sections/"+s.join("/")),a=await fetch(i).then(e=>e.ok?e.json():Promise.reject(new Error("Failed to load data from server"))).then(e=>null==e?void 0:e.sections).catch(e=>null);return a?new J(a):null},fetchSuggestionSeeds:async function(e,t){const n={action:"query",format:"json",list:"cxpublishedtranslations",from:e,to:t,limit:200},s=C.getApi(e);try{const e=await s.get(n);return se(e.result.translations).filter(e=>{const n=mw.util.wikiUrlencode(e.targetURL);return C.getPageUrl(t,e.targetTitle)===n})}catch(i){return[]}},fetchAppendixTargetSectionTitles:function(e){const t=Q.map(e=>encodeURIComponent(e)).join("|"),n=C.getCXServerUrl(`/suggest/sections/titles/en/${e}?titles=${t}`);return fetch(n).then(t=>t.ok?t.json():Promise.reject(new Error("Failed to load appendix target section titles for language: "+e))).then(e=>Object.values(e).flat()).catch(e=>[])}};const oe=["cx-published-translations"];class re{constructor({sourceLanguage:e,targetLanguage:t,seeds:n=[],exhaustedProviders:s=[]}={}){this.sourceLanguage=e,this.targetLanguage=t,this.seeds=n,this.exhaustedProviders=s}doesBelongToLanguagePair(e,t){return this.sourceLanguage===e&&this.targetLanguage===t}get allProvidersExhausted(){return oe.every(e=>this.exhaustedProviders.includes(e))}get nextUnexhaustedProvider(){return oe.find(e=>!this.exhaustedProviders.includes(e))}addExhaustedProvider(e){this.exhaustedProviders.push(e)}}var ue={namespaced:!0,state:K,getters:{findSectionSuggestionSeedCollection:e=>(t,n)=>e.sectionSuggestionSeedCollections.find(e=>e.doesBelongToLanguagePair(t,n)),getPageSuggestionsForPair:e=>(t,n)=>e.pageSuggestions.filter(e=>e.sourceLanguage===t&&e.targetLanguage===n),getSectionSuggestionsForPair:e=>(t,n)=>e.sectionSuggestions.filter(e=>e.sourceLanguage===t&&e.targetLanguage===n),getSectionSuggestionsForArticle:e=>(t,n,s)=>e.sectionSuggestions.find(e=>e.sourceLanguage===t&&e.targetLanguage===n&&e.sourceTitle===s),sectionSuggestionsForArticleExists:e=>(t,n,s)=>e.sectionSuggestions.some(e=>e.sourceLanguage===t&&e.targetLanguage===n&&e.sourceTitle===s),getFirstAppendixTitleBySectionSuggestion:e=>t=>{const n=e.appendixSectionTitles[t.targetLanguage]||[];return t.targetSections.find(e=>n.includes(e))},appendixTitlesExistForLanguage:e=>t=>{var n;return((null===(n=e.appendixSectionTitles)||void 0===n?void 0:n[t])||[]).length>0},getNumberOfSuggestionsToFetch:(e,t)=>(n,s)=>{const i=t.getSectionSuggestionsForPair(n,s),a=e.maxSuggestionsPerSlice;return a-i.length%a}},actions:{async fetchPageSuggestions({commit:e,dispatch:t},{sourceLanguage:n,targetLanguage:s,seed:i}){const a=await ae.fetchSuggestions(n,s,i);a.forEach(t=>e("addPageSuggestion",t));const o=a.map(e=>e.sourceTitle);o.length&&t("mediawiki/fetchPageMetadata",{language:n,titles:o},{root:!0})},async fetchSectionSuggestionsBySeeds({commit:e,dispatch:t,rootState:n,getters:s,state:i},a){if(!a||!a.length)return;const o=a[0].sourceLanguage,r=a[0].targetLanguage;e("increaseSectionSuggestionsLoadingCount"),a=a.filter(e=>!s.sectionSuggestionsForArticleExists(o,r,e.sourceTitle));const c=s.getNumberOfSuggestionsToFetch(o,r);let l=0;for(const g of a){if(r!==n.application.targetLanguage)break;const t=await ae.fetchSectionSuggestions(o,g.sourceTitle,r);e("removeSectionSuggestionSeed",g);const s=i.appendixSectionTitles[o];if(null!=t&&t.isValid(s)&&(l++,e("addSectionSuggestion",t)),l===c)break}if(e("decreaseSectionSuggestionsLoadingCount"),r!==n.application.targetLanguage)return;const u=s.getSectionSuggestionsForPair(o,r).map(e=>e.sourceTitle);t("mediawiki/fetchPageMetadata",{language:o,titles:u},{root:!0})},async loadSectionSuggestion({commit:e,dispatch:t,getters:n},{sourceLanguage:s,targetLanguage:i,sourceTitle:a}){let o=n.getSectionSuggestionsForArticle(s,i,a);if(!o){if(o=await ae.fetchSectionSuggestions(s,a,i),!o)return;e("addSectionSuggestion",o),t("mediawiki/fetchPageMetadata",{language:s,titles:[a]},{root:!0})}return o},getSeedProviderHandlerByName:({rootGetters:e},t)=>({"cx-published-translations":(e,t)=>ae.fetchSuggestionSeeds(e,t),"user-published-translations":(t,n)=>Promise.resolve(e["translator/getPublishedTranslationsForLanguagePair"](t,n))}[t]||null),async getSectionSuggestionSeeds({commit:e,rootGetters:t,dispatch:n,getters:s},{sourceLanguage:i,targetLanguage:a}){let o=s.findSectionSuggestionSeedCollection(i,a);if(o||(o=new re({sourceLanguage:i,targetLanguage:a}),e("addSectionSuggestionSeedCollection",o)),!o.seeds.length){e("increaseSectionSuggestionsLoadingCount");do{const t=o.nextUnexhaustedProvider,s=await n("getSeedProviderHandlerByName",t);if(s){const n=await s(i,a);o.addExhaustedProvider(t),n.forEach(t=>e("addSectionSuggestionSeed",t))}}while(0===o.seeds.length&&!o.allProvidersExhausted);e("decreaseSectionSuggestionsLoadingCount")}return o.seeds},async fetchSuggestions({rootGetters:e,getters:t,dispatch:n,state:i,commit:a},{sourceLanguage:o,targetLanguage:r}){const c=t.getSectionSuggestionsForPair(o,r);if((!c.length||c.length%i.maxSuggestionsPerSlice)&&(n("fetchNextSectionSuggestionsSlice",{targetLanguage:r,sourceLanguage:o}),!(new s.a).$incompleteVersion)){var l,u;n("fetchPageSuggestions",{sourceLanguage:o,targetLanguage:r,seed:null===(l=(null===(u=seeds)||void 0===u?void 0:u[0])||{})||void 0===l?void 0:l.sourceTitle})}},async fetchNextSectionSuggestionsSlice({dispatch:e,rootState:t,commit:n},{targetLanguage:s,sourceLanguage:i}={}){s=s||t.application.targetLanguage,i=i||t.application.sourceLanguage;const a=await e("getSectionSuggestionSeeds",{sourceLanguage:i,targetLanguage:s});return e("fetchSectionSuggestionsBySeeds",a)},async fetchAppendixSectionTitles({getters:e,commit:t},n){if(e.appendixTitlesExistForLanguage(n))return;t("addAppendixSectionTitlesForLanguage",{language:n,titles:await ae.fetchAppendixTargetSectionTitles(n)})}},mutations:{addPageSuggestion(e,t){e.pageSuggestions.push(t)},addSectionSuggestion(e,t){e.sectionSuggestions.push(t)},removeSectionSuggestion(e,t){e.sectionSuggestions=e.sectionSuggestions.filter(e=>e.id!==t.id)},increaseSectionSuggestionsLoadingCount(e){e.sectionSuggestionsLoadingCount++},decreaseSectionSuggestionsLoadingCount(e){e.sectionSuggestionsLoadingCount--},addSectionSuggestionSeedCollection(e,t){e.sectionSuggestionSeedCollections.push(t)},addSectionSuggestionSeed(e,t){const{sourceLanguage:n,targetLanguage:s}=t;e.sectionSuggestionSeedCollections.find(e=>e.doesBelongToLanguagePair(n,s)).seeds.push(t)},removeSectionSuggestionSeed(e,t){const{sourceLanguage:n,targetLanguage:s}=t,i=e.sectionSuggestionSeedCollections.find(e=>e.doesBelongToLanguagePair(n,s));i.seeds=i.seeds.filter(e=>e.sourceTitle!==t.sourceTitle)},addAppendixSectionTitlesForLanguage(e,{language:t,titles:n}){e.appendixSectionTitles[t]=n}}},de={getPage:e=>(t,n)=>e.pages.find(e=>e.language===t&&(e.title===n||e.alias===n)),getLanguageTitleGroup:e=>(t,n)=>e.languageTitleGroups.find(e=>e.titles.find(e=>e.lang===t&&e.title===n)),getLanguageTitleGroupByWikidataId:e=>t=>e.languageTitleGroups.find(e=>e.wikidataId===t),getTitleByLanguageForGroup:(e,t)=>(e,n)=>{var s,i;return null===(s=((null===(i=t.getLanguageTitleGroupByWikidataId(e))||void 0===i?void 0:i.titles)||[]).find(e=>e.lang===n))||void 0===s?void 0:s.title},getLanguage:e=>t=>e.languages.find(e=>e.code===t),getPageSection:e=>(e,t)=>((null==e?void 0:e.sections)||[]).find(e=>e.originalTitle===t),getSupportedMTProviders:e=>(t,n)=>{var s;return(null===(s=e.supportedMTProviderGroups.find(e=>e.sourceLanguage===t&&e.targetLanguage===n))||void 0===s?void 0:s.providers)||[]},isValidProviderForTranslation:(e,t)=>(e,n,s)=>t.getSupportedMTProviders(e,n).includes(s)&&s!==w.EMPTY_TEXT_PROVIDER_KEY};class pe{constructor({description:e,langlinkscount:t,lastrevid:n,original:s,pageid:i,pagelanguage:a,pageprops:o,pageviews:r,thumbnail:c,title:l,_alias:u,content:g=null,sections:d=[]}={}){this.language=a,this.title=l,this.pageId=i,this.description=e,this.image=s,this.pageprops=o,this.pageviews=r,this.thumbnail=c,this.langLinksCount=t,this.revision=n,this.alias=u,this.wikidataId=null==o?void 0:o.wikibase_item,this.content=g,this.sections=d}get id(){return`${this.language}/${this.title}`}getSectionNumberByTitle(e){const t=this.sections.findIndex(t=>t.originalTitle===e);if(t<-1)return-1;return this.sections.slice(0,t).reduce((e,t)=>e+t.subSections.filter(e=>e.isHeadingSection).length+1,0)+1}}class me{constructor(e,t){this.wikidataId=e,this.titles=t}getTitleForLanguage(e){var t;return null===(t=this.titles.find(t=>t.lang===e))||void 0===t?void 0:t.title}hasLanguage(e){return this.titles.some(t=>t.lang===e)}}class he{constructor({id:e,originalContent:t,translatedContent:n="",node:s=null,proposedTranslations:i={},selected:a=!1}={}){this.id=e,this.translatedContent=n,this.node=s,this.proposedTranslations={...i,[w.ORIGINAL_TEXT_PROVIDER_KEY]:t,[w.EMPTY_TEXT_PROVIDER_KEY]:""},this.selected=a}get originalContent(){return this.proposedTranslations[w.ORIGINAL_TEXT_PROVIDER_KEY]}get content(){return this.translatedContent||this.originalContent}get isTranslated(){return""!==this.translatedContent}}class Se{constructor({sentences:e,node:t}={}){this.id=t.id,this.sentences=e,this.node=t}get isHeadingSection(){return this.node.firstElementChild instanceof HTMLHeadingElement}get originalHtml(){return this.node.outerHTML}get translatedContent(){const e=this.node.cloneNode(!0);return Array.from(e.getElementsByClassName("cx-segment")).forEach(e=>{const t=this.getSentenceById(e.dataset.segmentid);t.isTranslated?e.innerHTML=t.translatedContent:e.parentNode.removeChild(e)}),e.innerHTML}getProposedTranslation(e){return this.sentences.reduce((t,n)=>(n.isTranslated&&(t+=n.proposedTranslations[e]),t),"")}get isTranslated(){return this.sentences.some(e=>e.isTranslated)}getSentenceById(e){return this.sentences.find(t=>t.id===e)}}class fe{constructor({id:e,title:t=null,subSections:n=[]}={}){this.id=e,this.proposedTitleTranslations={[w.ORIGINAL_TEXT_PROVIDER_KEY]:t,[w.EMPTY_TEXT_PROVIDER_KEY]:""},this.translatedTitle="",this.subSections=n,this.editedTranslation=null}get originalTitle(){return this.proposedTitleTranslations[w.ORIGINAL_TEXT_PROVIDER_KEY]}get title(){return this.translatedTitle||this.originalTitle}get sentences(){return this.subSections.reduce((e,t)=>[...e,...t.sentences],[])}get html(){return this.subSections.reduce((e,t)=>e+t.originalHtml,"")}get translationHtml(){return this.editedTranslation||this.subSections.reduce((e,t)=>t.isTranslated?e+t.translatedContent:e,"")}getProposedTranslationHtml(e){return this.subSections.reduce((t,n)=>t+n.getProposedTranslation(e),"")}get isTranslated(){return this.subSections.some(e=>e.isTranslated)}}const xe=e=>{const t=Array.from(e).reduce((e,t)=>{const n=t.dataset.mwSectionNumber;return e[n]=e[n]?[...e[n],t]:[t],e},{});return Object.values(t)},Ce=e=>Array.from(e.getElementsByClassName("cx-segment")).map(e=>new he({id:e.dataset.segmentid,originalContent:e.innerHTML,node:e}));var be_convertSegmentedContentToPageSections=e=>{const s=(new DOMParser).parseFromString(e,"text/html").querySelectorAll("section[rel='cx:Section']:not([data-mw-section-number='0'])");return xe(s).map(e=>{const[t,...n]=e,s=n.map(e=>new Se({sentences:Ce(e),node:e}));return new fe({id:t.dataset.mwSectionNumber,title:t.textContent.trim(),subSections:s})})};const ke=(e,t,n)=>{const s=[e,t,n].map(e=>encodeURIComponent(e)),i=C.getCXServerUrl("/page/"+s.join("/"));return fetch(i).then(e=>e.json()).then(e=>e.segmentedContent)};var Pe={fetchPages:function(e,t){const n={action:"query",format:"json",formatversion:2,prop:"info|pageprops|pageimages|description|pageviews|langlinkscount",pvipdays:7,piprop:"thumbnail|name|original",pithumbsize:100,titles:t.join("|"),lllimit:500,origin:"*",redirects:!0};return C.getApi(e).get(n).then(e=>{const t=e.query.pages,s=(e.query.redirects||[]).reduce((e,t)=>({...e,[t.to]:t.from}),{});return t.map(e=>(e=s[e.title]?{...e,_alias:s[e.title]}:e,new pe(e)))})},fetchLanguageTitles:function(e,t){const n={action:"query",format:"json",formatversion:2,prop:"langlinks|pageprops",titles:t,lllimit:500,origin:"*",redirects:!0};return C.getApi(e).get(n).then(async n=>{var s,i;const a=n.query.pages;if(!a||!a.length||null!==(s=a[0])&&void 0!==s&&s.missing)return null;const o=[{lang:e,title:t},...a[0].langlinks],r=null===(i=a[0].pageprops)||void 0===i?void 0:i.wikibase_item;return r?Object.freeze(new me(r,o)):null})},fetchPageContent:function(e,t,n){return ke(e,t,n).then(t=>new pe({sections:be_convertSegmentedContentToPageSections(t),content:t,pagelanguage:e,title:n}))},fetchPageSections:function(e,t,n){return ke(e,t,n).then(e=>be_convertSegmentedContentToPageSections(e))}};class Ae{constructor({code:e,bcp47:t,dir:n,autonym:s,name:i,fallbacks:a,variants:o}={}){this.code=e,this.bcp47=t,this.autonym=s,this.dir=n,this.name=i,this.fallbacks=a,this.variants=o}}var $e={fetchLanguages:function Oe(e="en",t){const n={action:"query",format:"json",formatversion:2,meta:"languageinfo",liprop:"autonym|dir|name|code|bcp47|fallbacks|variants",origin:"*"};return t&&(n.licontinue=t),C.getApi(e).get(n).then(async t=>{var n;let s=null===(n=t.continue)||void 0===n?void 0:n.licontinue,i=t.query.languageinfo;return s&&(i=Object.assign({},i,await Oe(e,s))),Object.values(i).map(e=>Object.freeze(new Ae(e)))})},fetchSupportedLanguageCodes:async function(){return await C.getLanguagePairs().then(e=>e.sourceLanguages)},fetchSupportedMTProviders:async function(e,t){const n=C.getCXServerUrl(`/list/pair/${e}/${t}`);return fetch(n).then(e=>e.json()).then(n=>Object.freeze(new w(e,t,n.mt)))},fetchCXServerToken:function(){return(new mw.Api).postWithToken("csrf",{action:"cxtoken",assert:"user"})}},je={namespaced:!0,state:{pages:[],languages:[],languagesRequested:!1,languageTitleGroups:[],supportedLanguageCodes:[],supportedLanguageCodesRequested:!1,supportedMTProviderGroups:[]},getters:de,actions:{fetchPageMetadata({getters:e,commit:t},{language:n,titles:s}){s=s.filter(t=>!e.getPage(n,t));for(let a=0;a<s.length;a+=50){let e=s.slice(a,a+50);Pe.fetchPages(n,e).then(e=>{e.forEach(e=>{t("addPage",e)})})}},fetchLanguageTitles({commit:e,getters:t},{language:n,title:s}){t.getLanguageTitleGroup(n,s)||Pe.fetchLanguageTitles(n,s).then(t=>t&&e("addLanguageTitleGroup",t))},fetchLanguages({commit:e,state:t}){t.languages.length||t.languagesRequested||(e("setLanguagesRequested",!0),$e.fetchLanguages().then(t=>{e("setLanguages",t)}))},fetchSupportedLanguageCodes({commit:e,state:t}){t.supportedLanguageCodes.length||t.supportedLanguageCodesRequested||(e("setSupportedLanguageCodesRequested",!0),$e.fetchSupportedLanguageCodes().then(t=>{e("setSupportedLanguageCodes",t)}))},async fetchPageContent({commit:e,getters:t,dispatch:n},{sourceLanguage:s,targetLanguage:i,sourceTitle:a}){let o=t.getPage(s,a);o||(o=await Pe.fetchPageContent(s,i,a),e("addPage",o)),o.content||Pe.fetchPageContent(s,i,a).then(e=>o.content=e.content)},async fetchPageSections({getters:e,commit:t},{sourceLanguage:n,targetLanguage:s,sourceTitle:i}){const a=e.getPage(n,i);if(a)return Pe.fetchPageSections(n,s,i).then(e=>t("setPageSections",{page:a,sections:e}))},async fetchMTProviders({commit:e,getters:t},{sourceLanguage:n,targetLanguage:s}){if(t.getSupportedMTProviders(n,s).length)return;e("addMtProviderGroup",await $e.fetchSupportedMTProviders(n,s))},async translateSegment({getters:e,rootGetters:t,dispatch:n},{sourceLanguage:s,targetLanguage:i,provider:a,originalContent:o}){if(e.isValidProviderForTranslation(s,i,a))try{const e=await n("application/getCXServerToken",{},{root:!0});return await _.fetchSegmentTranslation(s,i,a,o,e)}catch(c){return o}}},mutations:{addPage(e,t){e.pages.push(t)},addLanguageTitleGroup(e,t){e.languageTitleGroups.push(t)},setLanguages(e,t){e.languages=t},setSupportedLanguageCodes(e,t){e.supportedLanguageCodes=t},addMtProviderGroup(e,t){e.supportedMTProviderGroups.push(t)},setPageSections(e,{page:t,sections:n}){s.a.set(t,"sections",n)},setLanguagesRequested(e,t){e.languagesRequested=t},setSupportedLanguageCodesRequested(e,t){e.supportedLanguageCodesRequested=t}}},Fe={currentSectionSuggestion:null,currentSourceSection:null,isSectionTitleSelectedForTranslation:!1,currentMTProvider:"",sourceLanguage:"en",targetLanguage:mw.config.get("wgSectionTranslationTargetLanguage")||"es",publishTarget:"NEW_SECTION",translationInProgress:!1,cxServerToken:null,currentPublishResult:new v},De=n("8c4f"),Ke={computed:{...Object(r.c)({getLanguage:"mediawiki/getLanguage"})},methods:{getAutonym(e){var t,n;let s;try{s=Intl.DisplayNames&&new Intl.DisplayNames(e)}catch{}return(null===(t=this.getLanguage(e))||void 0===t?void 0:t.autonym)||(null===(n=s)||void 0===n?void 0:n.of(e))||e},getDirection(e){var t;return(null===(t=this.getLanguage(e))||void 0===t?void 0:t.dir)||"auto"}}},We=n("4cf1"),Je={name:"CxTranslationWork",components:{MwThumbnail:o.q,MwIcon:o.i},mixins:[Ke],props:{translation:{type:h,required:!0}},data:()=>({mwIconEdit:We.l,mwIconTrash:We.B,mwIconArrowForward:We.c,mwIconArrowNext:We.d}),methods:{onClick(e){this.$emit("click",e),this.startTranslation(this.translation)},startTranslation(e){C.setCXToken(e.sourceLanguage,e.targetLanguage,e.sourceTitle),location.href=C.getCXUrl(e.sourceTitle,e.targetTitle,e.sourceLanguage,e.targetLanguage,{campaign:(new mw.Uri).query.campaign})},getPage(e,t){return this.$store.getters["mediawiki/getPage"](e,t)},getImage(e,t){const n=this.getPage(e,t);return null==n?void 0:n.thumbnail}}},et=(n("5282"),Object(u.a)(Je,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.translation?n("div",{staticClass:"row cx-translation pa-4 ma-0",on:{click:e.onClick}},[n("div",{staticClass:"col shrink pe-4"},[n("mw-thumbnail",{staticClass:"cx-translation__thumbnail",attrs:{thumbnail:e.getImage(e.translation.sourceLanguage,e.translation.sourceTitle),width:84}})],1),n("div",{staticClass:"col"},[n("div",{staticClass:"cx-translation__details column justify-between ma-0"},[n("div",{staticClass:"row ma-0"},[n("div",{staticClass:"col grow"},[n("h5",{staticClass:"cx-translation__source-title pb-2",attrs:{lang:e.translation.sourceLanguage}},[e._v(" "+e._s(e.translation.sourceTitle)+" ")]),n("h6",{staticClass:"cx-translation__target-title",attrs:{lang:e.translation.targetLanguage}},[e._v(" "+e._s(e.translation.targetTitle)+" ")])]),n("div",{staticClass:"col shrink ps-2"},[n("mw-icon",{attrs:{size:24,icon:"published"===e.translation.status?e.mwIconEdit:e.mwIconTrash}})],1)]),n("div",{staticClass:"row ma-0 text-small"},[n("div",{staticClass:"cx-translation__languages col grow"},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:e.getDirection(e.translation.sourceLanguage)},domProps:{textContent:e._s(e.getAutonym(e.translation.sourceLanguage))}}),n("mw-icon",{staticClass:"mx-1",attrs:{icon:e.mwIconArrowNext}}),n("span",{staticClass:"mw-ui-autonym",attrs:{dir:e.getDirection(e.translation.targetLanguage)},domProps:{textContent:e._s(e.getAutonym(e.translation.targetLanguage))}})],1)])])])]):e._e()}),[],!1,null,null,null)).exports,it={name:"SxTranslationListLanguageSelector",components:{MwLanguageSelector:o.j,MwDialog:o.f,MwIcon:o.i,MwButton:o.b},mixins:[Ke],props:{sourceLanguages:{type:Array,required:!0},targetLanguages:{type:Array,required:!0}},data:()=>({mwIconArrowNext:We.d,mwIconExpand:We.o,sourceLanguageSelectOn:!1,targetLanguageSelectOn:!1}),computed:{...Object(r.e)({selectedSourceLanguage:e=>e.application.sourceLanguage,selectedTargetLanguage:e=>e.application.targetLanguage})},methods:{openSourceLanguageDialog(){this.sourceLanguageSelectOn=!0},openTargetLanguageDialog(){this.targetLanguageSelectOn=!0},onSourceLanguageDialogClose(){this.sourceLanguageSelectOn=!1},onTargetLanguageDialogClose(){this.targetLanguageSelectOn=!1},onSourceLanguageSelected(e){this.sourceLanguageSelectOn=!1,this.$emit("source-language-selected",e)},onTargetLanguageSelected(e){this.targetLanguageSelectOn=!1,this.$emit("target-language-selected",e)}}},ot=(n("e1af"),Object(u.a)(it,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"row sx-translation-list-language-selector ma-0 justify-center items-center"},[n("div",{staticClass:"col-5 justify-end"},[n("mw-button",{staticClass:"pa-3 sx-translation-list-language-selector__button",attrs:{indicator:e.mwIconExpand,outlined:!1,type:"text"},on:{click:function(t){return t.stopPropagation(),e.openSourceLanguageDialog(t)}}},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:e.getDirection(e.selectedSourceLanguage)},domProps:{textContent:e._s(e.getAutonym(e.selectedSourceLanguage))}})]),n("mw-dialog",{directives:[{name:"show",rawName:"v-show",value:e.sourceLanguageSelectOn,expression:"sourceLanguageSelectOn"}],attrs:{title:e.$i18n("cx-sx-language-selector-dialog-title"),animation:"slide-up",fullscreen:!0},on:{close:e.onSourceLanguageDialogClose}},[n("div",{staticClass:"row"},[e.sourceLanguageSelectOn?n("mw-language-selector",{staticClass:"sx-translation-list-language-selector__widget col-12",attrs:{languages:e.sourceLanguages},on:{select:e.onSourceLanguageSelected}}):e._e()],1)])],1),n("div",{staticClass:"sx-translation-list-language-selector__arrow col-2 justify-center"},[n("mw-icon",{attrs:{icon:e.mwIconArrowNext}})],1),n("div",{staticClass:"col-5 justify-start"},[n("mw-button",{staticClass:"pa-3 sx-translation-list-language-selector__button",attrs:{indicator:e.mwIconExpand,outlined:!1,type:"text",disabled:e.targetLanguages.length<2},on:{click:function(t){return t.stopPropagation(),e.openTargetLanguageDialog(t)}}},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:e.getDirection(e.selectedTargetLanguage)},domProps:{textContent:e._s(e.getAutonym(e.selectedTargetLanguage))}})]),n("mw-dialog",{directives:[{name:"show",rawName:"v-show",value:e.targetLanguageSelectOn,expression:"targetLanguageSelectOn"}],attrs:{title:e.$i18n("cx-sx-language-selector-dialog-title"),animation:"slide-up",fullscreen:!0},on:{close:e.onTargetLanguageDialogClose}},[n("div",{staticClass:"row"},[e.targetLanguageSelectOn?n("mw-language-selector",{staticClass:"sx-translation-list-language-selector__widget col-12",attrs:{languages:e.targetLanguages},on:{select:e.onTargetLanguageSelected}}):e._e()],1)])],1)])}),[],!1,null,null,null)).exports,ct={name:"CxTranslationList",components:{CxTranslationWork:et,MwCard:o.d,MwSpinner:o.p,SxTranslationListLanguageSelector:ot},mixins:[Ke],props:{active:{type:Boolean,default:!1},translationStatus:{type:String,validator:e=>-1!==["published","draft"].indexOf(e)}},data(){return{labelForAllTranslationsOption:this.$i18n("cx-translation-list-all-languages-option-label"),selectedSourceLanguage:this.$i18n("cx-translation-list-all-languages-option-label"),selectedTargetLanguage:this.$i18n("cx-translation-list-all-languages-option-label")}},computed:{...Object(r.e)({loaded:e=>e.translator.translationsLoaded}),availableSourceLanguages(){return this.translations.map(e=>e.sourceLanguage).filter((e,t,n)=>n.indexOf(e)===t).reduce((e,t)=>[...e,{name:this.getAutonym(t),code:t}],[{name:this.labelForAllTranslationsOption,code:this.labelForAllTranslationsOption}])},availableTargetLanguages(){let e=this.translations.map(e=>e.targetLanguage);const t=mw.config.get("wgSectionTranslationTargetLanguage");return t&&(e=e.filter(e=>e===t)),[...new Set(e)].reduce((e,t)=>[...e,{name:this.getAutonym(t),code:t}],[{name:this.labelForAllTranslationsOption,code:this.labelForAllTranslationsOption}])},translations(){return"published"===this.translationStatus?this.$store.getters["translator/getPublishedTranslations"]():this.$store.getters["translator/getDraftTranslations"]()},activeTranslations(){return this.translations.filter(e=>(this.isActiveForAllSourceLanguages||e.sourceLanguage===this.selectedSourceLanguage)&&(this.isActiveForAllTargetLanguages||e.targetLanguage===this.selectedTargetLanguage))},isActiveForAllSourceLanguages(){return this.selectedSourceLanguage===this.labelForAllTranslationsOption},isActiveForAllTargetLanguages(){return this.selectedTargetLanguage===this.labelForAllTranslationsOption}}},ut=(n("2293"),Object(u.a)(ct,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mw-card",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}],class:"cx-translation-list--"+e.translationStatus},[n("template",{slot:"header"},[n("h3",{staticClass:"mw-ui-card__title pa-4 pt-5 mb-0",domProps:{textContent:e._s(e.$i18n("cx-translation-label-"+e.translationStatus))}})]),n("sx-translation-list-language-selector",{attrs:{"selected-source-language":e.selectedSourceLanguage,"selected-target-language":e.selectedTargetLanguage,"source-languages":e.availableSourceLanguages,"target-languages":e.availableTargetLanguages},on:{"update:selectedSourceLanguage":function(t){e.selectedSourceLanguage=t},"update:selected-source-language":function(t){e.selectedSourceLanguage=t},"update:selectedTargetLanguage":function(t){e.selectedTargetLanguage=t},"update:selected-target-language":function(t){e.selectedTargetLanguage=t}}}),e.loaded?e._e():n("mw-spinner"),e._l(e.activeTranslations,(function(t,s){return n("cx-translation-work",{key:e.translationStatus+"-"+s,attrs:{translation:t}})}))],2)}),[],!1,null,null,null)).exports,St={name:"CxTranslationSuggestion",components:{MwThumbnail:o.q,MwIcon:o.i,MwRow:o.o,MwCol:o.e},props:{suggestion:{type:[Z,J],required:!0}},data:()=>({mwIconClose:We.j,mwIconBookmarkOutline:We.h,mwIconArrowForward:We.c}),computed:{page:function(){return this.$store.getters["mediawiki/getPage"](this.suggestion.sourceLanguage,this.suggestion.sourceTitle)},missingSectionsCount:e=>{var t;return null===(t=e.suggestion)||void 0===t?void 0:t.missingSectionsCount}}},vt={name:"CxSuggestionList",components:{SxTranslationListLanguageSelector:ot,CxTranslationSuggestion:(n("b4c7"),Object(u.a)(St,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.suggestion?n("div",{staticClass:"row cx-suggestion pa-4 ma-0"},[n("div",{staticClass:"col shrink pe-4"},[n("mw-thumbnail",{staticClass:"cx-suggestion__thumbnail",attrs:{thumbnail:e.page&&e.page.thumbnail,width:84}})],1),n("div",{staticClass:"col pe-2"},[n("mw-row",{staticClass:"ma-0 no-wrap fill-height",attrs:{direction:"column",align:"start"}},[n("mw-col",{staticClass:"mb-2",attrs:{shrink:""}},[n("h5",{staticClass:"my-0 cx-suggestion__source-title",attrs:{lang:e.suggestion.sourceLanguage}},[e._v(" "+e._s(e.suggestion.sourceTitle)+" ")])]),n("mw-col",{attrs:{shrink:""}},[n("p",{staticClass:"ma-0 cx-suggestion__source-description complementary",attrs:{lang:e.suggestion.sourceLanguage}},[e._v(" "+e._s(e.page&&e.page.description)+" ")])]),n("mw-col",{staticClass:"cx-suggestion__missing-sections",attrs:{shrink:""}},[n("small",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-translation-suggestion-info",value:[e.missingSectionsCount],expression:"[missingSectionsCount]",arg:"cx-sx-translation-suggestion-info"}]})])],1)],1),n("div",{staticClass:"col-1"},[e.$incompleteVersion?e._e():n("mw-icon",{staticClass:"mb-4",attrs:{icon:e.mwIconClose,size:"24"},on:{click:function(t){return t.stopPropagation(),e.$emit("close")}}}),e.$incompleteVersion?e._e():n("mw-icon",{attrs:{icon:e.mwIconBookmarkOutline,size:"24"},on:{click:function(t){return t.stopPropagation(),e.$emit("bookmark")}}})],1)]):e._e()}),[],!1,null,null,null)).exports,MwCard:o.d,MwButton:o.b,MwSpinner:o.p},mixins:[Ke],props:{active:{type:Boolean,default:!1}},data:()=>({mwIconRefresh:We.x,pageSuggestionsLoaded:!1,currentSectionSuggestionsSliceIndex:0,currentPageSuggestionsSliceIndex:0,maxSlices:4}),computed:{...Object(r.e)({supportedLanguageCodes:e=>e.mediawiki.supportedLanguageCodes||[],selectedSourceLanguage:e=>e.application.sourceLanguage,selectedTargetLanguage:e=>e.application.targetLanguage,maxSuggestionsPerSlice:e=>e.suggestions.maxSuggestionsPerSlice}),...Object(r.c)({pageSuggestionsForPair:"application/getCurrentPageSuggestions",sectionSuggestionsForPair:"application/getCurrentSectionSuggestions",publishedTranslations:"application/getCurrentPublishedTranslations"}),showRefreshButton:e=>e.$incompleteVersion?!e.sectionSuggestionsLoading:!e.pageSuggestionsLoaded,sectionSuggestionsLoading:e=>e.$store.state.suggestions.sectionSuggestionsLoadingCount>0,availableSourceLanguages(){return this.supportedLanguageCodes.filter(e=>e!==this.selectedTargetLanguage).map(e=>({name:this.getAutonym(e),code:e}))},availableTargetLanguages(){const e=mw.config.get("wgSectionTranslationTargetLanguage");return(e?[e]:this.supportedLanguageCodes).filter(e=>e!==this.selectedSourceLanguage).map(e=>({name:this.getAutonym(e),code:e}))},pageSuggestionsForPairSubset(){return this.pageSuggestionsForPair.slice(this.currentPageSuggestionsSliceIndex*this.maxSuggestionsPerSlice,this.currentPageSuggestionsSliceIndex*(this.maxSuggestionsPerSlice+1))},currentSectionSuggestionsSlice:e=>e.getSectionSuggestionsSlice(e.currentSectionSuggestionsSliceIndex),seedArticleTitle(){return this.currentPageSuggestionsSliceIndex<this.publishedTranslations.length?this.publishedTranslations[this.currentPageSuggestionsSliceIndex].sourceTitle:null},isCurrentSectionSuggestionsSliceFull:e=>e.currentSectionSuggestionsSlice.length===e.maxSuggestionsPerSlice,nextSectionSuggestionsSliceIndex:e=>(e.currentSectionSuggestionsSliceIndex+1)%e.maxSlices,nextSectionSuggestionSliceFetched:e=>e.isCurrentSectionSuggestionsSliceFull&&e.getSectionSuggestionsSlice(e.nextSectionSuggestionsSliceIndex).length>0},watch:{pageSuggestionsForPair:function(){this.$incompleteVersion||(this.pageSuggestionsLoaded=!0)},selectedSourceLanguage(){this.$incompleteVersion||(this.fetchPageSuggestions({sourceLanguage:this.selectedSourceLanguage,targetLanguage:this.selectedTargetLanguage}),this.pageSuggestionsLoaded=!1)},selectedTargetLanguage(){this.$incompleteVersion||(this.fetchPageSuggestions({sourceLanguage:this.selectedSourceLanguage,targetLanguage:this.selectedTargetLanguage}),this.pageSuggestionsLoaded=!1)}},methods:{...Object(r.b)({fetchPageSuggestions:"suggestions/fetchPageSuggestions",startSectionTranslation:"application/startSectionTranslation",fetchNextSectionSuggestionsSlice:"suggestions/fetchNextSectionSuggestionsSlice"}),...Object(r.d)({removeSectionSuggestion:"suggestions/removeSectionSuggestion"}),async discardSuggestion(e){this.removeSectionSuggestion(e),this.nextSectionSuggestionSliceFetched||await this.fetchNextSectionSuggestionsSlice({})},onSuggestionRefresh(){this.$incompleteVersion?this.showMoreSectionSuggestions():this.showMoreSuggestions()},showMoreSectionSuggestions(){const e=this.isCurrentSectionSuggestionsSliceFull;this.nextSectionSuggestionSliceFetched||this.fetchNextSectionSuggestionsSlice({}),e&&(this.currentSectionSuggestionsSliceIndex=this.nextSectionSuggestionsSliceIndex)},getSectionSuggestionsSlice(e){const t=e*this.maxSuggestionsPerSlice;return this.sectionSuggestionsForPair.slice(t,t+this.maxSuggestionsPerSlice)},showMoreSuggestions(){this.currentPageSuggestionsSliceIndex*this.maxSuggestionsPerSlice+this.maxSuggestionsPerSlice>=this.pageSuggestionsForPair.length?this.currentPageSuggestionsSliceIndex=0:(this.currentPageSuggestionsSliceIndex++,this.seedArticleTitle&&this.fetchPageSuggestions({sourceLanguage:this.selectedSourceLanguage,targetLanguage:this.selectedTargetLanguage,seed:this.seedArticleTitle}))},updateSourceLanguage(e){this.$store.dispatch("application/updateSourceLanguage",e)},updateTargetLanguage(e){this.$store.dispatch("application/updateTargetLanguage",e)}}},bt=(n("c34a"),Object(u.a)(vt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"show",rawName:"v-show",value:e.active,expression:"active"}]},[n("mw-card",{staticClass:"cx-translation-list--suggestions pa-0 mb-0"},[n("template",{slot:"header"},[n("h3",{staticClass:"mw-ui-card__title pa-4 pt-5 mb-0",domProps:{textContent:e._s(e.$i18n("cx-suggestionlist-title"))}})]),n("sx-translation-list-language-selector",{attrs:{"source-languages":e.availableSourceLanguages,"target-languages":e.availableTargetLanguages},on:{"source-language-selected":e.updateSourceLanguage,"target-language-selected":e.updateTargetLanguage}})],2),e.$incompleteVersion?e._e():n("mw-card",{staticClass:"pa-0 mb-0"},[n("div",{staticClass:"cx-translation-list__division"},[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-suggestion-list-new-pages-division",arg:"cx-suggestion-list-new-pages-division"}],staticClass:"ma-0 pa-4"})]),e.pageSuggestionsLoaded?e._e():n("mw-spinner"),e._l(e.pageSuggestionsForPairSubset,(function(e,t){return n("cx-translation-suggestion",{key:"suggestion-"+t,attrs:{suggestion:e}})}))],2),n("mw-card",{staticClass:"cx-translation-list--sx-suggestions pa-0 mb-0"},[n("div",{staticClass:"cx-translation-list__division"},[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-suggestionlist-expand-sections-title",arg:"cx-suggestionlist-expand-sections-title"}],staticClass:"ma-0 pa-4"})]),e._l(e.currentSectionSuggestionsSlice,(function(t,s){return n("cx-translation-suggestion",{key:"suggestion-"+s,staticClass:"ma-0",attrs:{suggestion:t},on:{close:function(n){return e.discardSuggestion(t)}},nativeOn:{click:function(n){return e.startSectionTranslation(t)}}})})),e.sectionSuggestionsLoading?n("mw-spinner"):e._e()],2),n("div",{staticClass:"cx-suggestion-list__refresh-button-container d-flex justify-center"},[e.showRefreshButton?n("mw-button",{staticClass:"ma-0 pa-4",attrs:{type:"text",label:e.$i18n("cx-suggestionlist-refresh"),outlined:!1,icon:e.mwIconRefresh},on:{click:e.onSuggestionRefresh}}):e._e()],1)],1)}),[],!1,null,null,null)).exports,yt={name:"ExperimentalSupportBanner",components:{MwCol:o.e,MwRow:o.o,MwCard:o.d,MwIcon:o.i},data:()=>({mwIconLabFlask:We.r,learnMoreUrl:"https://www.mediawiki.org/wiki/Special:MyLanguage/Content_translation/Section_translation",feedbackUrl:"https://www.mediawiki.org/wiki/Talk:Content_translation/Section_translation"})},Pt=(n("63ac"),Object(u.a)(yt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mw-card",{staticClass:"experimental-support-banner mb-1"},[n("mw-row",[n("mw-col",{staticClass:"experimental-support-banner__icon me-3",attrs:{shrink:""}},[n("mw-icon",{attrs:{icon:e.mwIconLabFlask}})],1),n("mw-col",[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-dashboard-experimental-support-banner-title",arg:"cx-dashboard-experimental-support-banner-title"}]}),n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-dashboard-experimental-support-banner-description",arg:"cx-dashboard-experimental-support-banner-description"}],staticClass:"complementary"}),n("p",{staticClass:"complementary mt-4"},[n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-dashboard-experimental-support-banner-learn-more-anchor",arg:"cx-dashboard-experimental-support-banner-learn-more-anchor"}],attrs:{target:"_blank",href:e.learnMoreUrl}})]),n("p",{staticClass:"complementary"},[n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-dashboard-experimental-support-banner-share-feedback-anchor",arg:"cx-dashboard-experimental-support-banner-share-feedback-anchor"}],attrs:{target:"_blank",href:e.feedbackUrl}})])])],1)],1)}),[],!1,null,null,null)).exports,Ot={name:"CxDashboard",components:{MwRow:o.o,ExperimentalSupportBanner:Pt,CxSuggestionList:bt,CxTranslationList:ut,MwButtonGroup:o.c,MwBottomNavigation:o.a,MwButton:o.b},data:()=>({mwIconAdd:We.a,mwIconArticleCheck:We.f,mwIconLightBulb:We.t,mwIconEdit:We.l,active:"suggestions"}),computed:{listSelector:e=>[{value:"suggestions",props:{label:e.$i18n("cx-translation-filter-suggested-translations"),icon:We.t,type:"text"}},{value:"draft",props:{label:e.$i18n("cx-translation-filter-draft-translations"),icon:We.l,type:"text"}},{value:"published",props:{label:e.$i18n("cx-translation-filter-published-translations"),icon:We.f,type:"text"}}]},watch:{active:function(){window.scrollTo(0,0)}},mounted:function(){new URLSearchParams(window.location.search).get("sx")&&(this.active="suggestions")},created:function(){this.$store.dispatch("application/initializeDashboardContext")}},Bt={name:"DashboardView",components:{CxDashboard:Object(u.a)(Ot,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.$incompleteVersion?n("experimental-support-banner",{staticClass:"mb-4"}):e._e(),e.$incompleteVersion?e._e():n("mw-row",{staticClass:"ma-0"},[n("mw-button",{staticClass:"col-md-4 col-xs-12 col-lg-3 mb-4 mt-4",attrs:{progressive:"",icon:e.mwIconAdd,label:e.$i18n("cx-create-new-translation")}})],1),!e.$incompleteVersion&&e.$mwui.breakpoint.mdAndUp?n("nav",[n("mw-button-group",{staticClass:"justify-around",attrs:{items:e.listSelector,active:e.active},on:{select:function(t){e.active=t}}})],1):e._e(),n("cx-suggestion-list",{attrs:{active:"suggestions"===e.active}}),e.$incompleteVersion?e._e():n("cx-translation-list",{attrs:{"translation-status":"published",active:"published"===e.active}}),e.$incompleteVersion?e._e():n("cx-translation-list",{attrs:{"translation-status":"draft",active:"draft"===e.active}}),!e.$incompleteVersion&&e.$mwui.breakpoint.smAndDown?n("mw-bottom-navigation",{attrs:{items:e.listSelector,active:e.active},on:{"update:active":function(t){e.active=t}}}):e._e()],1)}),[],!1,null,null,null).exports}},jt=Object(u.a)(Bt,(function(){var t=this.$createElement,n=this._self._c||t;return n("main",{staticClass:"cx-translation-dashboard"},[n("cx-dashboard",{staticClass:"col-xs-12 col-md-8 col-lg-7 col-offset-lg-1 mb-4 pb-12"})],1)}),[],!1,null,null,null).exports,Yt={name:"ExistingArticleBanner",components:{MwRow:o.o,MwCol:o.e},mixins:[Ke],computed:{...Object(r.e)({sectionSuggestion:e=>e.application.currentSectionSuggestion}),targetArticlePath:e=>C.getPageUrl(e.sectionSuggestion.targetLanguage||"",e.sectionSuggestion.targetTitle||""),targetLanguageAutonym:e=>e.getAutonym(e.sectionSuggestion.targetLanguage)}},Zt={name:"ExistingArticleBody",components:{ExistingArticleBanner:(n("296b"),Object(u.a)(Yt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",[n("mw-row",{staticClass:"sx-article-selector__translation-status pa-4 ma-0",attrs:{justify:"between"}},[n("mw-col",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-existing-translation-status",value:[e.targetLanguageAutonym],expression:"[targetLanguageAutonym]",arg:"cx-sx-existing-translation-status"}]}),n("mw-col",{attrs:{shrink:""}},[n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-view-translation-anchor",arg:"cx-sx-view-translation-anchor"}],attrs:{href:e.targetArticlePath}})])],1),n("mw-row",{staticClass:"pa-4 pb-0 ma-0"},[n("mw-col",[n("span",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-existing-translation-additional-info",value:[e.targetLanguageAutonym],expression:"[\n          targetLanguageAutonym\n        ]",arg:"cx-sx-existing-translation-additional-info"}]}),e._v(" "),n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-existing-translation-learn-more",arg:"cx-sx-existing-translation-learn-more"}],attrs:{target:"_blank",href:"https://www.mediawiki.org/wiki/Special:MyLanguage/Content_translation/Section_translation"}})])],1)],1)}),[],!1,null,null,null)).exports,MwButton:o.b,MwRow:o.o},mixins:[Ke],computed:{...Object(r.e)({currentSectionSuggestion:e=>e.application.currentSectionSuggestion}),translationExists:e=>{var t;return null===(t=e.currentSectionSuggestion)||void 0===t?void 0:t.presentSectionsCount},actionButtonLabel:e=>e.translationExists?e.$i18n("cx-sx-select-section"):e.$i18n("cx-sx-start-translation-button-label"),missingSectionsCount:e=>{var t;return null===(t=e.currentSectionSuggestion)||void 0===t?void 0:t.missingSectionsCount},targetLanguage:e=>{var t;return null===(t=e.currentSectionSuggestion)||void 0===t?void 0:t.targetLanguage},targetLanguageAutonym:e=>e.getAutonym(e.targetLanguage)},methods:{onSectionSelectorClick(){this.$router.push({name:"sx-section-selector"}),this.$store.dispatch("application/setTranslationURLParams")}}},Qt=Object(u.a)(Zt,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"sx-article-selector__body"},[n("existing-article-banner"),n("mw-row",{staticClass:"sx-article-selector__action pt-4 pb-3",attrs:{justify:"center"}},[n("mw-button",{attrs:{large:!0,progressive:!0,disabled:0===e.missingSectionsCount,label:e.actionButtonLabel},on:{click:function(t){return e.onSectionSelectorClick()}}})],1),e.missingSectionsCount?n("mw-row",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-missing-section-stats",value:[e.missingSectionsCount,e.targetLanguageAutonym],expression:"[\n      missingSectionsCount,\n      targetLanguageAutonym\n    ]",arg:"cx-sx-missing-section-stats"}],staticClass:"sx-article-selector__action pb-2 mb-4",attrs:{justify:"center"}}):e._e()],1)}),[],!1,null,null,null).exports,sn={name:"SxArticleLanguageSelector",components:{SxTranslationListLanguageSelector:ot},mixins:[Ke],computed:{...Object(r.e)({supportedLanguageCodes:e=>e.mediawiki.supportedLanguageCodes||[],sourceLanguage:e=>e.application.sourceLanguage,targetLanguage:e=>e.application.targetLanguage}),...Object(r.c)({currentLanguageTitleGroup:"application/getCurrentLanguageTitleGroup"}),availableSourceLanguages:e=>{var t;return(null===(t=e.currentLanguageTitleGroup)||void 0===t?void 0:t.titles.filter(t=>t.lang!==e.targetLanguage).map(t=>e.createLanguageOption(t.lang)))||[]},targetLanguages:e=>{const t=mw.config.get("wgSectionTranslationTargetLanguage");return(t?[t]:e.supportedLanguageCodes).filter(t=>t!==e.sourceLanguage).reduce((t,n)=>[...t,e.createLanguageOption(n)],[])}},methods:{createLanguageOption(e){return{name:this.getAutonym(e),code:e}},onSourceLanguageSelected(e){this.$store.dispatch("application/updateSourceLanguage",e)},onTargetLanguageSelected(e){this.$store.dispatch("application/updateTargetLanguage",e)}}},on=(n("9bc3"),Object(u.a)(sn,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("sx-translation-list-language-selector",{staticClass:"sx-article-language-selector",attrs:{"source-languages":e.availableSourceLanguages,"target-languages":e.targetLanguages},on:{"source-language-selected":e.onSourceLanguageSelected,"target-language-selected":e.onTargetLanguageSelected}})}),[],!1,null,null,null)).exports,un={name:"SxArticleSelectorHeader",components:{MwRow:o.o,MwCol:o.e,MwIcon:o.i,MwThumbnail:o.q,MwButton:o.b},data:()=>({mwIconBookmarkOutline:We.h,mwIconClose:We.j,mwIconLanguage:We.s}),computed:{...Object(r.e)({sectionSuggestion:e=>e.application.currentSectionSuggestion}),...Object(r.c)({sourceArticle:"application/getCurrentPage"}),sourceTitle:e=>{var t;return null===(t=e.sectionSuggestion)||void 0===t?void 0:t.sourceTitle},sourceArticleThumbnail:e=>{var t;return null===(t=e.sourceArticle)||void 0===t?void 0:t.thumbnail},langLinksCount:e=>{var t;return null===(t=e.sourceArticle)||void 0===t?void 0:t.langLinksCount},weeklyViews:e=>{var t;return Object.values((null===(t=e.sourceArticle)||void 0===t?void 0:t.pageviews)||{}).reduce((e,t)=>e+t,0)}}},dn=Object(u.a)(un,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.sourceArticle?n("mw-row",{staticClass:"sx-article-selector__header ma-0 pa-2",attrs:{align:"stretch",justify:"start"}},[n("mw-col",{staticClass:"pe-2",attrs:{shrink:""}},[n("mw-thumbnail",{staticClass:"sx-article-selector__header-thumbnail",attrs:{thumbnail:e.sourceArticleThumbnail,"icon-size":48}})],1),n("mw-col",[n("mw-row",{staticClass:"sx-article-selector__header-title ma-0",attrs:{direction:"column",justify:"between",align:"start"}},[n("mw-col",{staticClass:"pa-0 ma-0",attrs:{tag:"h5"},domProps:{textContent:e._s(e.sourceTitle)}}),n("mw-col",{staticClass:"complementary sx-article-selector__stats ma-0",attrs:{tag:"p",shrink:""}},[n("span",{staticClass:"pe-3"},[n("mw-icon",{attrs:{icon:e.mwIconLanguage}}),e._v(" "+e._s(e.langLinksCount)+" ")],1),n("span",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-article-selector-views-count",value:[e.weeklyViews],expression:"[weeklyViews]",arg:"cx-sx-article-selector-views-count"}]})])],1)],1),n("mw-col",{attrs:{shrink:"",align:"start"}},[n("mw-button",{staticClass:"pa-0",attrs:{type:"icon",icon:e.mwIconBookmarkOutline}}),n("mw-button",{staticClass:"pa-0",attrs:{type:"icon",icon:e.mwIconClose},on:{click:function(t){return e.$emit("close")}}})],1)],1):e._e()}),[],!1,null,null,null).exports;const pn=mw.util.getUrl;var hn={name:"SxArticleSelector",components:{SxArticleSelectorHeader:dn,MwRow:o.o,SxArticleLanguageSelector:on,ExistingArticleBody:Qt},mixins:[Ke],mounted:function(){this.$store.dispatch("application/fetchCurrentSectionSuggestionLanguageTitles")},methods:{onClose(){this.$store.dispatch("application/clearCurrentSectionSuggestion"),history.replaceState({},document.title,pn("Special:ContentTranslation")),this.$router.push({name:"dashboard"})}}},vn={name:"SxArticleSelectorView",components:{SxArticleSelector:(n("3440"),Object(u.a)(hn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"sx-article-selector"},[n("sx-article-selector-header",{on:{close:e.onClose}}),n("sx-article-language-selector"),n("existing-article-body"),n("mw-row",{staticClass:"sx-article-selector__license ma-0",attrs:{justify:"center"}},[n("p",{staticClass:"pa-3"},[n("small",{directives:[{name:"i18n-html-safe",rawName:"v-i18n-html-safe:cx-license-agreement",arg:"cx-license-agreement"}]})])])],1)}),[],!1,null,null,null)).exports},computed:{classes(){return{fullscreen:this.$mwui.breakpoint.mdAndDown}}}},bn=(n("b7c7"),Object(u.a)(vn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"sx-article-selector-view",class:e.classes},[n("sx-article-selector")],1)}),[],!1,null,null,null)).exports,On={name:"SxSectionSelectorViewArticleItem",components:{MwRow:o.o,MwButton:o.b},props:{path:{type:String,required:!0},autonym:{type:String,required:!0}},data:()=>({mwIconLinkExternal:We.u})},En=Object(u.a)(On,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mw-row",{staticClass:"ma-0",attrs:{tag:"li"}},[n("mw-button",{staticClass:"col justify-between py-3 px-4",attrs:{href:e.path,target:"_blank",indicator:e.mwIconLinkExternal,label:e.$i18n("cx-sx-section-selector-view-article-button-label",e.autonym),type:"text",outlined:!1}})],1)}),[],!1,null,null,null).exports,Rn={name:"SxSectionSelectorHeader",components:{MwRow:o.o,MwCol:o.e,MwButton:o.b},props:{suggestion:{type:J,required:!0}},data:()=>({mwIconClose:We.j})},Fn=(n("bd9f"),Object(u.a)(Rn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sx-section-selector__header pa-4"},[n("mw-row",{staticClass:"ma-0 pb-3"},[n("mw-col",[n("h6",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-title",arg:"cx-sx-section-selector-title"}],staticClass:"sx-section-selector__header-text ma-0"}),n("h2",{staticClass:"sx-section-selector__title ma-0 py-0",domProps:{textContent:e._s(e.suggestion.sourceTitle)}})]),n("mw-col",{staticClass:"justify-end",attrs:{shrink:""}},[n("mw-button",{staticClass:"pa-0",attrs:{large:!0,type:"icon",icon:e.mwIconClose},on:{click:function(t){return e.$emit("close")}}})],1)],1),n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-subtitle",arg:"cx-sx-section-selector-subtitle"}],staticClass:"pt-0 ma-0"}),n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-desc",arg:"cx-sx-section-selector-desc"}],staticClass:"ma-0"})],1)}),[],!1,null,null,null)).exports,Un={name:"SxSectionSelectorSectionList",components:{MwRow:o.o,MwButton:o.b,MwIcon:o.i},props:{sections:{type:Object,required:!0}},data:()=>({mwIconArrowForward:We.c})},Xn=Object(u.a)(Un,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ul",{staticClass:"sx-section-selector__sections-list ma-0 pa-0"},e._l(e.sections,(function(t,s){return n("mw-row",{key:s,staticClass:"ma-0",attrs:{tag:"li"}},[n("mw-button",{staticClass:"col justify-between py-3 px-4",attrs:{label:s,type:"text",outlined:!1},on:{click:function(t){return e.$emit("select-section",s)}}},[e._t("default",null,{targetSection:t,sourceSection:s}),n("mw-icon",{staticClass:"mw-ui-button__indicator",attrs:{icon:e.mwIconArrowForward}})],2)],1)})),1)}),[],!1,null,"62d81104",null).exports,zn={name:"SxSectionSelectorSectionListMissing",components:{SxSectionSelectorSectionList:Xn,MwRow:o.o,MwCol:o.e,MwButton:o.b},mixins:[Ke],props:{suggestion:{type:J,required:!0}},data:()=>({mwIconArrowForward:We.c,sadRobotSVG:n("37fc")}),computed:{targetLanguageAutonym(){return this.getAutonym(this.suggestion.targetLanguage)},emptySections(){return 0===Object.keys(this.suggestion.missingSections).length}}},Wn=(n("39bd"),Object(u.a)(zn,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"sx-section-selector__missing-sections py-2"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-missing-sections-title",value:[e.targetLanguageAutonym],expression:"[\n      targetLanguageAutonym\n    ]",arg:"cx-sx-section-selector-missing-sections-title"}],staticClass:"sx-section-selector__list-title mb-0 pb-0 py-3 px-4"}),e.emptySections?e._e():n("sx-section-selector-section-list",e._g({attrs:{sections:e.suggestion.missingSections},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.sourceSection;return[n("h5",{staticClass:"ma-0",domProps:{textContent:e._s(s)}})]}}],null,!1,4098727704)},e.$listeners)),e.emptySections?n("mw-row",{staticClass:"sx-section-selector__empty-missing-sections px-4 my-0"},[n("mw-col",{staticClass:"py-6 justify-center",domProps:{innerHTML:e._s(e.sadRobotSVG)}}),n("mw-col",{staticClass:"sx-section-selector__empty-missing-sections-details pa-0",attrs:{cols:"12"}},[n("h6",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-empty-missing-sections-title",arg:"cx-sx-section-selector-empty-missing-sections-title"}]})]),n("mw-col",{staticClass:"sx-section-selector__empty-missing-sections-details pa-0 mb-2",attrs:{cols:"12"}},[n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-empty-missing-sections-desc",arg:"cx-sx-section-selector-empty-missing-sections-desc"}]})]),n("mw-col",{staticClass:"pa-0 mb-2",attrs:{cols:"12"}},[n("mw-button",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-pick-other-translation-button-label",arg:"cx-sx-section-selector-pick-other-translation-button-label"}],staticClass:"sx-section-selector__empty-missing-sections__close-button px-0",attrs:{type:"text"},on:{click:function(t){return e.$emit("close")}}})],1)],1):e._e()],1)}),[],!1,null,null,null)).exports,es={name:"SxSectionSelectorSectionListPresent",components:{SxSectionSelectorSectionList:Xn},mixins:[Ke],props:{suggestion:{type:J,required:!0}},data:()=>({mwIconArrowForward:We.c}),computed:{targetLanguageAutonym(){return this.getAutonym(this.suggestion.targetLanguage)}}},is={name:"SxSectionSelector",components:{SxSectionSelectorSectionListPresent:(n("c3e3"),Object(u.a)(es,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"sx-section-selector__present-sections py-2"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-present-sections-title",value:[e.targetLanguageAutonym],expression:"[\n      targetLanguageAutonym\n    ]",arg:"cx-sx-section-selector-present-sections-title"}],staticClass:"sx-section-selector__list-title mb-0 pb-0 py-3 px-4"}),n("sx-section-selector-section-list",e._g({attrs:{sections:e.suggestion.presentSections},scopedSlots:e._u([{key:"default",fn:function(t){var s=t.sourceSection,i=t.targetSection;return[n("div",{staticClass:"sx-section-selector__present-section-button-content"},[n("h5",{staticClass:"sx-section-selector__present-section-button-source",domProps:{textContent:e._s(s)}}),n("h6",{staticClass:"sx-section-selector__present-section-button-target",domProps:{textContent:e._s(i)}})])]}}])},e.$listeners))],1)}),[],!1,null,null,null)).exports,SxSectionSelectorSectionListMissing:Wn,SxSectionSelectorHeader:Fn,SxSectionSelectorViewArticleItem:En,MwRow:o.o,MwCol:o.e,MwIcon:o.i,SxArticleLanguageSelector:on},mixins:[Ke],data:()=>({mwIconRobot:We.y,mwIconLabFlask:We.r}),computed:{...Object(r.e)({suggestion:e=>e.application.currentSectionSuggestion}),sourceLanguageAutonym(){return this.getAutonym(this.suggestion.sourceLanguage)},targetLanguageAutonym(){return this.getAutonym(this.suggestion.targetLanguage)},sourceArticlePath(){return C.getPageUrl(this.suggestion.sourceLanguage,this.suggestion.sourceTitle)},targetArticlePath(){return C.getPageUrl(this.suggestion.targetLanguage,this.suggestion.targetTitle)},viewArticleItems(){return[{path:this.sourceArticlePath,autonym:this.sourceLanguageAutonym},{path:this.targetArticlePath,autonym:this.targetLanguageAutonym}]}},methods:{goToArticleSelector(){this.$router.push({name:"sx-article-selector"})},selectSection(e){this.$store.dispatch("application/selectPageSection",{language:this.suggestion.sourceLanguage,title:this.suggestion.sourceTitle,sectionTitle:e}),this.$router.push({name:"sx-content-comparator"})}}},ls={name:"SxSectionSelectorView",components:{SxSectionSelector:(n("58c6"),Object(u.a)(is,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"sx-section-selector"},[n("sx-section-selector-header",{attrs:{suggestion:e.suggestion},on:{close:e.goToArticleSelector}}),n("section",{staticClass:"sx-section-selector__body"},[n("sx-article-language-selector"),n("sx-section-selector-section-list-missing",{attrs:{suggestion:e.suggestion},on:{"select-section":e.selectSection,close:e.goToArticleSelector}}),n("sx-section-selector-section-list-present",{attrs:{suggestion:e.suggestion},on:{"select-section":e.selectSection}}),n("section",{staticClass:" py-2"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-more-details-title",value:[e.targetLanguageAutonym],expression:"[\n          targetLanguageAutonym\n        ]",arg:"cx-sx-section-selector-more-details-title"}],staticClass:"sx-section-selector__list-title mb-0 pb-0 py-3 px-4"}),n("ul",{staticClass:"ma-0 pa-0"},e._l(e.viewArticleItems,(function(e,t){return n("sx-section-selector-view-article-item",{key:"view-article-item-"+t,attrs:{path:e.path,autonym:e.autonym}})})),1)]),n("mw-row",{staticClass:"sx-section-selector__additional-considerations ma-0"},[n("mw-col",{staticClass:"px-4 pt-5 pb-4",attrs:{cols:"12",md:"6"}},[n("h6",{staticClass:"sx-section-selector__additional-consideration-title"},[n("mw-icon",{staticClass:"pe-2",attrs:{icon:e.mwIconRobot}}),e._v(" "+e._s(e.$i18n("cx-sx-section-selector-automatic-section-matching-title"))+" ")],1),n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-automatic-section-matching-description",arg:"cx-sx-section-selector-automatic-section-matching-description"}]}),n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-learn-more-anchor-label",arg:"cx-sx-section-selector-learn-more-anchor-label"}],attrs:{href:"#"}})]),n("mw-col",{staticClass:"px-4 py-5",attrs:{cols:"12",md:"6"}},[n("h6",{staticClass:"sx-section-selector__additional-consideration-title"},[n("mw-icon",{staticClass:"pe-2",attrs:{icon:e.mwIconLabFlask}}),e._v(" "+e._s(e.$i18n("cx-sx-section-selector-unsupported-sections-title"))+" ")],1),n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-unsupported-sections-description",arg:"cx-sx-section-selector-unsupported-sections-description"}]}),n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-learn-more-anchor-label",arg:"cx-sx-section-selector-learn-more-anchor-label"}],attrs:{href:"#"}})])],1)],1)],1)}),[],!1,null,null,null)).exports},computed:{classes(){return{fullscreen:this.$mwui.breakpoint.mdAndDown}}}},gs=(n("4d50"),Object(u.a)(ls,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"sx-section-selector-view",class:e.classes},[n("sx-section-selector")],1)}),[],!1,null,null,null)).exports,Cs={name:"SxContentComparatorSourceVsTargetSelector",components:{MwButtonGroup:o.c},mixins:[Ke],props:{selection:{type:String,required:!0},isMappedSection:{type:Boolean,required:!0}},computed:{...Object(r.e)({suggestion:e=>e.application.currentSectionSuggestion}),listSelector(){const e={value:"source_section",props:{label:this.$i18n("cx-sx-content-comparator-source-selector-title",this.getAutonym(this.suggestion.sourceLanguage)),type:"text",class:"px-0 py-4 mx-4"}};let t;switch(!0){case this.isMappedSection:t={value:"target_section",props:{label:this.$i18n("cx-sx-content-comparator-target-selector-target-section-title",this.getAutonym(this.suggestion.targetLanguage)),type:"text",class:"px-0 py-4 mx-4"}};break;default:t={value:"target_article",props:{label:this.$i18n("cx-sx-content-comparator-target-selector-full-article-title",this.getAutonym(this.suggestion.targetLanguage)),type:"text",class:"px-0 py-4 mx-4"}}}return[e,t]}},watch:{isMappedSection(){this.listSelector.map(e=>e.value).includes(this.selection)||this.updateSelection(this.listSelector[0].value)}},methods:{updateSelection(e){this.$emit("update:selection",e)},optionClass(e){return{"sx-content-comparator__source-target-selector__option--selected":this.selection===e}}}},_s={name:"SxContentComparatorContentHeader",components:{SxContentComparatorSourceVsTargetSelector:(n("cd7f"),Object(u.a)(Cs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sx-content-comparator__source-target-selector"},[n("mw-button-group",{attrs:{items:e.listSelector,active:e.selection},on:{select:e.updateSelection}})],1)}),[],!1,null,null,null)).exports,MwRow:o.o,MwCol:o.e,MwButton:o.b},props:{sourceVsTargetSelection:{type:String,required:!0},targetSectionTitle:{type:String,required:!0},isMappedSection:{type:Boolean,required:!0},targetSectionAnchor:{type:String,required:!0}},data:()=>({mwIconLinkExternal:We.u,mwIconEdit:We.l,isSticky:!1}),computed:{...Object(r.e)({suggestion:e=>e.application.currentSectionSuggestion}),...Object(r.c)({sourceSectionTitle:"application/getCurrentSourceSectionTitle",sourceSectionAnchor:"application/getCurrentSourceSectionAnchor"}),activeContentTitle(){switch(this.sourceVsTargetSelection){case"source_section":return this.sourceSectionTitle;case"target_article":return this.suggestion.targetTitle;default:return this.targetSectionTitle}},activeContentPath(){switch(this.sourceVsTargetSelection){case"source_section":return`${C.getPageUrl(this.suggestion.sourceLanguage,this.suggestion.sourceTitle)}#${this.sourceSectionAnchor}`;case"target_article":return this.targetArticlePath;default:return`${this.targetArticlePath}#${this.targetSectionAnchor}`}},targetArticlePath(){return C.getPageUrl(this.suggestion.targetLanguage,this.suggestion.targetTitle)}},mounted(){new IntersectionObserver(([e])=>{this.isSticky=e.intersectionRect.height<e.boundingClientRect.height},{threshold:[1]}).observe(this.$refs.contentHeader.$el)},methods:{updateSelection(e){this.$emit("update:sourceVsTargetSelection",e)}}},ks=(n("4550"),Object(u.a)(_s,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mw-row",{ref:"contentHeader",staticClass:"sx-content-comparator__content-header ma-0 pt-1",class:{sticky:e.isSticky},attrs:{direction:"column",align:"stretch",reverse:e.isSticky}},[n("sx-content-comparator-source-vs-target-selector",{attrs:{"is-mapped-section":e.isMappedSection,selection:e.sourceVsTargetSelection},on:{"update:selection":e.updateSelection}}),n("mw-row",{staticClass:"sx-content-comparator__content-header-title mx-4 my-0 pt-4 pb-2",attrs:{justify:"between"}},[n("mw-col",[n("h3",{staticClass:"ma-0 pa-0",domProps:{textContent:e._s(e.activeContentTitle)}})]),n("mw-col",{attrs:{shrink:""}},[e.isSticky?n("mw-button",{attrs:{icon:e.mwIconEdit,progressive:!0,label:e.$i18n("cx-sx-content-comparator-content-header-translate-button-label")},on:{click:function(t){return e.$emit("translation-button-clicked")}}}):n("mw-button",{staticClass:"sx-content-comparator__open-content-link-button pa-0 pe-2",attrs:{icon:e.mwIconLinkExternal,type:"icon",href:e.activeContentPath,target:"_blank"}})],1)],1)],1)}),[],!1,null,null,null)).exports,Is={name:"SxContentComparatorHeaderNavigation",components:{MwCol:o.e,MwButton:o.b},props:{sectionSourceTitles:{type:Array,required:!0}},data:()=>({mwIconPrevious:We.w,mwIconArrowForward:We.c}),computed:{...Object(r.c)({sourceSectionTitle:"application/getCurrentSourceSectionTitle"}),currentTitleIndex(){return this.sectionSourceTitles.indexOf(this.sourceSectionTitle)}},methods:{previousSection(){const e=(this.currentTitleIndex-1+this.sectionSourceTitles.length)%this.sectionSourceTitles.length;this.$store.dispatch("application/selectPageSection",{sectionTitle:this.sectionSourceTitles[e]})},nextSection(){const e=(this.currentTitleIndex+1)%this.sectionSourceTitles.length;this.$store.dispatch("application/selectPageSection",{sectionTitle:this.sectionSourceTitles[e]})}}},Bs=Object(u.a)(Is,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mw-col",{staticClass:"justify-end",attrs:{align:"center"}},[n("mw-button",{staticClass:"pa-0 pe-1",attrs:{type:"icon",icon:e.mwIconPrevious},on:{click:e.previousSection}}),n("mw-button",{staticClass:"pa-0 ps-1",attrs:{type:"icon",icon:e.mwIconArrowForward},on:{click:e.nextSection}})],1)}),[],!1,null,null,null).exports,Ns={name:"SxContentComparatorHeaderMappedSection",components:{MwRow:o.o,MwCol:o.e,MwButton:o.b},mixins:[Ke],props:{suggestion:{type:J,required:!0},targetSectionTitle:{type:String,required:!0},discardedSections:{type:Array,required:!0}},data:()=>({mwIconTrash:We.B,mwIconUndo:We.C}),computed:{isDiscardedSection(){return this.discardedSections.includes(this.targetSectionTitle)},mappedSectionHeaderTitle(){return this.$i18n("cx-sx-content-comparator-mapped-section-header-title",this.getAutonym(this.suggestion.targetLanguage))}},methods:{discardMapping(){this.isDiscardedSection||this.$emit("update:discardedSections",[...this.discardedSections,this.targetSectionTitle])},undoDiscard(){this.isDiscardedSection&&this.$emit("update:discardedSections",this.discardedSections.filter(e=>e!==this.targetSectionTitle))}}},qs={name:"SxContentComparatorHeader",components:{SxContentComparatorHeaderMappedSection:(n("07b6"),Object(u.a)(Ns,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sx-content-comparator-header__mapped-section"},[n("mw-row",{staticClass:"sx-content-comparator-header__mapped-section-header pa-2 ma-0"},[n("mw-col",{attrs:{grow:""}},[n("h6",{staticClass:"sx-content-comparator-header__mapped-section-header-title pa-0 mb-1 ms-1"},[e._v(" "+e._s(e.mappedSectionHeaderTitle)+" "),e.isDiscardedSection?n("span",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-content-comparator-discarded-section-label",arg:"cx-sx-content-comparator-discarded-section-label"}]}):e._e()]),n("h6",{staticClass:"sx-content-comparator-header__mapped-section-target-title pa-0 ms-1",class:{"sx-content-comparator-header__mapped-section-target-title--discarded":e.isDiscardedSection}},[e._v(" "+e._s(e.targetSectionTitle)+" ")])]),n("mw-col",{attrs:{shrink:""}},[e.isDiscardedSection?n("mw-button",{staticClass:"pa-0",attrs:{icon:e.mwIconUndo,type:"icon"},on:{click:e.undoDiscard}}):n("mw-button",{staticClass:"pa-0",attrs:{icon:e.mwIconTrash,type:"icon"},on:{click:e.discardMapping}})],1)],1),e.isDiscardedSection?n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-content-comparator-discarded-section-clarifications",arg:"cx-sx-content-comparator-discarded-section-clarifications"}],staticClass:"sx-content-comparator-header__mapped-section-clarifications pa-3 ma-0 complementary"}):n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-content-comparator-mapped-section-clarifications",arg:"cx-sx-content-comparator-mapped-section-clarifications"}],staticClass:"sx-content-comparator-header__mapped-section-clarifications pa-3 ma-0 complementary"})],1)}),[],!1,null,null,null)).exports,SxContentComparatorHeaderNavigation:Bs,MwButton:o.b,MwCol:o.e,MwRow:o.o,MwIcon:o.i},props:{discardedSections:{type:Array,required:!0}},data:()=>({mwIconArrowPrevious:We.e,mwIconEdit:We.l,mwIconEye:We.p}),computed:{...Object(r.e)({suggestion:e=>e.application.currentSectionSuggestion,sourceSection:e=>e.application.currentSourceSection}),...Object(r.c)({sourceSectionTitle:"application/getCurrentSourceSectionTitle",isCurrentSectionMissing:"application/isCurrentSourceSectionMissing",isCurrentSectionPresent:"application/isCurrentSourceSectionPresent"}),isCurrentSectionMappedOrDiscarded:e=>e.discardedSections.includes(e.activeSectionTargetTitle),sourceSectionContent:e=>{var t;return null===(t=e.sourceSection)||void 0===t?void 0:t.html},sectionSourceTitles:e=>[...Object.keys(e.suggestion.missingSections),...Object.keys(e.suggestion.presentSections)],targetSectionTitle:e=>e.suggestion.missingSections[e.sourceSectionTitle]||e.suggestion.presentSections[e.sourceSectionTitle]||""}},Gs=(n("3ac3"),Object(u.a)(qs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sx-content-comparator__header pa-4"},[n("mw-button",{staticClass:"py-2 pa-0",attrs:{icon:e.mwIconArrowPrevious,label:e.$i18n("cx-sx-content-comparator-back-to-sections-button-label"),type:"text",outlined:!1},on:{click:function(t){return e.$emit("close")}}}),n("mw-row",{staticClass:"my-1 py-2 mx-0"},[n("mw-col",{attrs:{grow:""}},[n("h4",{staticClass:"pa-0 sx-content-comparator-header__article-title"},[e._v(" "+e._s(e.suggestion.sourceTitle)+" ")]),n("h2",{staticClass:"sx-content-comparator-header__section-title pa-0 ma-0"},[e._v(" "+e._s(e.sourceSectionTitle)+" ")])]),n("sx-content-comparator-header-navigation",{attrs:{cols:"2","section-source-titles":e.sectionSourceTitles}}),n("mw-col",{staticClass:"py-2 mb-1",attrs:{cols:"12",sm:"12",md:"4"}},[n("mw-button",{attrs:{icon:e.mwIconEdit,progressive:!0,label:e.$i18n("cx-sx-content-comparator-translation-section-button-label"),disabled:!e.sourceSectionContent},on:{click:function(t){return e.$emit("translation-button-clicked")}}})],1)],1),e.isCurrentSectionMissing?n("mw-row",{staticClass:"sx-content-comparator-header__review-contents mx-0",attrs:{align:"start"}},[n("mw-col",{staticClass:"pe-2",attrs:{shrink:""}},[n("mw-icon",{attrs:{icon:e.mwIconEye}})],1),n("mw-col",{staticClass:"ma-0"},[n("strong",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-content-comparator-review-contents-title",arg:"cx-sx-content-comparator-review-contents-title"}]}),n("br"),n("span",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-content-comparator-review-contents-rest",arg:"cx-sx-content-comparator-review-contents-rest"}]})])],1):e._e(),e.isCurrentSectionPresent?n("sx-content-comparator-header-mapped-section",{attrs:{suggestion:e.suggestion,"target-section-title":e.targetSectionTitle,"discarded-sections":e.discardedSections},on:{"update:discardedSections":function(t){return e.$emit("update:discardedSections",t)}}}):e._e()],1)}),[],!1,null,null,null)).exports,Ks={name:"SxContentComparatorNewSectionPlaceholder",props:{isMappedSection:{type:Boolean,required:!0}},computed:{placeholderTitle(){return this.isMappedSection?this.$i18n("cx-sx-content-comparator-present-section-placeholder-title"):this.$i18n("cx-sx-content-comparator-missing-section-placeholder-title")}}},Zs=(n("07c3"),Object(u.a)(Ks,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"sx-content-comparator__new-section-placeholder--present mt-4 py-4 px-7"},[n("h5",{domProps:{innerHTML:e._s(e.placeholderTitle)}}),e.isMappedSection?n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-content-comparator-present-section-placeholder-subtitle",arg:"cx-sx-content-comparator-present-section-placeholder-subtitle"}]}):e._e()])}),[],!1,null,null,null)).exports,Qs={name:"SxContentComparator",components:{SxContentComparatorNewSectionPlaceholder:Zs,SxContentComparatorHeader:Gs,SxContentComparatorContentHeader:ks,MwSpinner:o.p},data:()=>({sourceVsTargetSelection:"source_section",discardedSections:[]}),computed:{...Object(r.e)({suggestion:e=>e.application.currentSectionSuggestion,sourceSection:e=>e.application.currentSourceSection}),...Object(r.c)({sourceSectionTitle:"application/getCurrentSourceSectionTitle",isCurrentSectionMissing:"application/isCurrentSourceSectionMissing",getFirstAppendixTitleBySectionSuggestion:"suggestions/getFirstAppendixTitleBySectionSuggestion"}),targetSectionAnchor(){var e;return((null===(e=this.targetSection)||void 0===e?void 0:e.title)||"").replace(/ /g,"_")},sourcePage(){return this.$store.getters["mediawiki/getPage"](this.suggestion.sourceLanguage,this.suggestion.sourceTitle)},targetPage(){return this.$store.getters["mediawiki/getPage"](this.suggestion.targetLanguage,this.targetTitle)},targetPageContent(){var e;const t=document.createElement("div");t.innerHTML=null===(e=this.targetPage)||void 0===e?void 0:e.content;const n=this.createNewSectionPlaceholderElement(),s=this.getFirstAppendixTitleBySectionSuggestion(this.suggestion);if(s){const i=Array.from(t.querySelectorAll("h2")).filter(e=>e.textContent.match(s))[0].parentNode;i.parentNode.insertBefore(n,i)}else t.appendChild(n);return t.innerHTML},targetTitle(){return this.suggestion.targetTitle},activeSectionTargetTitle(){return this.suggestion.missingSections[this.sourceSectionTitle]||this.suggestion.presentSections[this.sourceSectionTitle]||""},targetSection(){return this.$store.getters["mediawiki/getPageSection"](this.targetPage,this.activeSectionTargetTitle)},sourceSectionContent(){var e;return null===(e=this.sourceSection)||void 0===e?void 0:e.html},targetSectionContent(){var e;return null===(e=this.targetSection)||void 0===e?void 0:e.html},isCurrentSectionMapped(){return!this.isCurrentSectionMissing&&!this.isCurrentSectionDiscarded},isCurrentSectionDiscarded(){return this.discardedSections.includes(this.activeSectionTargetTitle)}},watch:{targetTitle:{immediate:!0,handler:function(){this.$store.dispatch("mediawiki/fetchPageContent",{sourceLanguage:this.suggestion.targetLanguage,targetLanguage:this.suggestion.sourceLanguage,sourceTitle:this.targetTitle})}}},methods:{createNewSectionPlaceholderElement(){return new(s.a.extend(Zs))({props:{isMappedSection:this.isCurrentSectionMapped}}).$mount().$el},goToSectionSelector(){this.$router.push({name:"sx-section-selector"})},translateSection(){this.$store.getters["translator/hasSectionTranslations"]()?this.goToSentenceSelector():this.goToTutorial()},goToTutorial(){this.$router.push({name:"sx-quick-tutorial"})},goToSentenceSelector(){this.$router.push({name:"sx-sentence-selector"})}}},ii={name:"SxContentComparatorView",components:{SxContentComparator:(n("5aee"),Object(u.a)(Qs,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"sx-content-comparator"},[n("sx-content-comparator-header",{attrs:{"discarded-sections":e.discardedSections},on:{"update:discardedSections":function(t){e.discardedSections=t},"update:discarded-sections":function(t){e.discardedSections=t},"translation-button-clicked":e.translateSection,close:e.goToSectionSelector}}),n("sx-content-comparator-content-header",{attrs:{"source-vs-target-selection":e.sourceVsTargetSelection,"is-mapped-section":e.isCurrentSectionMapped,"target-section-title":e.activeSectionTargetTitle,"target-section-anchor":e.targetSectionAnchor},on:{"update:sourceVsTargetSelection":function(t){e.sourceVsTargetSelection=t},"update:source-vs-target-selection":function(t){e.sourceVsTargetSelection=t},"translation-button-clicked":e.translateSection}}),n("section",{staticClass:"sx-content-comparator__source-content"},["source_section"===e.sourceVsTargetSelection?[e.sourceSectionContent?e._e():n("mw-spinner"),n("section",{staticClass:"pt-2 px-4",domProps:{innerHTML:e._s(e.sourceSectionContent)}})]:"target_article"===e.sourceVsTargetSelection?[e.targetPageContent?e._e():n("mw-spinner"),n("article",{staticClass:"px-4",domProps:{innerHTML:e._s(e.targetPageContent)}})]:[n("section",{staticClass:"pa-4",domProps:{innerHTML:e._s(e.targetSectionContent)}}),n("sx-content-comparator-new-section-placeholder",{attrs:{"is-mapped-section":e.isCurrentSectionMapped}})]],2)],1)}),[],!1,null,null,null)).exports},computed:{classes(){return{fullscreen:this.$mwui.breakpoint.mdAndDown}}}},oi=(n("3e4a"),Object(u.a)(ii,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"sx-content-comparator-view",class:e.classes},[n("sx-content-comparator")],1)}),[],!1,null,null,null)).exports,mi={name:"SxTranslationSelector",components:{MwCard:o.d,MwButton:o.b,MwDialog:o.f},props:{active:{type:Boolean,required:!0}},data:()=>({mwIconClose:We.j,originalTextProviderKey:w.ORIGINAL_TEXT_PROVIDER_KEY,emptyTextProviderKey:w.EMPTY_TEXT_PROVIDER_KEY}),computed:{...Object(r.e)({sourceLanguage:e=>{var t;return null===(t=e.application.currentSectionSuggestion)||void 0===t?void 0:t.sourceLanguage},targetLanguage:e=>{var t;return null===(t=e.application.currentSectionSuggestion)||void 0===t?void 0:t.targetLanguage},currentPageSection:e=>e.application.currentSourceSection,isSectionTitleSelected:e=>e.application.isSectionTitleSelectedForTranslation,provider:e=>e.application.currentMTProvider}),...Object(r.c)({selectedSentence:"application/getCurrentSelectedSentence"}),mtProviders(){return this.$store.getters["mediawiki/getSupportedMTProviders"](this.sourceLanguage,this.targetLanguage)},apiMtProviders(){const e=[this.originalTextProviderKey,this.emptyTextProviderKey];return this.mtProviders.filter(t=>!e.includes(t))},proposedTranslations:e=>e.isSectionTitleSelected?e.currentPageSection.proposedTitleTranslations:e.selectedSentence.proposedTranslations,originalContent:e=>{var t;return null===(t=e.currentPageSection)||void 0===t?void 0:t.proposedTitleTranslations[e.selectedProvider]}},methods:{close(){this.$emit("update:active",!1)},selectProvider(e){this.$store.dispatch("application/updateMTProvider",{provider:e}),this.close()}}},Si=(n("542a"),Object(u.a)(mi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.active?n("mw-dialog",{staticClass:"sx-sentence-selector__translation-options",attrs:{fullscreen:""}},[n("template",{slot:"header"},[n("div",{staticClass:"mw-ui-dialog__header pa-4"},[n("div",{staticClass:"row ma-0 py-2"},[n("div",{staticClass:"col grow items-center mw-ui-dialog__header-title justify-start pe-2"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-sentence-selector-translation-options-header-title",arg:"cx-sx-sentence-selector-translation-options-header-title"}],staticClass:"mb-0"})]),n("div",{staticClass:"col shrink justify-center"},[n("mw-button",{staticClass:"pa-0",attrs:{type:"icon",icon:e.mwIconClose},on:{click:e.close}})],1)]),n("h6",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-sentence-selector-translation-options-header-text",arg:"cx-sx-sentence-selector-translation-options-header-text"}],staticClass:"pb-2 mb-0"})])]),n("mw-card",{staticClass:"sx-sentence-selector__mt-provider-option-card mx-4 pa-5",attrs:{role:"button"},nativeOn:{click:function(t){return e.selectProvider(e.originalTextProviderKey)}}},[n("template",{slot:"header"},[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-sentence-selector-translation-options-original-card-title",arg:"cx-sx-sentence-selector-translation-options-original-card-title"}],staticClass:"sx-sentence-selector__translation-options-card-title mb-4"})]),n("p",{domProps:{innerHTML:e._s(e.proposedTranslations[e.originalTextProviderKey])}})],2),e._l(e.apiMtProviders,(function(t){return n("mw-card",{key:t,staticClass:"sx-sentence-selector__mt-provider-option-card mx-4 pa-5",attrs:{role:"button"},nativeOn:{click:function(n){return e.selectProvider(t)}}},[n("template",{slot:"header"},[n("h5",{staticClass:"sx-sentence-selector__translation-options-card-title mb-4",domProps:{textContent:e._s(t)}})]),n("p",{domProps:{innerHTML:e._s(e.proposedTranslations[t])}})],2)})),n("mw-card",{staticClass:"sx-sentence-selector__mt-provider-option-card mx-4 pa-5",attrs:{role:"button"},nativeOn:{click:function(t){return e.selectProvider(e.emptyTextProviderKey)}}},[n("template",{slot:"header"},[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-sentence-selector-translation-options-empty-card-title",arg:"cx-sx-sentence-selector-translation-options-empty-card-title"}],staticClass:"sx-sentence-selector__translation-options-card-title mb-4"})]),n("p",{staticClass:"sx-sentence-selector__empty-sentence-option__cursor"},[e._v("|")])],2)],2):e._e()}),[],!1,null,null,null)).exports,vi={name:"SxSentenceSelectorContentHeader",components:{MwIcon:o.i,MwCol:o.e},data:()=>({mwIconLinkExternal:We.u,titleClass:"sx-sentence-selector__section-title"}),computed:{...Object(r.e)({suggestion:e=>e.application.currentSectionSuggestion,currentPageSection:e=>e.application.currentSourceSection,isSectionTitleSelected:e=>e.application.isSectionTitleSelectedForTranslation}),sourceSectionTitle:e=>{var t;return null===(t=e.currentPageSection)||void 0===t?void 0:t.title},sourceArticlePath:e=>C.getPageUrl(e.suggestion.sourceLanguage,e.suggestion.sourceTitle),isSectionTitleTranslated:e=>{var t;return!(null===(t=e.currentPageSection)||void 0===t||!t.translatedTitle)},highLightClassPostfix:e=>e.isSectionTitleTranslated?"translated":"selected",titleClasses:e=>{const t=[e.titleClass];return e.isSectionTitleSelected&&t.push(`${e.titleClass}--${e.highLightClassPostfix}`),t}},methods:{...Object(r.b)({selectSectionTitle:"application/selectSectionTitleForTranslation"})}},bi=(n("d5b5"),Object(u.a)(vi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mw-col",{staticClass:"sx-sentence-selector__section-header pa-5",attrs:{shrink:""}},[n("a",{staticClass:"sx-sentence-selector__section-article-title mb-1",attrs:{href:e.sourceArticlePath,target:"_blank"}},[n("strong",{domProps:{textContent:e._s(e.suggestion.sourceTitle)}}),n("mw-icon",{staticClass:"ms-1",attrs:{icon:e.mwIconLinkExternal,size:"12"}})],1),n("h2",{staticClass:"pa-0 ma-0",class:e.titleClasses,domProps:{innerHTML:e._s(e.sourceSectionTitle)},on:{click:e.selectSectionTitle}})])}),[],!1,null,null,null)).exports,Pi={name:"ProposedTranslationActionButtons",components:{MwRow:o.o,MwButton:o.b},data:()=>({mwIconPrevious:We.w,mwIconArrowForward:We.c}),computed:{...Object(r.e)({isSectionTitleSelected:e=>e.application.isSectionTitleSelectedForTranslation}),...Object(r.c)({isLastSentence:"application/isCurrentSentenceLast",proposedTranslation:"application/getCurrentProposedTranslation"})}},Oi=(n("6c2a"),Object(u.a)(Pi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mw-row",{staticClass:"sx-sentence-selector__translation-action-buttons ma-0"},[n("mw-button",{staticClass:"sx-sentence-selector__previous-sentence-button col shrink pa-4",attrs:{icon:e.mwIconPrevious,type:"icon",disabled:e.isSectionTitleSelected},on:{click:function(t){return e.$emit("select-previous-segment")}}}),n("mw-button",{staticClass:"sx-sentence-selector__apply-translation-button col grow pa-4",attrs:{type:"text",label:e.$i18n("cx-sx-sentence-selector-apply-translation-button-label"),disabled:!e.proposedTranslation},on:{click:function(t){return e.$emit("apply-translation")}}}),n("mw-button",{staticClass:"sx-sentence-selector__skip-translation-button col shrink pa-4",attrs:{type:"text",indicator:e.mwIconArrowForward,label:e.$i18n("cx-sx-sentence-selector-skip-translation-button-label"),disabled:e.isLastSentence},on:{click:function(t){return e.$emit("skip-translation")}}})],1)}),[],!1,null,null,null)).exports,$i={name:"ProposedTranslationHeader",components:{MwRow:o.o,MwCol:o.e,MwButton:o.b},data:()=>({mwIconEllipsis:We.m}),computed:{...Object(r.e)({mtProvider:e=>e.application.currentMTProvider}),extraMTOptionLabels:e=>({[w.ORIGINAL_TEXT_PROVIDER_KEY]:e.$i18n("cx-sx-sentence-selector-translation-options-original-card-title"),[w.EMPTY_TEXT_PROVIDER_KEY]:e.$i18n("cx-sx-sentence-selector-translation-options-empty-card-title")}),mtOptionLabel:e=>e.extraMTOptionLabels[e.mtProvider]||e.$i18n("cx-sx-sentence-selector-suggested-translation-title",e.mtProvider)}},Ri=(n("34e5"),Object(u.a)($i,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mw-col",{staticClass:"sx-sentence-selector__proposed-translation__header pt-5 shrink"},[n("mw-row",{staticClass:"ma-0 ps-5 pb-4"},[n("mw-col",{staticClass:"sx-sentence-selector__proposed-translation__header-title pa-0 ma-0 pe-4",attrs:{tag:"h6",grow:""},domProps:{textContent:e._s(e.mtOptionLabel)}}),n("mw-col",{staticClass:"pe-5",attrs:{shrink:""}},[n("mw-button",{staticClass:"sx-sentence-selector__proposed-translation__header-settings-button pa-0",attrs:{icon:e.mwIconEllipsis,type:"icon"},on:{click:function(t){return e.$emit("configure-options")}}})],1)],1)],1)}),[],!1,null,null,null)).exports,Fi={name:"ProposedTranslationCard",components:{MwSpinner:o.p,MwCard:o.d,ProposedTranslationHeader:Ri,MwRow:o.o,MwCol:o.e,MwButton:o.b,ProposedTranslationActionButtons:Oi},data:()=>({mwIconEllipsis:We.m,mwIconEdit:We.l,headerAndFooterHeight:0}),computed:{...Object(r.e)({mtProvider:e=>e.application.currentMTProvider}),...Object(r.c)({proposedTranslation:"application/getCurrentProposedTranslation"}),proposedTranslation:e=>e.$store.getters["application/getCurrentProposedTranslation"],contentsStyle:e=>({"max-height":`calc(100% - ${e.headerAndFooterHeight}px)`}),hasProposedTranslation:e=>!!e.proposedTranslation||e.mtProvider===w.EMPTY_TEXT_PROVIDER_KEY},watch:{mtProvider(){this.setHeaderAndFooterHeight()}},mounted(){this.setHeaderAndFooterHeight()},methods:{setHeaderAndFooterHeight(){this.$nextTick(()=>{this.headerAndFooterHeight=this.$refs.header.$el.clientHeight+this.$refs.footer.$el.clientHeight})}}},Di=(n("804d"),Object(u.a)(Fi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mw-card",{staticClass:"sx-sentence-selector__proposed-translation col shrink pa-0"},[n("mw-row",{staticClass:"ma-0 no-wrap fill-height",attrs:{direction:"column",align:"start"}},[n("proposed-translation-header",e._g({ref:"header"},e.$listeners)),n("mw-col",{staticClass:"sx-sentence-selector__proposed-translation__contents px-5",class:{"sx-sentence-selector__proposed-translation__contents--empty":!e.hasProposedTranslation},style:e.contentsStyle},[e.hasProposedTranslation?n("section",{domProps:{innerHTML:e._s(e.proposedTranslation)}}):n("mw-spinner")],1),n("mw-col",{ref:"footer",staticClass:"sx-sentence-selector__proposed-translation__footer",attrs:{shrink:""}},[n("mw-button",{staticClass:"sx-sentence-selector__proposed-translation-edit-button pa-5 pt-4",attrs:{icon:e.mwIconEdit,type:"text",label:e.$i18n("cx-sx-sentence-selector-edit-translation-button-label"),progressive:"",disabled:!e.hasProposedTranslation},on:{click:function(t){return e.$emit("edit-translation",e.proposedTranslation)}}}),n("proposed-translation-action-buttons",e._g({},e.$listeners))],1)],1)],1)}),[],!1,null,null,null)).exports;const qi="sx-sentence-selector__section-sentence";var Gi={name:"SubSection",props:{subSection:{type:Se,required:!0}},computed:{content(){const e=this.subSection.node.cloneNode(!0);return Array.from(e.getElementsByClassName("cx-segment")).forEach(e=>{const t=this.subSection.getSentenceById(e.dataset.segmentid);e.classList.add(qi,"py-1","me-1");const n=["untranslated","translated","selected"].map(e=>`${qi}--${e}`);e.classList.remove(...n),t.selected&&e.classList.add(qi+"--selected");const s=t.isTranslated?"translated":"untranslated";e.classList.add(`${qi}--${s}`),e.innerHTML=t.content}),e.innerHTML}},mounted(){this.$refs.subSectionRoot.addEventListener("click",e=>{e.target.classList.contains("cx-segment")&&this.selectSentence(e.target.dataset.segmentid)})},methods:{selectSentence(e){this.subSection.getSentenceById(e).selected?this.$emit("bounce-translation"):this.$store.dispatch("application/selectSentenceForCurrentSection",{id:e})}}},Yi=(n("bc1b"),Object(u.a)(Gi,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("div",{ref:"subSectionRoot",domProps:{innerHTML:e._s(e.content)}})}),[],!1,null,null,null)).exports,Zi={name:"VisualEditor",props:{content:{type:String,required:!0},language:{type:String,required:!0},dir:{type:String,default:"auto"}},data:()=>({veTarget:null,veSurface:null}),computed:{editedContent(){return this.veSurface.getHtml()},editable:()=>!0,editorConfig(){return{placeholder:!1,log:console.log,sectionId:0,onBack:this.closeEditor,onNext:this.onNext,language:this.language,siteMapper:new mw.cx.SiteMapper}}},mounted(){ea().then(()=>{OO.ui.isMobile=()=>!0,mw.libs.ve.targetLoader.loadModules("visual").then(()=>{n("45dd"),n("9c2c"),n("0651"),n("3634");const e=n("85be"),t=this.getVEOverlay(),s=this.editorConfig;this.veTarget=new e(t,s),this.onTargetReady()})})},methods:{init(){this.$refs.sxeditor.appendChild(this.veTarget.$element[0]),this.veTarget.clearSurfaces();const e=ve.dm.converter.getModelFromDom(ve.createDocumentFromHtml(this.content||"<span class='sx-edit-dummy-node' />"),{lang:this.language,dir:this.dir});this.veSurface=this.veTarget.createSurface(e),this.veTarget.surfaces.push(this.veSurface),this.veTarget.setSurface(this.veSurface),this.veSurface.initialize()},getVEOverlay(){const e=this.$refs.sxeditor;return e.$el=$(this.$refs.sxeditor),e},onTargetReady(){this.$emit("ready"),this.init()},closeEditor(){this.veSurface.destroy(),this.$emit("close")},onNext(){this.$emit("edit-completed",this.editedContent),this.veSurface.destroy()}}},Qi=(n("fe49"),Object(u.a)(Zi,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"sxeditor",staticClass:"visual-editor"},[e._m(0),n("div",{staticClass:"surface pa-5",attrs:{lang:e.language,dir:e.dir}})])}),[function(){var t=this.$createElement,n=this._self._c||t;return n("div",{staticClass:"overlay-header header initial-header"},[n("div",{staticClass:"toolbar"})])}],!1,null,null,null)).exports;function ea(){return mw.loader.using(["ext.visualEditor.targetLoader","ext.visualEditor.mobileArticleTarget"])}var oa={name:"TranslatedSegmentCardHeader",components:{MwButtonGroup:o.c},props:{selection:{type:String,required:!0,validator:e=>["sentence","paragraph"].includes(e)}},computed:{...Object(r.e)({isSectionTitleSelected:e=>e.application.isSectionTitleSelectedForTranslation}),scopeOptions:e=>[{value:"sentence",props:{label:e.$i18n("cx-sx-sentence-selector-translated-segment-sentence-option"),type:"text",class:"px-0 py-4 mx-4"}},{value:"paragraph",props:{label:e.$i18n("cx-sx-sentence-selector-translated-segment-paragraph-option"),type:"text",class:"px-0 py-4 mx-4",disabled:e.isSectionTitleSelected}}]},methods:{updateSelection(e){this.$emit("update:selection",e)}}},ca=(n("4afe"),Object(u.a)(oa,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"translated-segment-card-header"},[n("mw-button-group",{attrs:{items:e.scopeOptions,active:e.selection},on:{select:e.updateSelection}})],1)}),[],!1,null,null,null)).exports,da={name:"TranslatedSegmentCardActionButtons",components:{MwRow:o.o,MwButton:o.b},data:()=>({mwIconPrevious:We.w,mwIconArrowForward:We.c}),computed:{...Object(r.e)({isSectionTitleSelected:e=>e.application.isSectionTitleSelectedForTranslation}),...Object(r.c)({isLastSentence:"application/isCurrentSentenceLast"})}},Sa={name:"TranslatedSegmentCard",components:{TranslatedSegmentCardActionButtons:Object(u.a)(da,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mw-row",{staticClass:"sx-sentence-selector__translation-action-buttons ma-0"},[n("mw-button",{staticClass:"sx-sentence-selector__previous-sentence-button col pa-4",attrs:{icon:e.mwIconPrevious,type:"icon",disabled:e.isSectionTitleSelected},on:{click:function(t){return e.$emit("select-previous-segment")}}}),n("mw-button",{staticClass:"sx-sentence-selector__skip-translation-button col pa-4 items-start",attrs:{type:"icon",icon:e.mwIconArrowForward,disabled:e.isLastSentence},on:{click:function(t){return e.$emit("skip-translation")}}})],1)}),[],!1,null,null,null).exports,MwProgressBar:o.l,MwIcon:o.i,TranslatedSegmentCardHeader:ca,MwCard:o.d,MwRow:o.o,MwCol:o.e,MwButton:o.b},data:()=>({mwIconEllipsis:We.m,mwIconEdit:We.l,mwIconRobot:We.y,mwIconUserAvatar:We.D,scopeSelection:"sentence"}),computed:{...Object(r.e)({mtProvider:e=>e.application.currentMTProvider,isSectionTitleSelected:e=>e.application.isSectionTitleSelectedForTranslation,currentPageSection:e=>e.application.currentSourceSection}),...Object(r.c)({selectedSentence:"application/getCurrentSelectedSentence",mtTranslation:"application/getCurrentProposedTranslation"}),showSentenceTab:e=>"sentence"===e.scopeSelection,currentSubSection:e=>e.currentPageSection.subSections.find(t=>t.sentences.some(t=>t.id===e.selectedSentence.id)),proposedMTTranslation:e=>e.showSentenceTab?e.mtTranslation:e.currentSubSection.getProposedTranslation(e.mtProvider),progressBarBackgroundColor:e=>e.$mwui.colors.base80,errorColor:e=>e.$mwui.colors.red50,userIconColor:e=>e.iconColors[e.modificationStatus],mtScore:e=>D_calculateScore(e.translation,e.proposedMTTranslation),translation:e=>e.isSectionTitleSelected?e.currentPageSection.translatedTitle:e.showSentenceTab?e.selectedSentence.translatedContent:e.currentSubSection.translatedContent,modificationStatus:e=>D_getScoreStatus(e.mtScore),modificationPercentageClass:e=>"translated-segment-card__modification-stats__percentage--"+e.modificationStatus,iconColors:e=>({failure:0===e.mtScore?null:e.$mwui.colors.yellow30,warning:e.$mwui.colors.yellow30,success:e.$mwui.colors.green30})}},va={name:"SxSentenceSelector",components:{TranslatedSegmentCard:(n("391f"),Object(u.a)(Sa,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mw-card",{staticClass:"translated-segment-card col shrink pa-0 mb-0"},[n("mw-row",{staticClass:"ma-0 no-wrap fill-height",attrs:{direction:"column",align:"start"}},[n("translated-segment-card-header",{attrs:{selection:e.scopeSelection},on:{"update:selection":function(t){e.scopeSelection=t}}}),n("mw-col",{staticClass:"translated-segment-card__body pa-5",attrs:{tag:"section"}},[n("mw-row",{staticClass:"ma-0"},[n("mw-col",{staticClass:"translated-segment-card__modification-stats",attrs:{grow:""}},[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-sentence-selector-translated-segment-modification-percentage-header",arg:"cx-sx-sentence-selector-translated-segment-modification-percentage-header"}]}),0===e.mtScore?n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-sentence-selector-translated-segment-no-edits-label",arg:"cx-sx-sentence-selector-translated-segment-no-edits-label"}],style:{color:e.errorColor}}):n("p",{directives:[{name:"i18n-html-safe",rawName:"v-i18n-html-safe:cx-sx-sentence-selector-translated-segment-modification-percentage",value:[e.mtScore],expression:"[\n              mtScore\n            ]",arg:"cx-sx-sentence-selector-translated-segment-modification-percentage"}],class:e.modificationPercentageClass})]),n("mw-col",{staticClass:"translated-segment-card__animated-stats",attrs:{shrink:""}},[n("mw-row",{staticClass:"ma-0 ms-2"},[n("mw-col",{attrs:{shrink:"",align:"center"}},[n("mw-icon",{attrs:{icon:e.mwIconUserAvatar,"icon-color":e.userIconColor}})],1),n("mw-col",{staticClass:"px-3",attrs:{shrink:""}},[n("mw-progress-bar",{attrs:{value:e.mtScore,height:"4px",width:"64px",color:e.userIconColor,background:e.progressBarBackgroundColor}})],1),n("mw-col",{attrs:{shrink:""}},[n("mw-icon",{attrs:{icon:e.mwIconRobot}})],1)],1)],1)],1),e.showSentenceTab?n("mw-button",{staticClass:"sx-sentence-selector__proposed-translation-edit-button pa-0 mt-4",attrs:{icon:e.mwIconEdit,type:"text",label:e.$i18n("cx-sx-sentence-selector-edit-translation-button-label"),progressive:""},on:{click:function(t){return e.$emit("edit-translation",e.translation)}}}):e._e()],1),n("mw-col",{staticClass:"translated-segment-card__actions"},[n("translated-segment-card-action-buttons",e._g({},e.$listeners))],1)],1)],1)}),[],!1,null,null,null)).exports,ProposedTranslationCard:Di,SubSection:Yi,SxSentenceSelectorContentHeader:bi,MwRow:o.o,MwCol:o.e,SxTranslationSelector:Si,MwButton:o.b},data:()=>({mwIconArrowPrevious:We.e,translation:null,isTranslationOptionsActive:!1,shouldProposedTranslationBounce:!1,screenHeight:"100%"}),computed:{...Object(r.e)({suggestion:e=>e.application.currentSectionSuggestion,currentPageSection:e=>e.application.currentSourceSection,isSectionTitleSelected:e=>e.application.isSectionTitleSelectedForTranslation,selectedProvider:e=>e.application.currentMTProvider}),...Object(r.c)({selectedSentence:"application/getCurrentSelectedSentence",isSelectedSegmentTranslated:"application/isSelectedSegmentTranslated"}),subSections:e=>{var t;return null===(t=e.currentPageSection)||void 0===t?void 0:t.subSections},sourcePage:e=>e.$store.getters["mediawiki/getPage"](e.suggestion.sourceLanguage,e.suggestion.sourceTitle),originalSegmentContent:e=>e.isSectionTitleSelected?e.currentPageSection.originalTitle:e.selectedSentence.originalContent,sentenceSelectorStyle:e=>({height:isNaN(e.screenHeight)?e.screenHeight:e.screenHeight+"px"})},async mounted(){this.$store.dispatch("application/resetPublishResult"),await this.$store.dispatch("application/initializeMTProviders"),this.$store.dispatch("application/selectInitialTranslationSegment"),this.screenHeight=window.innerHeight,ea()},methods:{...Object(r.b)({skipTranslation:"application/selectNextSentence",selectPreviousSegment:"application/selectPreviousSegment"}),applyTranslation(){this.$store.dispatch("application/applyProposedTranslationToSelectedSegment")},bounceTranslation(){this.shouldProposedTranslationBounce=!0,setTimeout(()=>{this.shouldProposedTranslationBounce=!1},100)},goToContentComparator(){this.$router.push({name:"sx-content-comparator"})},configureTranslationOptions(){this.isTranslationOptionsActive=!0,this.$store.dispatch("application/translateSegmentForAllProviders")},editTranslation(e){this.$router.push({name:"sx-editor",params:{content:e,language:this.suggestion.targetLanguage,originalContent:this.originalSegmentContent}})},previewTranslation(){this.$router.push({name:"sx-publisher"})}}},_a={name:"SxSentenceSelectorView",components:{SxSentenceSelector:(n("83f9"),Object(u.a)(va,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"sx-sentence-selector fill-height column ma-0 no-wrap",style:e.sentenceSelectorStyle},[n("mw-row",{staticClass:"sx-sentence-selector__header ma-0 py-2"},[n("mw-col",{attrs:{shrink:""}},[n("mw-button",{staticClass:"px-3",attrs:{type:"icon",icon:e.mwIconArrowPrevious},on:{click:e.goToContentComparator}})],1),n("mw-col",{staticClass:"px-1",attrs:{grow:""}},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-sentence-selector-header-title",arg:"cx-sx-sentence-selector-header-title"}],staticClass:"sx-sentence-selector__header-title"})]),n("mw-col",{staticClass:"px-3",attrs:{shrink:""}},[n("mw-button",{attrs:{label:e.$i18n("cx-sx-sentence-selector-done-button-label"),disabled:!e.currentPageSection.isTranslated},on:{click:e.previewTranslation}})],1)],1),n("mw-row",{staticClass:"sx-sentence-selector__body fill-height ma-0",attrs:{tag:"section",direction:"column",align:"start",justify:"between"}},[n("mw-col",{staticClass:"sx-sentence-selector__section"},[n("sx-sentence-selector-content-header"),n("div",{staticClass:"sx-sentence-selector__section-contents px-4"},e._l(e.subSections,(function(t){return n("sub-section",{key:"sub-section-"+t.id,attrs:{id:t.id,"sub-section":t},on:{"bounce-translation":e.bounceTranslation}})})),1)],1),e.isSelectedSegmentTranslated?n("translated-segment-card",{on:{"edit-translation":e.editTranslation,"skip-translation":e.skipTranslation,"select-previous-segment":e.selectPreviousSegment}}):n("proposed-translation-card",{class:{"mb-0":!e.shouldProposedTranslationBounce},on:{"configure-options":e.configureTranslationOptions,"edit-translation":e.editTranslation,"apply-translation":e.applyTranslation,"skip-translation":e.skipTranslation,"select-previous-segment":e.selectPreviousSegment}})],1),n("sx-translation-selector",{attrs:{active:e.isTranslationOptionsActive},on:{"update:active":function(t){e.isTranslationOptionsActive=t}}})],1)}),[],!1,null,null,null)).exports},computed:{classes(){return{fullscreen:this.$mwui.breakpoint.mdAndDown}}}},ka=(n("f767"),Object(u.a)(_a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"sx-sentence-selector-view",class:e.classes},[n("sx-sentence-selector")],1)}),[],!1,null,null,null)).exports,Ia={name:"SxQuickTutorial",components:{MwButton:o.b,MwRow:o.o},data:()=>({mwIconArrowForward:We.c,totalSteps:2,activeStep:1,tutorialSvgMT:n("e1b0"),tutorialSvgSections:n("c69b")}),methods:{goToNextStep(){this.activeStep<this.totalSteps&&this.activeStep++},isActiveStep(e){return e===this.activeStep},completeTutorial(){this.$router.push({name:"sx-sentence-selector"})}}},Fa={name:"SxContentComparatorView",components:{SxQuickTutorial:(n("7fc4"),Object(u.a)(Ia,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"sx-quick-tutorial"},[n("mw-row",{staticClass:"sx-quick-tutorial__body-container ma-0",attrs:{direction:"column"}},[n("section",{staticClass:"sx-quick-tutorial__main-point py-9 px-6"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isActiveStep(1)?n("h2",{directives:[{name:"i18n",rawName:"v-i18n:sx-quick-tutorial-main-point-step-1",arg:"sx-quick-tutorial-main-point-step-1"}],key:"main-point-1",staticClass:"ma-0 pa-0"}):e._e(),e.isActiveStep(2)?n("h2",{directives:[{name:"i18n",rawName:"v-i18n:sx-quick-tutorial-main-point-step-2",arg:"sx-quick-tutorial-main-point-step-2"}],key:"main-point-2",staticClass:"ma-0 pa-0"}):e._e()])],1),n("section",{staticClass:"sx-quick-tutorial__illustration"},[n("transition",{attrs:{name:"mw-ui-animation-slide-left"}},[e.isActiveStep(1)?n("div",{key:"illustration-1",domProps:{innerHTML:e._s(e.tutorialSvgSections)}}):e._e(),e.isActiveStep(2)?n("div",{key:"illustration-2",domProps:{innerHTML:e._s(e.tutorialSvgMT)}}):e._e()])],1),n("div",{staticClass:"sx-quick-tutorial__step-indicator py-3"},e._l(e.totalSteps,(function(t){return n("span",{key:"dot-"+t,staticClass:"dot mx-1",class:{"dot-active":e.isActiveStep(t)},attrs:{role:"button"},on:{click:function(n){e.activeStep=t}}})})),0),n("section",{staticClass:"sx-quick-tutorial__secondary-point py-4 px-6"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isActiveStep(1)?n("h3",{directives:[{name:"i18n",rawName:"v-i18n:sx-quick-tutorial-secondary-point-step-1",arg:"sx-quick-tutorial-secondary-point-step-1"}],key:"secondary-point-1",staticClass:"ma-0"}):e._e(),e.isActiveStep(2)?n("h3",{directives:[{name:"i18n",rawName:"v-i18n:sx-quick-tutorial-secondary-point-step-2",arg:"sx-quick-tutorial-secondary-point-step-2"}],key:"secondary-point-2",staticClass:"ma-0"}):e._e()])],1),n("div",{staticClass:"sx-quick-tutorial__action-button pt-4 pb-6"},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[e.isActiveStep(1)?n("mw-button",{key:"quick-tutorial-action-button-1",staticClass:"px-8 mx-4",attrs:{icon:e.mwIconArrowForward,progressive:!0},on:{click:e.goToNextStep}}):e._e(),e.isActiveStep(2)?n("mw-button",{key:"quick-tutorial-action-button-2",staticClass:"mx-4",attrs:{label:e.$i18n("sx-quick-tutorial-translate-button-label"),progressive:!0},on:{click:e.completeTutorial}}):e._e()],1)],1)])],1)}),[],!1,null,null,null)).exports},computed:{classes(){return{fullscreen:this.$mwui.breakpoint.mdAndDown}}}},Da=(n("c5a8"),Object(u.a)(Fa,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"sx-quick-tutorial-view",class:e.classes},[n("sx-quick-tutorial")],1)}),[],!1,null,null,null)).exports,za={name:"SxEditorOriginalContent",components:{MwButton:o.b,MwCol:o.e,MwRow:o.o},props:{originalContent:{type:String,required:!0}},data:()=>({mwIconCollapse:We.k,mwIconExpand:We.o,originalContentCollapsed:!0,originalContentSegmentIndex:0,originalContentScrollHeight:0,originalContentLineHeight:0,dragStartHeight:0,dragStartY:0,dragIndicatorClickDisabled:!1,isDrawing:!1}),computed:{originalContentLinesLength(){return Math.round(this.originalContentScrollHeight/this.originalContentLineHeight)},isOriginalContentScrolledToEnd(){const e=Math.ceil(this.originalContentLinesLength/2);return this.originalContentSegmentIndex===e-1}},mounted(){this.$nextTick(()=>{this.originalContentScrollHeight=this.$refs.originalContent.scrollHeight,this.originalContentLineHeight=parseFloat(document.defaultView.getComputedStyle(this.$refs.originalContent,null).getPropertyValue("line-height"))}),this.$refs.dragIndicator.addEventListener("pointerdown",this.initiateDrag,!1)},methods:{onDragIndicatorClick(){this.dragIndicatorClickDisabled||this.toggleOriginalContent()},toggleOriginalContent(){this.$refs.originalContent.style.removeProperty("height"),this.originalContentCollapsed=!this.originalContentCollapsed,this.originalContentCollapsed&&(this.originalContentSegmentIndex=0,this.scrollOriginalSentence())},nextOriginalSentenceSegment(){this.originalContentSegmentIndex++,this.scrollOriginalSentence()},handleArrowUpClick(){this.originalContentCollapsed?(this.originalContentSegmentIndex--,this.scrollOriginalSentence()):this.toggleOriginalContent()},scrollOriginalSentence(){const e=this.originalContentSegmentIndex*this.originalContentLineHeight*2;this.$refs.originalContent.scroll(0,e)},initiateDrag(e){this.dragIndicatorClickDisabled=!1,this.dragStartY=e.clientY,this.dragStartHeight=parseInt(document.defaultView.getComputedStyle(this.$refs.originalContent).height,10),document.documentElement.addEventListener("pointermove",this.doDrag,!1),document.documentElement.addEventListener("pointerup",this.completeDrag,!1)},doDrag(e){this.dragIndicatorClickDisabled=!0,this.originalContentCollapsed=!1,this.$refs.originalContent.style.height=this.dragStartHeight+e.clientY-this.dragStartY+"px"},completeDrag(){document.documentElement.removeEventListener("pointermove",this.doDrag,!1),document.documentElement.removeEventListener("pointerup",this.completeDrag,!1)}}},Ja={name:"SxEditor",components:{SxEditorOriginalContent:(n("99a9"),Object(u.a)(za,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"px-4 pt-3 pb-2 sx-editor__original-sentence-panel"},[n("mw-row",{staticClass:"ma-0"},[n("mw-col",{attrs:{grow:""}},[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-editor-original-panel-label",arg:"cx-sx-editor-original-panel-label"}],staticClass:"sx-editor__original-sentence-panel__header mb-2"}),n("div",{ref:"originalContent",staticClass:"sx-editor__original-sentence-panel__content mb-5",class:{"sx-editor__original-sentence-panel__content--collapsed":e.originalContentCollapsed},domProps:{innerHTML:e._s(e.originalContent)}})]),n("mw-col",{staticClass:"ps-3",attrs:{shrink:""}},[n("mw-button",{staticClass:"sx-editor__original-sentence__pagination-control pa-0",attrs:{type:"icon",icon:e.mwIconCollapse,disabled:e.originalContentCollapsed&&0===e.originalContentSegmentIndex},on:{click:e.handleArrowUpClick}}),e.originalContentCollapsed?n("mw-button",{staticClass:"sx-editor__original-sentence__pagination-control pa-0 mt-5",attrs:{type:"icon",icon:e.mwIconExpand,disabled:e.isOriginalContentScrolledToEnd},on:{click:e.nextOriginalSentenceSegment}}):e._e()],1)],1),n("div",{ref:"dragIndicator",staticClass:"sx-editor__drag-indicator"},[n("span",{staticClass:"sx-editor__drag-indicator__icon",on:{click:e.onDragIndicatorClick}})])],1)}),[],!1,null,null,null)).exports,VisualEditor:Qi,MwSpinner:o.p},props:{fromRoute:{type:String,required:!0}},data:()=>({editorReady:!1}),computed:{content:e=>e.$route.params.content,language:e=>e.$route.params.language,originalContent:e=>e.$route.params.originalContent,isFinal:e=>!!e.$route.params.isFinalEdit},methods:{onEditorReady(){this.editorReady=!0},closeEditor(){this.$router.replace({name:this.fromRoute})},onEditCompleted(e){this.isFinal?(this.$store.commit("application/setCurrentSourceSectionEditedTranslation",e),this.$router.replace({name:"sx-publisher"})):(this.$store.dispatch("application/applyEditedTranslationToSelectedSegment",{translation:e}),this.closeEditor())}}},so={name:"SxContentComparatorView",components:{SxEditor:Object(u.a)(Ja,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"sx-editor"},[e.originalContent?n("sx-editor-original-content",{attrs:{"original-content":e.originalContent}}):e._e(),e.editorReady?e._e():n("mw-spinner"),n("visual-editor",{attrs:{content:e.content,language:e.language},on:{ready:e.onEditorReady,close:e.closeEditor,"edit-completed":e.onEditCompleted}})],1)}),[],!1,null,null,null).exports},data:()=>({fromRoute:""}),beforeRouteEnter(e,t,n){n(e=>{e.fromRoute=t.name})},computed:{classes:e=>({fullscreen:e.$mwui.breakpoint.mdAndDown})}},ao=(n("a50d"),Object(u.a)(so,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"sx-editor-view",class:e.classes},[n("sx-editor",{attrs:{"from-route":e.fromRoute}})],1)}),[],!1,null,null,null)).exports,mo={name:"SxPublisherHeader",components:{MwCol:o.e,MwButton:o.b,MwRow:o.o},data:()=>({mwIconClose:We.j,mwIconCheck:We.i}),methods:{onClose(){this.$router.push({name:"sx-sentence-selector"})}}},So=(n("1c5b"),Object(u.a)(mo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mw-row",{staticClass:"ma-0 sx-publisher__header"},[n("mw-col",{attrs:{shrink:""}},[n("mw-button",{attrs:{icon:e.mwIconClose,type:"icon",outlined:!1},on:{click:e.onClose}})],1),n("mw-col",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-publisher-header-title",arg:"cx-sx-publisher-header-title"}],staticClass:"ma-0",attrs:{grow:"",tag:"h5"}}),n("mw-col",{attrs:{shrink:""}},[n("mw-button",{attrs:{progressive:"",type:"button",icon:e.mwIconCheck},on:{click:function(t){return e.$emit("publish-translation")}}})],1)],1)}),[],!1,null,null,null)).exports,vo={name:"SxPublisherAnimationDialog",components:{MwDialog:o.f,MwRow:o.o,MwCol:o.e},props:{active:{type:Boolean,required:!0},status:{type:String,required:!0,validator:e=>["pending","success","failure","warning"].includes(e)}},data:e=>({animations:{pending:{svg:"publishing-launching.svg",title:e.$i18n("cx-sx-publisher-animation-publishing-indicator-title"),subtitle:e.$i18n("cx-sx-publisher-animation-publishing-indicator-subtitle")},success:{svg:"publishing-success.svg",title:e.$i18n("cx-sx-publisher-animation-success-message-title"),subtitle:e.$i18n("cx-sx-publisher-animation-success-message-subtitle")},failure:{svg:"publishing-failure.svg",title:e.$i18n("cx-sx-publisher-animation-failure-message-title"),subtitle:e.$i18n("cx-sx-publisher-animation-failure-message-subtitle")},warning:{svg:"publishing-failure.svg",title:e.$i18n("cx-sx-publisher-animation-failure-message-title"),subtitle:e.$i18n("cx-sx-publisher-animation-failure-message-subtitle")}}}),computed:{animationSvg:e=>n("4b31")("./"+e.animations[e.status].svg),animationTitle:e=>e.animations[e.status].title,animationSubtitle:e=>e.animations[e.status].subtitle}},bo=(n("9866"),Object(u.a)(vo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.active?n("mw-dialog",{staticClass:"sx-publisher__publish-animation",attrs:{"overlay-opacity":.85,header:!1}},[n("mw-row",{staticClass:"ma-4"},[n("mw-col",[n("div",{staticClass:"sx-publisher__publish-animation-icon mb-4",domProps:{innerHTML:e._s(e.animationSvg)}}),n("h2",{domProps:{textContent:e._s(e.animationTitle)}}),n("p",{staticClass:"ma-0",domProps:{textContent:e._s(e.animationSubtitle)}})])],1)],1):e._e()}),[],!1,null,null,null)).exports,yo={name:"SxPublishOptionSelector",components:{MwButton:o.b,MwRadioGroup:o.n,MwRadio:o.m,MwDivider:o.g,MwDialog:o.f},props:{active:{type:Boolean,required:!0}},data:()=>({mwIconArrowPrevious:We.e}),computed:{...Object(r.e)({selectedOption:e=>e.application.publishTarget}),publishOptions:e=>[{label:e.$i18n("cx-sx-publisher-new-section-option-label"),details:e.$i18n("cx-sx-publisher-new-section-option-details"),value:"NEW_SECTION"},{label:e.$i18n("cx-sx-publisher-sandbox-option-label"),details:e.$i18n("cx-sx-publisher-sandbox-option-details"),value:"SANDBOX_SECTION"}],overlayColor:e=>e.$mwui.colors.base10},methods:{optionMarginBottom(e){return e===this.publishOptions.length-1?"mb-1":"mb-4"},onPublishOptionsClose(){this.$emit("update:active",!1)},updateOption(e){this.$store.commit("application/setPublishTarget",e),this.onPublishOptionsClose()}}},Po=(n("250e"),Object(u.a)(yo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mw-dialog",{staticClass:"sx-publisher__publish-options",attrs:{value:e.active,title:"Publish options","overlay-opacity":.7,"overlay-color":e.overlayColor},on:{input:function(t){return e.$emit("update:active",t)},close:e.onPublishOptionsClose},scopedSlots:e._u([{key:"header",fn:function(){return[n("div",{staticClass:"mw-ui-dialog__header"},[n("div",{staticClass:"row ma-0 pa-4"},[n("div",{staticClass:"col shrink justify-center"},[n("mw-button",{staticClass:"pa-0",attrs:{type:"icon",icon:e.mwIconArrowPrevious},on:{click:e.onPublishOptionsClose}})],1),n("div",{staticClass:"col grow items-center mw-ui-dialog__header-title justify-start ps-2"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-publisher-preview-options-title",arg:"cx-sx-publisher-preview-options-title"}],staticClass:"mb-0"})])]),n("mw-divider")],1)]},proxy:!0}])},[n("div",{staticClass:"pa-4"},[n("mw-radio-group",{attrs:{value:e.selectedOption,name:"publish-options"},on:{input:e.updateOption}},[e._l(e.publishOptions,(function(t){return[n("mw-radio",{key:t.label+"-label",staticClass:"pa-0 my-1",attrs:{label:t.label,"input-value":t.value}}),n("p",{key:t.label+"-details",staticClass:"complementary ms-7 mt-0 mb-4",class:e.optionMarginBottom,domProps:{textContent:e._s(t.details)}})]}))],2)],1)])}),[],!1,null,null,null)).exports,Mo=n("b7c1"),Io={name:"SxPublisherReviewInfo",components:{MwButton:Mo.b,MwCol:Mo.e,MwRow:Mo.o,MwMessage:o.k,MwIcon:o.i},data:()=>({mwIconEye:We.p,mwIconAlert:We.b,mwIconBlock:We.g,mwIconCheck:We.i,activeMessageIndex:0}),computed:{...Object(r.e)({publishResult:e=>e.application.currentPublishResult}),infoText:e=>{var t,n;return e.publishResult.isSuccessful?null:null===(t=e.publishResult.messages)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.text},activeMessage:e=>{var t;return null===(t=e.publishResult.messages.filter(e=>!e.suppressed))||void 0===t?void 0:t[e.activeMessageIndex]},status:e=>e.publishResult.reviewInfoStatus,reviewIcon:e=>{switch(e.status){case"warning":return e.mwIconAlert;case"error":return e.mwIconBlock;default:return e.mwIconEye}},reviewInfoClass:e=>"sx-publisher__review-info--"+e.messageType,isMessageInline:e=>"default"===e.status,messageType:e=>e.isMessageInline?"notice":e.status,messageText:e=>{var t;return null===(t=e.activeMessage)||void 0===t?void 0:t.text},messageTitle:e=>{var t;return(null===(t=e.activeMessage)||void 0===t?void 0:t.title)||e.$i18n("cx-sx-publisher-review-info-error")}},methods:{suppressWarning(){this.activeMessage.suppressed=!0}}},jo={name:"SxPublisher",components:{SxPublisherReviewInfo:(n("92fe"),Object(u.a)(Io,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("mw-message",{staticClass:"sx-publisher__review-info ma-0 pa-4",class:e.reviewInfoClass,attrs:{type:e.messageType,inline:e.isMessageInline}},[n("template",{slot:"icon"},[n("mw-icon",{staticClass:"col shrink mw-ui-message__icon pe-3 items-start",attrs:{icon:e.reviewIcon}})],1),n("div",{staticClass:"sx-publisher__review-info__content"},["default"===e.status?[n("p",{directives:[{name:"i18n-html-safe",rawName:"v-i18n-html-safe:cx-sx-publisher-review-info",arg:"cx-sx-publisher-review-info"}],staticClass:"complementary ma-0"})]:[n("h5",{domProps:{textContent:e._s(e.messageTitle)}}),n("p",{domProps:{textContent:e._s(e.messageText)}}),n("mw-row",{staticClass:"ma-0",attrs:{justify:"between"}},[n("mw-col",[n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-publisher-review-info-learn-more",arg:"cx-sx-publisher-review-info-learn-more"}],staticClass:"sx-publisher__review-info__learn-more-anchor",attrs:{href:"#"}})]),e.publishResult.isWarning?n("mw-col",{attrs:{shrink:""}},[n("mw-button",{staticClass:"sx-publisher__review-info__suppress-warning-button",attrs:{type:"icon",icon:e.mwIconCheck},on:{click:e.suppressWarning}})],1):e._e()],1)]],2)],2)}),[],!1,null,null,null)).exports,SxPublishOptionSelector:Po,SxPublisherAnimationDialog:bo,MwButton:o.b,SxPublisherHeader:So,MwRow:o.o,MwCol:o.e},data:()=>({mwIconSettings:We.A,mwIconEdit:We.l,isPublishDialogActive:!1,publishStatus:"pending",publishOptionsOn:!1}),computed:{...Object(r.e)({suggestion:e=>e.application.currentSectionSuggestion,currentPageSection:e=>e.application.currentSourceSection,publishTarget:e=>e.application.publishTarget,publishResult:e=>e.application.currentPublishResult}),translatedTitle:e=>{var t;return null===(t=e.currentPageSection)||void 0===t?void 0:t.title},panelResult:e=>"NEW_SECTION"===e.publishTarget?e.$i18n("cx-sx-publisher-publish-panel-new-section-result"):e.$i18n("cx-sx-publisher-publish-panel-sandbox-section-result")},methods:{decodeHtml:e=>{const t=document.createElement("div");return t.innerHTML=e,t.innerText},configureTranslationOptions(){this.publishOptionsOn=!0},handlePublishResult(){if(!this.publishResult.isSuccessful)return;const e=P(this.suggestion.targetTitle,this.publishTarget);this.$store.commit("application/setTranslationInProgress",!1),window.location.href=pn(""+e,{"sx-published-section":this.decodeHtml(this.translatedTitle),"sx-source-page-title":this.decodeHtml(this.suggestion.sourceTitle),"sx-source-language":this.suggestion.sourceLanguage,"sx-target-language":this.suggestion.targetLanguage})},async publishTranslation(){this.publishStatus="pending",this.isPublishDialogActive=!0,await this.$store.dispatch("translator/publishTranslation"),this.publishStatus=this.publishResult.result,setTimeout(()=>{this.isPublishDialogActive=!1,this.handlePublishResult()},1e3)},editTranslation(){this.$router.push({name:"sx-editor",params:{content:this.currentPageSection.translationHtml,language:this.suggestion.targetLanguage,isFinalEdit:!0}})}}},Vo={name:"SxPublisherView",components:{SxPublisher:(n("d536"),Object(u.a)(jo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("section",{staticClass:"sx-publisher"},[n("sx-publisher-header",{on:{"publish-translation":e.publishTranslation}}),n("div",{staticClass:"sx-publisher__publish-panel pa-4"},[n("h5",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-publisher-publish-panel-new-section-status",arg:"cx-sx-publisher-publish-panel-new-section-status"}],staticClass:"mb-2"}),n("h6",{staticClass:"mb-2",domProps:{innerHTML:e._s(e.panelResult)}}),n("mw-row",{staticClass:"ma-0",attrs:{justify:"end"}},[n("mw-col",{attrs:{shrink:""}},[n("mw-button",{staticClass:"pa-0 mx-1",attrs:{type:"icon",icon:e.mwIconSettings},on:{click:e.configureTranslationOptions}})],1)],1)],1),n("sx-publisher-review-info"),n("section",{staticClass:"sx-publisher__section-preview pa-5"},[n("mw-row",{staticClass:"pb-5 ma-0"},[n("mw-col",{staticClass:"sx-publisher__section-preview__title ma-0",attrs:{tag:"h2",grow:""},domProps:{innerHTML:e._s(e.translatedTitle)}}),n("mw-col",{attrs:{shrink:""}},[n("mw-button",{attrs:{icon:e.mwIconEdit,type:"icon"},on:{click:e.editTranslation}})],1)],1),n("div",{domProps:{innerHTML:e._s(e.currentPageSection.translationHtml)}})],1),n("sx-publish-option-selector",{attrs:{active:e.publishOptionsOn},on:{"update:active":function(t){e.publishOptionsOn=t}}}),n("sx-publisher-animation-dialog",{attrs:{active:e.isPublishDialogActive,status:e.publishStatus}})],1)}),[],!1,null,null,null)).exports},computed:{classes(){return{fullscreen:this.$mwui.breakpoint.mdAndDown}}}},Uo=(n("9d3c"),Object(u.a)(Vo,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("main",{staticClass:"sx-publisher-view",class:e.classes},[n("sx-publisher")],1)}),[],!1,null,null,null)).exports;s.a.use(De.a);const Go=[{path:"",name:"dashboard",component:jt,params:!0,meta:{workflowStep:0}},{path:"/sx",name:"sx-article-selector",component:bn,params:!0,meta:{workflowStep:1}},{path:"/sx/section-selector",name:"sx-section-selector",component:gs,params:!0,meta:{workflowStep:2}},{path:"/sx/content-comparator",name:"sx-content-comparator",component:oi,params:!0,meta:{workflowStep:3}},{path:"/sx/quick-tutorial",name:"sx-quick-tutorial",component:Da,params:!0,meta:{workflowStep:3.5}},{path:"/sx/sentence-selector",name:"sx-sentence-selector",component:ka,params:!0,meta:{workflowStep:4}},{path:"/sx/sx-editor",name:"sx-editor",component:ao,params:!0,meta:{workflowStep:4.5}},{path:"/sx/sx-publisher",name:"sx-publisher",component:Uo,params:!0,meta:{workflowStep:5}},{path:"*",name:"404",component:jt,params:!0,meta:{workflowStep:0}}],Xo=new De.a({mode:"hash",routes:Go});Xo.beforeEach((e,t,n)=>{if(e.params.force)return void n();const s=t.meta.workflowStep,i=e.meta.workflowStep;if(isNaN(s)&&i>0)return void n({name:"dashboard"});if(Math.ceil(i)-Math.floor(s)>1){const e=Math.ceil(i)-1;n({name:Go.find(t=>t.meta.workflowStep===e).name})}else n()});var Yo=Xo,Wo={namespaced:!0,state:Fe,getters:{getCurrentPage:(e,t,n,s)=>s["mediawiki/getPage"](e.currentSectionSuggestion.sourceLanguage,e.currentSectionSuggestion.sourceTitle),getCurrentTargetPage:(e,t,n,s)=>s["mediawiki/getPage"](e.currentSectionSuggestion.targetLanguage,e.currentSectionSuggestion.targetTitle),getCurrentSourceSectionTitle:e=>{var t;return(null===(t=e.currentSourceSection)||void 0===t?void 0:t.originalTitle)||""},getCurrentSourceSectionAnchor:(e,t)=>(t.getCurrentSourceSectionTitle||"").replace(/ /g,"_"),getCurrentSourceSectionSentences:e=>{var t;return(null===(t=e.currentSourceSection)||void 0===t?void 0:t.sentences)||[]},isCurrentSentenceLast:(e,t)=>t.getCurrentSelectedSentenceIndex===t.getCurrentSourceSectionSentences.length-1,isCurrentSentenceFirst:(e,t)=>0===t.getCurrentSelectedSentenceIndex,isCurrentSourceSectionMissing:(e,t)=>{var n;return null===(n=e.currentSectionSuggestion)||void 0===n?void 0:n.missingSections.hasOwnProperty(t.getCurrentSourceSectionTitle)},isCurrentSourceSectionPresent:(e,t)=>{var n;return null===(n=e.currentSectionSuggestion)||void 0===n?void 0:n.presentSections.hasOwnProperty(t.getCurrentSourceSectionTitle)},getCurrentSelectedSentence:(e,t)=>t.getCurrentSourceSectionSentences.find(e=>e.selected),getCurrentSelectedSentenceIndex:(e,t)=>t.getCurrentSourceSectionSentences.findIndex(e=>e.selected),getCurrentProposedTitleTranslation:e=>{var t;return(null===(t=e.currentSourceSection)||void 0===t?void 0:t.proposedTitleTranslations[e.currentMTProvider])||""},getCurrentProposedSentenceTranslation:(e,t)=>{var n;return(null===(n=t.getCurrentSelectedSentence)||void 0===n?void 0:n.proposedTranslations[e.currentMTProvider])||""},getCurrentProposedTranslation:(e,t)=>e.isSectionTitleSelectedForTranslation?t.getCurrentProposedTitleTranslation:t.getCurrentProposedSentenceTranslation,getCurrentLanguageTitleGroup:(e,t,n,s)=>s["mediawiki/getLanguageTitleGroup"](e.currentSectionSuggestion.sourceLanguage,e.currentSectionSuggestion.sourceTitle),isSelectedSegmentTranslated:(e,t)=>{var n;return e.isSectionTitleSelectedForTranslation?!!e.currentSourceSection.translatedTitle:!(null===(n=t.getCurrentSelectedSentence)||void 0===n||!n.isTranslated)},getCurrentPageSuggestions:(e,t,n,s)=>s["suggestions/getPageSuggestionsForPair"](e.sourceLanguage,e.targetLanguage),getCurrentSectionSuggestions:(e,t,n,s)=>s["suggestions/getSectionSuggestionsForPair"](e.sourceLanguage,e.targetLanguage),getCurrentPublishedTranslations:(e,t,n,s)=>s["translator/getPublishedTranslationsForLanguagePair"](e.sourceLanguage,e.targetLanguage)},actions:{async getCXServerToken({dispatch:e,state:t,commit:n}){var s,i;t.cxServerToken||await $e.fetchCXServerToken().then(e=>{e.age<=30&&(e.age=3600);const t=Math.floor(Date.now()/1e3);e.refreshAt=t+e.age-30,n("setCXServerToken",e)},e=>{if("token-impossible"===e){const e=Math.floor(Date.now()/1e3);n("setCXServerToken",{jwt:"",refreshAt:e+36e3})}});const a=Math.floor(Date.now()/1e3);return(null===(s=t.cxServerToken)||void 0===s?void 0:s.refreshAt)<=a?(n("setCXServerToken",null),e("getCXServerToken")):null===(i=t.cxServerToken)||void 0===i?void 0:i.jwt},async initializeDashboardContext({dispatch:e,state:t}){e("mediawiki/fetchLanguages",{},{root:!0}),e("mediawiki/fetchSupportedLanguageCodes",{},{root:!0});const n=await e("loadSectionSuggestionFromUrl");if(n)return void e("startSectionTranslation",n);await e("translator/fetchTranslations",{},{root:!0});const{sourceLanguage:s,targetLanguage:i}=t;await e("suggestions/fetchAppendixSectionTitles",i,{root:!0}),e("suggestions/fetchSuggestions",{sourceLanguage:s,targetLanguage:i},{root:!0})},startSectionTranslation({commit:e,dispatch:t},n){t("initializeSectionTranslation",n),Yo.push({name:"sx-article-selector"})},initializeSectionTranslation({commit:e,dispatch:t,state:n},s){t("getCXServerToken"),e("setCurrentSectionSuggestion",s)},async updateSourceLanguage({commit:e,state:t,getters:n,dispatch:s},i){if(e("setSourceLanguage",i),i===t.targetLanguage&&e("setTargetLanguage",null),!t.currentSectionSuggestion)return void s("suggestions/fetchSuggestions",{sourceLanguage:i,targetLanguage:t.targetLanguage},{root:!0});const a=n.getCurrentLanguageTitleGroup.getTitleForLanguage(i);let o=new J({sourceLanguage:i,targetLanguage:t.targetLanguage,sourceTitle:a,missing:{}});n.getCurrentLanguageTitleGroup.hasLanguage(t.targetLanguage)&&(o=await s("suggestions/loadSectionSuggestion",o,{root:!0})),s("initializeSectionTranslation",o)},async updateTargetLanguage({commit:e,state:t,getters:n,dispatch:s},i){if(e("setTargetLanguage",i),!t.currentSectionSuggestion)return void s("suggestions/fetchSuggestions",{sourceLanguage:t.sourceLanguage,targetLanguage:i},{root:!0});let a=new J({sourceLanguage:t.sourceLanguage,targetLanguage:i,sourceTitle:t.currentSectionSuggestion.sourceTitle,missing:{}});n.getCurrentLanguageTitleGroup.hasLanguage(i)&&(a=await s("suggestions/loadSectionSuggestion",a,{root:!0})),s("initializeSectionTranslation",a)},async loadSectionSuggestionFromUrl({commit:e,rootGetters:t,state:n,dispatch:s}){const i=new URLSearchParams(location.search),a=i.get("sx"),o=i.get("page"),r=i.get("from"),c=i.get("to"),l=mw.config.get("wgSectionTranslationTargetLanguage");if(l||c&&e("setTargetLanguage",c),r!==l&&r&&e("setSourceLanguage",r),!a||!o)return;let u=t["suggestions/getSectionSuggestionsForArticle"](n.sourceLanguage,n.targetLanguage,o);return u||(u=await s("createNewSectionSuggestion",o)),u},async createNewSectionSuggestion({dispatch:e,state:t},n){let s=new J({sourceLanguage:t.sourceLanguage,targetLanguage:t.targetLanguage,sourceTitle:n,missing:{}});return s=await e("suggestions/loadSectionSuggestion",s,{root:!0}),s},async fetchCurrentSectionSuggestionLanguageTitles({dispatch:e,state:t}){const{sourceLanguage:n,sourceTitle:s}=t.currentSectionSuggestion,i={language:n,title:s};await e("mediawiki/fetchLanguageTitles",i,{root:!0})},setTranslationURLParams({state:e}){var t,n,s;if(!history.pushState)return;let i=new URL(location.href);const a=new URLSearchParams(location.search);a.set("page",null===(t=e.currentSectionSuggestion)||void 0===t?void 0:t.sourceTitle),a.set("from",null===(n=e.currentSectionSuggestion)||void 0===n?void 0:n.sourceLanguage),a.set("to",null===(s=e.currentSectionSuggestion)||void 0===s?void 0:s.targetLanguage),a.set("sx",!0),i.search=a,i=i.toString(),history.replaceState({url:i},null,i)},setCurrentSectionSuggestion({commit:e},t){e("setCurrentSectionSuggestion",t)},async selectPageSection({state:e,commit:t,dispatch:n,rootGetters:s,getters:i},{sectionTitle:a}){const o=e.currentSectionSuggestion,r=i.getCurrentPage;let c=s["mediawiki/getPageSection"](r,a);c||(await n("mediawiki/fetchPageSections",o,{root:!0}),c=s["mediawiki/getPageSection"](r,a)),t("setCurrentSourceSection",c)},selectSentenceForCurrentSection({commit:e,dispatch:t,state:n},{id:s}){e("clearSentenceSelection"),e("setIsSectionTitleSelectedForTranslation",!1),s&&(e("selectSentence",s),t("translateSelectedSegment",{provider:n.currentMTProvider}))},applyTranslationToSelectedSegment({state:e,commit:t,dispatch:n},{translation:s}){t("setTranslationInProgress",!0);t(e.isSectionTitleSelectedForTranslation?"setCurrentSourceSectionTitleTranslation":"setSelectedSentenceTranslation",s),n("selectNextSentence")},applyProposedTranslationToSelectedSegment({dispatch:e,getters:t}){e("applyTranslationToSelectedSegment",{translation:t.getCurrentProposedTranslation})},applyEditedTranslationToSelectedSegment({state:e,dispatch:t},{translation:n}){const s=document.createElement("div");s.innerHTML=n,s.querySelectorAll(".sx-edit-dummy-node").forEach(e=>e.remove()),t("applyTranslationToSelectedSegment",{translation:n=s.innerHTML})},selectNextSentence({getters:e,dispatch:t,commit:n}){n("setIsSectionTitleSelectedForTranslation",!1);const s=e.getCurrentSourceSectionSentences,i=e.getCurrentSelectedSentenceIndex+1;i>=s.length||t("selectSentenceForCurrentSection",s[i])},selectPreviousSegment({getters:e,dispatch:t}){if(e.isCurrentSentenceFirst)return void t("selectSectionTitleForTranslation");const n=e.getCurrentSourceSectionSentences;let s=e.getCurrentSelectedSentenceIndex;s=(s+n.length-1)%n.length,t("selectSentenceForCurrentSection",n[s])},async initializeMTProviders({state:e,dispatch:t,rootGetters:n,commit:s}){const{sourceLanguage:i,targetLanguage:a}=e.currentSectionSuggestion;await t("mediawiki/fetchMTProviders",{sourceLanguage:i,targetLanguage:a},{root:!0});const o=n["mediawiki/getSupportedMTProviders"](i,a),r=e.currentMTProvider;r&&o.includes(r)||s("setCurrentMTProvider",o[0])},updateMTProvider({commit:e,dispatch:t},{provider:n}){e("setCurrentMTProvider",n),t("translateSelectedSegment",n)},selectInitialTranslationSegment({getters:e,commit:t,state:n,dispatch:s}){e.getCurrentSelectedSentence||(t("setIsSectionTitleSelectedForTranslation",!0),s("translateSelectedSegment",{provider:n.currentMTProvider}))},selectSectionTitleForTranslation({commit:e}){e("clearSentenceSelection"),e("setIsSectionTitleSelectedForTranslation",!0)},translateSelectedSegment({getters:e,commit:t,state:n,dispatch:s},{provider:i}){s("translateFollowingSentence",{provider:i}),n.isSectionTitleSelectedForTranslation?s("translateSectionTitle",{provider:i}):s("translateSelectedSentence",{provider:i})},async translateSectionTitle({state:e,getters:t,dispatch:n},{provider:i}){if(e.currentSourceSection.translatedTitle)return;const{sourceLanguage:a,targetLanguage:o}=e.currentSectionSuggestion,r=e.currentSourceSection.originalTitle,c=await n("mediawiki/translateSegment",{sourceLanguage:a,targetLanguage:o,provider:i,originalContent:r},{root:!0});s.a.set(e.currentSourceSection.proposedTitleTranslations,i,c)},async translateSelectedSentence({getters:e,dispatch:t,state:n},{provider:i}){const a=e.getCurrentSelectedSentence;if(!a||a.proposedTranslations[i])return;const{sourceLanguage:o,targetLanguage:r}=n.currentSectionSuggestion,{originalContent:c}=a,l=await t("mediawiki/translateSegment",{sourceLanguage:o,targetLanguage:r,provider:i,originalContent:c},{root:!0});s.a.set(a.proposedTranslations,i,l)},async translateFollowingSentence({getters:e,dispatch:t,state:n},{provider:i}){const a=e.getCurrentSelectedSentenceIndex+1,o=e.getCurrentSourceSectionSentences;if(a>=o.length)return;const r=o[a],{sourceLanguage:c,targetLanguage:l}=n.currentSectionSuggestion,{originalContent:u}=r,g=await t("mediawiki/translateSegment",{sourceLanguage:c,targetLanguage:l,provider:i,originalContent:u},{root:!0});s.a.set(r.proposedTranslations,i,g)},translateSegmentForAllProviders({rootGetters:e,dispatch:t}){const{sourceLanguage:n,targetLanguage:s}=state.currentSectionSuggestion;e["mediawiki/getSupportedMTProviders"](n,s).forEach(e=>t("translateSelectedSegment",{provider:e}))},clearCurrentSectionSuggestion({commit:e}){e("setCurrentSectionSuggestion",null)},setPublishResult({commit:e},t){e("setPublishResult",t)},resetPublishResult({commit:e}){e("resetPublishResult")}},mutations:{resetPublishResult(e){e.currentPublishResult=new v},setPublishResult(e,t){e.currentPublishResult=new v(t)},setCurrentSectionSuggestion(e,t){e.currentSectionSuggestion=t},setCurrentSourceSection(e,t){e.currentSourceSection=t},setCurrentSourceSectionTitleTranslation(e,t){e.currentSourceSection.translatedTitle=t},setCurrentSourceSectionEditedTranslation(e,t){e.currentSourceSection.editedTranslation=t},clearSentenceSelection(e){const t=e.currentSourceSection.sentences.find(e=>e.selected);t&&(t.selected=!1)},selectSentence(e,t){e.currentSourceSection.sentences.find(e=>e.id===t).selected=!0},setSelectedSentenceTranslation(e,t){e.currentSourceSection.sentences.find(e=>e.selected).translatedContent=t},setIsSectionTitleSelectedForTranslation:(e,t)=>{e.isSectionTitleSelectedForTranslation=t},setCurrentMTProvider:(e,t)=>{e.currentMTProvider=t},setSourceLanguage:(e,t)=>{e.sourceLanguage=t},setTargetLanguage:(e,t)=>{e.targetLanguage=t},setPublishTarget:(e,t)=>{if(!["NEW_SECTION","SANDBOX_SECTION"].includes(t))throw"Invalid publish target";e.publishTarget=t},setTranslationInProgress:(e,t)=>{e.translationInProgress=t},setCXServerToken:(e,t)=>{e.cxServerToken=t}}};s.a.use(r.a);var Zo=new r.a.Store({modules:{translator:Y,suggestions:ue,mediawiki:je,application:Wo}}),Jo=n("5093"),Qo=n.n(Jo),er=n("3899");s.a.directive("i18n-html-safe",(function(e,t){let n;if(Array.isArray(t.value)){if(void 0===t.arg)throw new Error("v-i18n-html-safe used with parameter array but without message key");n=mw.message(t.arg).params(t.value)}else n=t.value instanceof mw.Message?t.value:mw.message(t.arg||t.value);e.innerHTML=n.parse()})),s.a.use(er.a),s.a.use(er.b);const tr=mw.config.get("wgUserLanguage"),sr=mw.messages.values||{};s.a.prototype.$incompleteVersion=!0,s.a.use(Qo.a,{locale:tr,finalFallback:"en",messages:sr,wikilinks:!0}),new s.a({store:Zo,router:Yo,el:"#contenttranslation",render:e=>e(d)})},5827:function(e,t,n){},"58c6":function(e,t,n){"use strict";n("4c90")},"5aee":function(e,t,n){"use strict";n("f96a")},"5cce":function(e,t){e.exports='<svg width="136px" height="136px" viewBox="0 0 136 136" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>publishing-success</title> <defs> <polygon id="path-1" points="29.5385666 61.8098361 10.7522184 42.6688525 4.4 49.1409836 29.5385666 74.8 83.6 19.7180328 77.2477816 13.2"></polygon> </defs> <g id="publishing-success" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Group" fill="#D5FDF4"> <circle id="Oval" cx="68" cy="68" r="68"></circle> </g> <g id="🔣-Icon/Interactions/check" transform="translate(24.000000, 24.000000)"> <mask id="mask-2" fill="white"> <use xlink:href="#path-1"></use> </mask> <use id="Mask" fill="#000000" fill-rule="evenodd" xlink:href="#path-1"></use> <g id="🎨-Color/Green50-#00af89" mask="url(#mask-2)" fill="#00AF89" fill-rule="evenodd"> <rect id="Rectangle-1" x="0" y="0" width="88" height="88"></rect> </g> </g> </g> </svg>'},6208:function(e,t,n){},"63ac":function(e,t,n){"use strict";n("11f4")},"64ab":function(e,t,n){},"64fd":function(e,t,n){},"67bb":function(e,t,n){},"6c2a":function(e,t,n){"use strict";n("f4c0")},"74c7":function(e,t,n){},7989:function(e,t,n){},"79b2":function(e,t,n){},"7c55":function(e,t,n){"use strict";n("2395")},"7e70":function(e,t,n){},"7fc4":function(e,t,n){"use strict";n("f4af")},"804d":function(e,t,n){"use strict";n("ba1c")},8295:function(e,t,n){},"83a6":function(e,t,n){},"83f9":function(e,t,n){"use strict";n("8295")},"85be":function(e,t){SectionTranslationTarget=function e(t,n){this.overlay=t,this.$overlaySurface=t.querySelector(".surface"),(n=n||{}).toolbarConfig=$.extend({actions:!1},n.toolbarConfig),this.config=n,e.super.call(this,t,n),this.section=n.section,this.$element.addClass("sx-ve-translation-target")},OO.inheritClass(SectionTranslationTarget,ve.init.mw.MobileArticleTarget),SectionTranslationTarget.prototype.getContentApi=function(e,t){return this.config.siteMapper.getApi(this.config.language,t)},SectionTranslationTarget.prototype.loadFail=function(e,t){SectionTranslationTarget.super.prototype.loadFail.apply(this,arguments),window.history.back(),mw.notify(this.extractErrorMessages(t))},SectionTranslationTarget.prototype.back=function(){this.config.onBack()},SectionTranslationTarget.prototype.next=function(){this.config.onNext()},SectionTranslationTarget.prototype.setupToolbar=function(e){var t=this.toolbarGroups;this.toolbarGroups=[].concat([{name:"back",include:["back"]}],this.toolbarGroups,[{name:"next",type:"bar",include:["showMobileNext"]}]),ve.init.mw.MobileArticleTarget.super.prototype.setupToolbar.call(this,e),this.toolbarGroups=t,this.toolbar.$group.addClass("ve-init-mw-mobileArticleTarget-editTools"),this.toolbar.$element.addClass("ve-init-mw-mobileArticleTarget-toolbar")},SectionTranslationTarget.prototype.setupToolbarSaveButton=function(){},SectionTranslationTarget.prototype.updateToolbarSaveButtonState=function(){},SectionTranslationTarget.prototype.done=function(){this.getSurface().getModel().setNullSelection(),this.getSurface().getView().blur()},ve.init.mw.targetFactory.register(SectionTranslationTarget),e.exports=SectionTranslationTarget},"85d3":function(e,t,n){},8789:function(e,t,n){},"898f":function(e,t,n){},"92fe":function(e,t,n){"use strict";n("da03")},"94f9":function(e,t,n){},9866:function(e,t,n){"use strict";n("ce33")},"99a9":function(e,t,n){"use strict";n("02cc")},"9bc3":function(e,t,n){"use strict";n("64ab")},"9c2c":function(e,t){SXEditorNextTool=function e(){e.super.apply(this,arguments)},OO.inheritClass(SXEditorNextTool,ve.ui.Tool),SXEditorNextTool.static.name="showMobileNext",SXEditorNextTool.static.icon="next",SXEditorNextTool.static.flags=["primary","progressive"],SXEditorNextTool.static.group="navigation",SXEditorNextTool.static.displayBothIconAndLabel=!1,SXEditorNextTool.static.commandName="next",SXEditorNextTool.prototype.onUpdateState=function(){SXEditorNextTool.super.prototype.onUpdateState.apply(this,arguments),this.setActive(!0),this.setDisabled(!1)},ve.ui.toolFactory.register(SXEditorNextTool),e.exports=SXEditorNextTool},"9d3c":function(e,t,n){"use strict";n("a216")},a216:function(e,t,n){},a265:function(e,t,n){},a381:function(e,t,n){},a50d:function(e,t,n){"use strict";n("50f1")},a6e7:function(e,t,n){},a8dd:function(e,t,n){},b3ed:function(e,t){e.exports='<svg width="136px" height="136px" viewBox="0 0 136 136" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>publishing-failure</title> <g id="publishing-failure" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Group" fill="#FEE7E6"> <circle id="Oval" cx="68" cy="68" r="68"></circle> </g> <path d="M68,24 C43.6994698,24 24,43.6994844 24,68 C24,92.3005302 43.6994747,112 68,112 C92.3005156,112 112,92.3005302 112,68 C112,43.6994844 92.3005156,24 68,24 Z M92.4444444,72.8888889 L43.5555556,72.8888889 L43.5555556,63.1111111 L92.4444444,63.1111111 L92.4444444,72.8888889 Z" id="Mask" fill="#DD3333"></path> </g> </svg>'},b4c7:function(e,t,n){"use strict";n("6208")},b7c7:function(e,t,n){"use strict";n("79b2")},ba1c:function(e,t,n){},bc1b:function(e,t,n){"use strict";n("85d3")},bd9f:function(e,t,n){"use strict";n("a265")},c34a:function(e,t,n){"use strict";n("7989")},c3e3:function(e,t,n){"use strict";n("51f3")},c5a8:function(e,t,n){"use strict";n("64fd")},c69b:function(e,t){e.exports='<svg width="375px" height="200px" viewBox="0 0 375 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>illustration-sections</title> <defs> <rect id="path-1" x="0" y="0" width="137" height="174"></rect> <filter x="-3.6%" y="-2.3%" width="107.3%" height="105.7%" filterUnits="objectBoundingBox" id="filter-2"> <feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1.5" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feComposite in="shadowBlurOuter1" in2="SourceAlpha" operator="out" result="shadowBlurOuter1"></feComposite> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-3" x="0.17674259" y="0.678736183" width="75" height="5"></rect> <filter x="-5.3%" y="-40.0%" width="110.7%" height="260.0%" filterUnits="objectBoundingBox" id="filter-4"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-5" x="1.05473569" y="20.5842412" width="75" height="5"></rect> <filter x="-5.3%" y="-40.0%" width="110.7%" height="260.0%" filterUnits="objectBoundingBox" id="filter-6"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-7" x="0.745148663" y="10.1485258" width="75" height="5"></rect> <filter x="-5.3%" y="-40.0%" width="110.7%" height="260.0%" filterUnits="objectBoundingBox" id="filter-8"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-9" x="0.526966096" y="31.3803116" width="33" height="5"></rect> <filter x="-12.1%" y="-40.0%" width="124.2%" height="260.0%" filterUnits="objectBoundingBox" id="filter-10"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-11" x="0.17674259" y="0.678736183" width="75" height="5"></rect> <filter x="-5.3%" y="-40.0%" width="110.7%" height="260.0%" filterUnits="objectBoundingBox" id="filter-12"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-13" x="1.05473569" y="20.5842412" width="75" height="5"></rect> <filter x="-5.3%" y="-40.0%" width="110.7%" height="260.0%" filterUnits="objectBoundingBox" id="filter-14"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-15" x="0.745148663" y="10.1485258" width="75" height="5"></rect> <filter x="-5.3%" y="-40.0%" width="110.7%" height="260.0%" filterUnits="objectBoundingBox" id="filter-16"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <rect id="path-17" x="0.526966096" y="31.3803116" width="33" height="5"></rect> <filter x="-12.1%" y="-40.0%" width="124.2%" height="260.0%" filterUnits="objectBoundingBox" id="filter-18"> <feOffset dx="0" dy="2" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset> <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur> <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.19958673 0" type="matrix" in="shadowBlurOuter1"></feColorMatrix> </filter> <path d="M119.009619,18.1031535 C119.009619,17.0036819 119.909183,16.0733946 120.999588,16.0261337 L247.01965,10.5641077 C248.11868,10.516473 249.009619,11.3786871 249.009619,12.4772391 L249.009619,45.6663508 C249.009619,46.7705789 248.110054,47.6267431 247.01965,47.5794823 L120.999588,42.1174562 C119.900558,42.0698215 119.009619,41.1390215 119.009619,40.0404364 L119.009619,18.1031535 Z" id="path-19"></path> <pattern id="pattern-20" width="30" height="30" x="89.0096189" y="-19.4282032" patternUnits="userSpaceOnUse"> <use xlink:href="#image-21"></use> </pattern> <image id="image-21" width="30" height="30" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAP1JREFUSA3t1V0OgyAMAOC1Hmu7giHhXQ/n9mw0XmG7xm6izpphBAENk/IyXgxJ06/lT2ia5p1lWZnn+fPiGG3bXsdxvJ8ZBzGSHikSqMkU+AynwBeYG9dgTnwDc+FWmAN3wrFx7LruRohtCCFeAFD0fV+dHYcxkh4p8v9ynfoj8L3Z2qnmfLM1mE72F38Mw1BIKfd+lcFxaF4jukKEImJV17X3qv0St+lYFUIo4VPy0td5aJwTpgJCk6rize86H9LEDFBz6pQ63lv2kLgpp38vQ5IeaQbW7cfYS7V65nfe4xT4cri48QWmpeDENZgT38BcuBXmwJ1wbDzZy/UBR/bTV8buNroAAAAASUVORK5CYII="></image> <path d="M113.1747,17.4559811 C113.1747,16.3565095 114.074265,15.4262222 115.164669,15.3789613 L241.184731,9.91693528 C242.283761,9.86930059 243.1747,10.7315147 243.1747,11.8300667 L243.1747,45.0191784 C243.1747,46.1234065 242.275136,46.9795707 241.184731,46.9323099 L115.164669,41.4702838 C114.065639,41.4226491 113.1747,40.4918491 113.1747,39.393264 L113.1747,17.4559811 Z" id="path-22"></path> <pattern id="pattern-23" width="30" height="30" x="83.1747" y="-20.0753756" patternUnits="userSpaceOnUse"> <use xlink:href="#image-24"></use> </pattern> <image id="image-24" width="30" height="30" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAP1JREFUSA3t1V0OgyAMAOC1Hmu7giHhXQ/n9mw0XmG7xm6izpphBAENk/IyXgxJ06/lT2ia5p1lWZnn+fPiGG3bXsdxvJ8ZBzGSHikSqMkU+AynwBeYG9dgTnwDc+FWmAN3wrFx7LruRohtCCFeAFD0fV+dHYcxkh4p8v9ynfoj8L3Z2qnmfLM1mE72F38Mw1BIKfd+lcFxaF4jukKEImJV17X3qv0St+lYFUIo4VPy0td5aJwTpgJCk6rize86H9LEDFBz6pQ63lv2kLgpp38vQ5IeaQbW7cfYS7V65nfe4xT4cri48QWmpeDENZgT38BcuBXmwJ1wbDzZy/UBR/bTV8buNroAAAAASUVORK5CYII="></image> </defs> <g id="illustration-sections" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="paper-blank" transform="translate(119.000000, 13.000000)"> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-2)" xlink:href="#path-1"></use> <rect stroke="#CCCCCC" stroke-width="1" stroke-linejoin="square" fill="#FFFFFF" fill-rule="evenodd" x="0.5" y="0.5" width="136" height="173"></rect> </g> </g> <g id="paragraph" transform="translate(206.500000, 93.500000) rotate(-10.000000) translate(-206.500000, -93.500000) translate(168.000000, 75.000000)"> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-4)" xlink:href="#path-3"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-3"></use> </g> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-6)" xlink:href="#path-5"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-5"></use> </g> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-8)" xlink:href="#path-7"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-7"></use> </g> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-10)" xlink:href="#path-9"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-9"></use> </g> </g> <g id="paragraph" transform="translate(183.500000, 161.500000) rotate(10.000000) translate(-183.500000, -161.500000) translate(145.000000, 143.000000)"> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-12)" xlink:href="#path-11"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-11"></use> </g> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-14)" xlink:href="#path-13"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-13"></use> </g> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-16)" xlink:href="#path-15"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-15"></use> </g> <g id="Rectangle-1"> <use fill="black" fill-opacity="1" filter="url(#filter-18)" xlink:href="#path-17"></use> <use fill="#72777D" fill-rule="evenodd" xlink:href="#path-17"></use> </g> </g> <polygon id="Rectangle-Copy" fill="#C8CCD1" points="131 43 244 43 244 48 131 48"></polygon> <polygon id="Rectangle-Copy-2" fill="#C8CCD1" points="131 53 193 53 193 58 131 58"></polygon> <g id="arm-copy-3" transform="translate(56.625927, 185.496072) scale(-1, 1) rotate(30.000000) translate(-56.625927, -185.496072) translate(-68.374073, 155.496072)"> <path d="M172,16.907537 L67.5255867,19.2577145 C67.5255867,19.2577145 41.6533364,5.01474437 39.3838532,4.75193521 C37.1143701,4.48912604 24.3528844,2.1824462 21.4239694,1.25709257 C18.4950543,0.331738948 15.513093,-1.46076951 15.6763016,2.23397625 C15.8395102,5.92872201 31.451814,11.8431771 31.451814,11.8431771 C31.451814,11.8431771 18.6374608,8.56771268 14.3798228,8.72006409 C10.1221849,8.87241551 3.15683142,10.5136571 3.15683142,10.5136571 C3.15683142,10.5136571 -1.68501113,12.8086486 0.624095573,15.5521407 C2.93320227,18.2956327 11.8935866,14.6092418 15.9476391,15.7256629 C20.0016915,16.8420839 24.6134118,18.0017432 24.6134118,18.0017432 C24.6134118,18.0017432 10.4209026,18.1597695 6.57049232,19.2372749 C2.72008204,20.3147804 0.884786525,23.0820714 2.61880922,25.1423062 C4.35283192,27.2025411 12.8816827,24.8622434 17.5059597,24.825123 C22.1302366,24.7880027 26.3140547,25.8973482 26.3140547,25.8973482 C26.3140547,25.8973482 19.3546483,26.1983657 14.7049518,30.0880272 C10.0552553,33.9776887 4.32619796,38.4159948 4.32619796,38.4159948 C4.32619796,38.4159948 2.43239277,41.7917011 5.35598778,43.4296316 C8.27958279,45.0675621 10.8781166,42.3389315 16.8697335,38.8363754 C22.8613504,35.3338192 25.589031,34.3693701 31.2960593,33.5457664 C37.0030875,32.7221628 42.6510908,35.9127352 42.6510908,35.9127352 C42.6510908,35.9127352 42.1989211,44.5285948 36.6894438,47.0954564 C31.1799665,49.6623179 27.3125288,51.2436598 27.3125288,51.2436598 C27.3125288,51.2436598 20.7211381,49.3172092 18.8777945,50.2909263 C17.0344509,51.2646434 17.5480459,53.5995834 18.8777943,56.07186 C20.2075426,58.5441366 25.9685773,60.2502333 29.8131232,59.9698817 C33.6576692,59.68953 51.3207932,56.4328775 60.5216871,48.735956 C69.7225811,41.0390344 72.893072,39.7769243 72.893072,39.7769243 L172,40.0117303" id="Path-11" fill="#BE6F41"></path> <g id="Rectangle-37"> <use fill="#3366CC" xlink:href="#path-19"></use> <use fill-opacity="0.5" fill="url(#pattern-20)" style="mix-blend-mode:multiply" xlink:href="#path-19"></use> </g> </g> <g id="arm-copy" transform="translate(321.614539, 14.504839) rotate(-29.000000) translate(-321.614539, -14.504839) translate(199.614539, -15.495161)"> <path d="M172,16.907537 L67.5255867,19.2577145 C67.5255867,19.2577145 41.6533364,5.01474437 39.3838532,4.75193521 C37.1143701,4.48912604 24.3528844,2.1824462 21.4239694,1.25709257 C18.4950543,0.331738948 15.513093,-1.46076951 15.6763016,2.23397625 C15.8395102,5.92872201 31.451814,11.8431771 31.451814,11.8431771 C31.451814,11.8431771 18.6374608,8.56771268 14.3798228,8.72006409 C10.1221849,8.87241551 3.15683142,10.5136571 3.15683142,10.5136571 C3.15683142,10.5136571 -1.68501113,12.8086486 0.624095573,15.5521407 C2.93320227,18.2956327 11.8935866,14.6092418 15.9476391,15.7256629 C20.0016915,16.8420839 24.6134118,18.0017432 24.6134118,18.0017432 C24.6134118,18.0017432 10.4209026,18.1597695 6.57049232,19.2372749 C2.72008204,20.3147804 0.884786525,23.0820714 2.61880922,25.1423062 C4.35283192,27.2025411 12.8816827,24.8622434 17.5059597,24.825123 C22.1302366,24.7880027 26.3140547,25.8973482 26.3140547,25.8973482 C26.3140547,25.8973482 19.3546483,26.1983657 14.7049518,30.0880272 C10.0552553,33.9776887 4.32619796,38.4159948 4.32619796,38.4159948 C4.32619796,38.4159948 2.43239277,41.7917011 5.35598778,43.4296316 C8.27958279,45.0675621 10.8781166,42.3389315 16.8697335,38.8363754 C22.8613504,35.3338192 25.589031,34.3693701 31.2960593,33.5457664 C37.0030875,32.7221628 42.6510908,35.9127352 42.6510908,35.9127352 C42.6510908,35.9127352 42.1989211,44.5285948 36.6894438,47.0954564 C31.1799665,49.6623179 27.3125288,51.2436598 27.3125288,51.2436598 C27.3125288,51.2436598 20.7211381,49.3172092 18.8777945,50.2909263 C17.0344509,51.2646434 17.5480459,53.5995834 18.8777943,56.07186 C20.2075426,58.5441366 25.9685773,60.2502333 29.8131232,59.9698817 C33.6576692,59.68953 51.3207932,56.4328775 60.5216871,48.735956 C69.7225811,41.0390344 72.893072,39.7769243 72.893072,39.7769243 L172,40.0117303" id="Path-11" fill="#D7A57A"></path> <g id="Rectangle-37"> <use fill="#FFB50D" xlink:href="#path-22"></use> <use fill-opacity="0.5" fill="url(#pattern-23)" style="mix-blend-mode:multiply" xlink:href="#path-22"></use> </g> </g> <rect id="Rectangle" fill="#C8CCD1" x="131" y="25" width="42" height="10"></rect> </g> </svg>'},c9fd:function(e,t,n){},cd7f:function(e,t,n){"use strict";n("0466")},ce33:function(e,t,n){},d536:function(e,t,n){"use strict";n("74c7")},d5b5:function(e,t,n){"use strict";n("8789")},da03:function(e,t,n){},da9e:function(e,t,n){},e1af:function(e,t,n){"use strict";n("a381")},e1b0:function(e,t){e.exports='<svg width="375px" height="200px" viewBox="0 0 375 200" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"> <title>illustration-mt</title> <defs> <path d="M105.208249,19.5680105 C105.208249,18.4685389 106.107813,17.5382516 107.198217,17.4909907 L233.21828,12.0289647 C234.31731,11.98133 235.208249,12.8435441 235.208249,13.9420961 L235.208249,47.1312078 C235.208249,48.2354359 234.308684,49.0916001 233.21828,49.0443393 L107.198217,43.5823132 C106.099188,43.5346786 105.208249,42.6038785 105.208249,41.5052935 L105.208249,19.5680105 Z" id="path-1"></path> <pattern id="pattern-2" width="30" height="30" x="75.2082489" y="-17.9633462" patternUnits="userSpaceOnUse"> <use xlink:href="#image-3"></use> </pattern> <image id="image-3" width="30" height="30" xlink:href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAAAP1JREFUSA3t1V0OgyAMAOC1Hmu7giHhXQ/n9mw0XmG7xm6izpphBAENk/IyXgxJ06/lT2ia5p1lWZnn+fPiGG3bXsdxvJ8ZBzGSHikSqMkU+AynwBeYG9dgTnwDc+FWmAN3wrFx7LruRohtCCFeAFD0fV+dHYcxkh4p8v9ynfoj8L3Z2qnmfLM1mE72F38Mw1BIKfd+lcFxaF4jukKEImJV17X3qv0St+lYFUIo4VPy0td5aJwTpgJCk6rize86H9LEDFBz6pQ63lv2kLgpp38vQ5IeaQbW7cfYS7V65nfe4xT4cri48QWmpeDENZgT38BcuBXmwJ1wbDzZy/UBR/bTV8buNroAAAAASUVORK5CYII="></image> </defs> <g id="illustration-mt" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd"> <g id="Oval-9-+-Path-79" transform="translate(97.500000, 27.500000) rotate(-50.000000) translate(-97.500000, -27.500000) translate(20.000000, -66.000000)" stroke="#72777D" stroke-width="20"> <path d="M154.758243,0.558837385 C154.758243,0.558837385 79.2075256,2.3963732 49.094702,27.6101739 C18.9818785,52.8239746 29.5592009,127.558837 29.5592009,127.558837" id="Path-79"></path> </g> <path d="M181.241058,153 L157,153 L188.486036,60 L218.513964,60 L250,153 L225.758942,153 L219.607545,133.473633 L187.392455,133.473633 L181.241058,153 Z M192.598076,116.303848 L213.598076,116.303848 L203.432471,83.3038476 L202.719095,83.3038476 L192.598076,116.303848 Z" id="A" fill="#3366CC" fill-rule="nonzero" transform="translate(203.500000, 106.500000) rotate(-330.000000) translate(-203.500000, -106.500000) "></path> <g id="arm-copy-4" transform="translate(314.833239, 182.732618) rotate(-329.000000) translate(-314.833239, -182.732618) translate(196.833239, 154.732618)"> <path d="M169,12.1867168 L64.5255867,14.5368942 C64.5255867,14.5368942 38.6533364,0.293924123 36.3838532,0.0311149624 C34.1143701,-0.231694198 20.2523322,1.25606343 18,1.27917976 C15.7476678,1.30229608 9,3.27917976 12,6.27917976 C15,9.27917976 28.451814,7.12235683 28.451814,7.12235683 C28.451814,7.12235683 22.2576379,8.12682834 18,8.27917976 C13.7423621,8.43153117 7,10.2791798 6,11.2791798 C5,12.2791798 2.6908933,14.5356877 5,17.2791798 C7.3091067,20.0226718 10.0523609,16.5535169 14,15.2791798 C17.9476391,14.0048426 21.6134118,13.280923 21.6134118,13.280923 C21.6134118,13.280923 7.85041029,19.2016743 4,20.2791798 C0.149589712,21.3566852 -1.63791203e-12,29.2791798 2,29.2791798 C4,29.2791798 9,25.2791798 13,23.2791798 C17,21.2791798 23.3140547,21.176528 23.3140547,21.176528 C23.3140547,21.176528 16.3546483,21.4775454 11.7049518,25.3672069 C7.05525531,29.2568684 1.32619796,33.6951745 1.32619796,33.6951745 C1.32619796,33.6951745 -0.567607229,37.0708809 2.35598778,38.7088114 C5.27958279,40.3467419 7.87811658,37.6181113 13.8697335,34.1155551 C19.8613504,30.612999 22.589031,29.6485498 28.2960593,28.8249462 C34.0030875,28.0013426 39.6510908,31.1919149 39.6510908,31.1919149 C39.6510908,31.1919149 39.1989211,39.8077746 33.6894438,42.3746361 C28.1799665,44.9414977 24.3125288,46.5228395 24.3125288,46.5228395 C24.3125288,46.5228395 17.7211381,44.596389 15.8777945,45.5701061 C14.0344509,46.5438231 14.5480459,48.8787631 15.8777943,51.3510398 C17.2075426,53.8233164 22.9685773,55.5294131 26.8131232,55.2490614 C30.6576692,54.9687098 48.3207932,51.7120573 57.5216871,44.0151357 C66.7225811,36.3182142 69.893072,35.056104 69.893072,35.056104 L169,35.2909101 L169,12.1867168 Z" id="Path-11" fill="#D7A57A" transform="translate(84.861497, 27.639590) scale(1, -1) translate(-84.861497, -27.639590) "></path> <g id="Rectangle-37"> <use fill="#FFB50D" xlink:href="#path-1"></use> <use fill-opacity="0.5" fill="url(#pattern-2)" style="mix-blend-mode:multiply" xlink:href="#path-1"></use> </g> </g> <polyline id="Path" stroke="#72777D" stroke-width="18" transform="translate(119.011851, 100.500000) rotate(-30.000000) translate(-119.011851, -100.500000) " points="119.011851 134 90 117.25 90 83.75 119.011851 67 148.023702 83.75 148.023702 117.25"></polyline> </g> </svg> '},e3e7:function(e){e.exports=JSON.parse('{"en":["Works","Publications","Bibliography","Discography","Filmography","See also","Notes","Citations","References","Further reading","External links"],"es":["Bibliografía","Referencias","Citas","Discografía","Filmografía","Notas","Publicaciones","Obra","Enlaces externos","Otras lecturas","Lecturas relacionadas","Véase también"],"bn":["গ্রন্থপঞ্জী","গ্রন্থপঞ্জি","তথ্যাবলি","উদ্ধৃতিসমূহ","বর্ণনসমূহ","উদ্ধৃতি","উদ্ধ্বৃতি","তথ্যসূত্র","ডিস্কোগ্রাফি","বহিঃসংযোগ","চলচ্চিত্রের তালিকা","আরও পড়ুন","আরও পড়ুন","আরো পড়ুন","টীকা","নোট","প্রকাশনা","প্রকাশিত গ্রন্থ","আরও দেখুন","আরো দেখুন","কাজ","কর্মজীবন"],"fr":["Bibliographie","Références","Discographie","Filmographie","Travaux","Liens externes","Principales publications","Voir aussi"],"de":["Literatur","Bibliographie","Anmerkungen","Zitate","Belege","Diskografie","Diskographie","Weblinks","Filmografie","Literatur","Einzelnachweise","Veröffentlichungen","Einzelnachweise","Arbeit","Siehe auch"]}')},e9dc:function(e,t,n){},f0b4:function(e,t,n){},f171:function(e,t,n){},f4af:function(e,t,n){},f4c0:function(e,t,n){},f767:function(e,t,n){"use strict";n("1594")},f944:function(e,t,n){},f96a:function(e,t,n){},fc87:function(e,t,n){},fe49:function(e,t,n){"use strict";n("f944")}});
//# sourceMappingURL=cx.js.map