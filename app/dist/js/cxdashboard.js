/*@nomin*/
!function(t){function e(e){for(var a,r,o=e[0],c=e[1],u=e[2],l=0,d=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);for(g&&g(e);d.length;)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},s={dashboard:0},i=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var g=c;i.push([0,"cxdashboard.libs","mediawiki.ui"]),n()}({0:function(t,e,n){t.exports=n("56d7")},"0f8f":function(t,e,n){},2395:function(t,e,n){},"46f8":function(t,e,n){"use strict";var a=n("e243");n.n(a).a},"56d7":function(t,e,n){"use strict";n.r(e),n("d3b7"),n("ddb0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a,s=n("2b0e"),o=n("f7d3"),g=n("4cf1"),d={name:"CxHeader",components:{MwButton:o.a},data:function(){return{mwIconWikipediaLogo:g.v,mwIconBell:g.e,mwIconTray:g.t,mwIconExpand:g.i,mwIconUserAvatar:g.u}},computed:{username:function(){return mw.user.getName()},currentPageURL:function(){return"./"+mw.config.get("wgPageName")}}},p=(n("7275"),n("2877")),h=Object(p.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"row cx-header"},[n("div",{staticClass:"col-6 col-xs-8 items-center justify-start"},[n("h1",{staticClass:"header ma-0 pa-0"},[n("mw-button",{staticClass:"header ma-0 pa-0",attrs:{type:"text",href:t.currentPageURL,icon:t.mwIconWikipediaLogo,"icon-size":32,label:t.$i18n("cx-dashboard-header")}})],1)]),n("div",{staticClass:"col-6 col-xs-4 items-center justify-end"},[n("mw-button",{staticClass:"h-sm-and-down ",attrs:{type:"icon",large:"",icon:t.mwIconBell}}),n("mw-button",{staticClass:"h-sm-and-down",attrs:{type:"icon",large:"",icon:t.mwIconTray}}),n("mw-button",{staticClass:"h-sm-and-down",attrs:{type:"text",large:"",outlined:"",icon:t.mwIconUserAvatar,label:t.username,"indicator-size":18,indicator:t.mwIconExpand}}),n("mw-button",{staticClass:"h-md-and-up",attrs:{type:"icon","icon-size":32,icon:t.mwIconUserAvatar}})],1)])}),[],!1,null,null,null).exports,v=(n("ac1f"),n("3ca3"),n("841c"),n("2b3d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-card",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],class:"cx-translation-list--"+t.translationStatus,attrs:{title:t.$i18n("cx-translation-label-"+t.translationStatus)}},[t.loaded?t._e():n("mw-spinner"),t._l(t.translations,(function(e,a){return n("div",{key:t.translationStatus+"-"+a,staticClass:"row pa-0 ma-0"},[n("cx-translation-work",{staticClass:"col-12 pa-0 ma-0",attrs:{translation:e}})],1)}))],2)}),L=(n("c975"),n("5e62")),C=n("3592"),y=n("5872"),_=n("61a5"),k=n("d4ec"),T=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.sourceLanguage,a=e.targetLanguage,s=e.sourceTitle,i=e.targetTitle,r=e.status,o=e.id,c=e.sourceURL,u=e.targetURL,g=e.startTimestamp,l=e.lastUpdateTimestamp,d=e.progress,p=void 0===d?{}:d,m=e.startedTranslator,h=e.lastUpdatedTranslator,f=e.cxVersion;Object(k.a)(this,t),this.id=o,this.cxVersion=f,this.sourceLanguage=n,this.targetLanguage=a,this.sourceTitle=s,this.targetTitle=i,this.sourceURL=c,this.targetURL=u,this.progress=p,this.status=r,this.startedTranslator=m,this.lastUpdatedTranslator=h,this.lastUpdateTimestamp=l,this.startTimestamp=g},I={name:"CxTranslationWork",components:{MwThumbnail:C.a,MwIcon:y.a},mixins:[_.a],props:{translation:{type:T,required:!0}},data:function(){return{mwIconEdit:g.h,mwIconTrash:g.s,mwIconArrowForward:g.b}},methods:{onClick:function(t){this.$emit("click",t),this.startTranslation(this.translation)},startTranslation:function(t){var e=new mw.cx.SiteMapper;e.setCXToken(t.sourceLanguage,t.targetLanguage,t.sourceTitle),location.href=e.getCXUrl(t.sourceTitle,t.targetTitle,t.sourceLanguage,t.targetLanguage,{campaign:(new mw.Uri).query.campaign})},getPage:function(t,e){return this.$store.getters["mediawiki/getPage"](t,e)},getImage:function(t,e){var n=this.getPage(t,e);return null==n?void 0:n.thumbnail}}},P=(n("69ee"),Object(p.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.translation?n("div",{directives:[{name:"show",rawName:"v-show",value:t.translation,expression:"translation"}],staticClass:"row cx-translation pa-4",on:{click:t.onClick}},[n("div",{staticClass:"col-2 pa-2"},[n("mw-thumbnail",{attrs:{thumbnail:t.getImage(t.translation.sourceLanguage,t.translation.sourceTitle)}})],1),n("div",{staticClass:"col-9 pa-2"},[n("div",{staticClass:"row"},[n("span",{staticClass:"col-12 cx-translation__source-title",attrs:{lang:t.translation.sourceLanguage}},[t._v(t._s(t.translation.sourceTitle))]),n("span",{staticClass:"col-12 cx-translation__target-title",attrs:{lang:t.translation.targetLanguage}},[t._v(t._s(t.translation.targetTitle))]),n("span",{staticClass:"col-12 mt-2 cx-translation__languages text-small"},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.translation.sourceLanguage)},domProps:{textContent:t._s(t.getAutonym(t.translation.sourceLanguage))}}),n("mw-icon",{attrs:{icon:t.mwIconArrowForward}}),n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.translation.targetLanguage)},domProps:{textContent:t._s(t.getAutonym(t.translation.targetLanguage))}})],1)])]),n("div",{staticClass:"col-1 pa-2"},[n("mw-icon",{attrs:{size:24,icon:"published"===t.translation.status?t.mwIconEdit:t.mwIconTrash}})],1)]):t._e()}),[],!1,null,null,null)).exports,A=n("3d5e"),M={name:"CxTranslationList",components:{CxTranslationWork:P,MwCard:L.a,MwSpinner:A.a},props:{active:{type:Boolean,default:!1},translationStatus:{type:String,validator:function(t){return-1!==["published","draft"].indexOf(t)}},sourceLanguage:{type:String,default:"en"},targetLanguage:{type:String}},data:function(){return{loaded:!1}},computed:{translations:function(){return"published"===this.translationStatus?this.$store.getters["translator/getPublishedTranslations"]():this.$store.getters["translator/getDraftTranslations"]()}},watch:{translations:function(){this.loaded=!0}}},R=Object(p.a)(M,v,[],!1,null,null,null).exports,D=(n("99af"),n("4de4"),n("13d5"),n("fb6a"),n("ade3")),B=n("2909"),G=n("5530"),z=n("bee2"),W=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.sourceLanguage,a=e.targetLanguage,s=e.sourceTitle,i=e.targetTitle,r=e.langLinksCount,o=e.wikidataId;Object(k.a)(this,t),this.sourceLanguage=n,this.targetLanguage=a,this.sourceTitle=s,this.targetTitle=i,this.wikidataId=o,this.langLinksCount=r}return Object(z.a)(t,[{key:"id",get:function(){return"".concat(this.sourceLanguage,"/").concat(this.targetLanguage,"/").concat(this.sourceTitle)}}]),t}(),X={name:"CxTranslationSuggestion",components:{MwThumbnail:C.a,MwIcon:y.a},mixins:[_.a],props:{suggestion:{type:W}},data:function(){return{mwIconStar:g.r,mwIconArrowForward:g.b}},computed:{page:function(){return this.$store.getters["mediawiki/getPage"](this.suggestion.sourceLanguage,this.suggestion.sourceTitle)}},methods:{handleClick:function(t){this.$emit("click",t)}}},H=(n("46f8"),Object(p.a)(X,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.suggestion?n("div",{staticClass:"row cx-suggestion pa-4",on:{click:t.handleClick}},[n("div",{staticClass:"col shrink pe-4"},[n("mw-thumbnail",{staticClass:"cx-suggestion__thumbnail",attrs:{thumbnail:t.page&&t.page.thumbnail,width:84}})],1),n("div",{staticClass:"col pe-2"},[n("p",{staticClass:"mt-0 mb-2 cx-suggestion__source-title",attrs:{lang:t.suggestion.sourceLanguage}},[t._v(" "+t._s(t.suggestion.sourceTitle)+" ")]),n("p",{staticClass:"cx-suggestion__source-description",attrs:{lang:t.suggestion.sourceLanguage}},[t._v(" "+t._s(t.page&&t.page.description)+" ")]),n("p",{staticClass:"mt-2 cx-suggestion__languages text-small"},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.suggestion.sourceLanguage)},domProps:{textContent:t._s(t.getAutonym(t.suggestion.sourceLanguage))}}),n("mw-icon",{attrs:{icon:t.mwIconArrowForward}}),n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.suggestion.targetLanguage)},domProps:{textContent:t._s(t.getAutonym(t.suggestion.targetLanguage))}})],1)]),n("div",{staticClass:"col-1"},[n("mw-icon",{attrs:{icon:t.mwIconStar,size:24}})],1)]):t._e()}),[],!1,null,null,null)).exports,Q=(n("07ac"),n("25f0"),n("2f62")),et=(n("b64b"),n("a88b")),nt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.sourceLanguage,a=e.targetLanguage,s=e.sourceTitle,i=e.targetTitle,r=e.present,o=e.missing;Object(k.a)(this,t),this.sourceLanguage=n,this.targetLanguage=a,this.sourceTitle=s,this.targetTitle=i,this.missingSections=o,this.presentSections=r}return Object(z.a)(t,[{key:"missingSectionsCount",get:function(){return Object.keys(this.missingSections).length}},{key:"presentSectionsCount",get:function(){return Object.keys(this.presentSections||{}).length}}]),t}(),it=(n("d81d"),n("7960")),ot={name:"SxArticleLanguageSelector",components:{MwLanguageSelector:it.a,MwDialog:et.a,MwIcon:y.a,MwButton:o.a},mixins:[_.a],data:function(){return{mwIconArrowNext:g.c,mwIconExpand:g.i,sourceLanguageSelectOn:!1,targetLanguageSelectOn:!1}},computed:Object(G.a)(Object(G.a)(Object(G.a)({},Object(Q.d)({currentSectionSuggestion:function(t){return t.suggestions.currentSectionSuggestion},supportedLanguageCodes:function(t){return t.mediawiki.supportedLanguageCodes||[]}})),Object(Q.c)({titleExistsInLanguageForGroup:"mediawiki/titleExistsInLanguageForGroup",getTitleByLanguageForGroup:"mediawiki/getTitleByLanguageForGroup"})),{},{availableSourceLanguages:function(){var t=this;return this.currentLanguageTitleGroup.titles.filter((function(e){return e.lang!==t.sourceLanguage})).map((function(e){return{name:t.getAutonym(e.lang),code:e.lang}}))},sourceLanguage:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.sourceLanguage},targetLanguage:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.targetLanguage},sourceTitle:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.sourceTitle},targetLanguages:function(){var t=this;return this.supportedLanguageCodes.filter((function(e){return e!==t.sourceLanguage})).reduce((function(e,n){return[].concat(Object(B.a)(e),[{name:t.getAutonym(n),code:n}])}),[])},currentLanguageTitleGroup:function(){return this.$store.getters["mediawiki/getLanguageTitleGroup"](this.sourceLanguage,this.sourceTitle)},currentWikidataId:function(){return this.currentLanguageTitleGroup.wikidataId}}),methods:{openSourceLanguageDialog:function(){this.sourceLanguageSelectOn=!0},onSourceLanguageSelected:function(t){this.sourceLanguageSelectOn=!1;var e=t===this.targetLanguage?null:this.targetLanguage,n=this.getTitleByLanguageForGroup(this.currentWikidataId,t);this.updateSectionSuggestion(t,e,n)},onTargetLanguageSelected:function(t){this.targetLanguageSelectOn=!1;var e=this.currentSectionSuggestion,n=e.sourceLanguage,a=e.sourceTitle;this.updateSectionSuggestion(n,t,a)},updateSectionSuggestion:function(t,e,n){var a=new nt({sourceLanguage:t,targetLanguage:e,sourceTitle:n,missing:{}});this.titleExistsInLanguageForGroup(this.currentWikidataId,e)?this.$store.dispatch("suggestions/loadSectionSuggestion",a):this.$store.commit("suggestions/setCurrentSectionSuggestion",a)},onSourceLanguageDialogClose:function(){this.sourceLanguageSelectOn=!1}}},ut=(n("9bc3"),Object(p.a)(ot,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row sx-article-language-selector ma-0 justify-center"},[n("div",{staticClass:"col-5 justify-end"},[n("mw-button",{staticClass:"pa-3 sx-article-language-selector__button",attrs:{indicator:t.mwIconExpand,outlined:!1,type:"text"},on:{click:function(e){return e.stopPropagation(),t.openSourceLanguageDialog(e)}}},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.sourceLanguage)},domProps:{textContent:t._s(t.getAutonym(t.sourceLanguage))}})]),n("mw-dialog",{directives:[{name:"show",rawName:"v-show",value:t.sourceLanguageSelectOn,expression:"sourceLanguageSelectOn"}],attrs:{title:t.$i18n("cx-sx-language-selector-dialog-title"),animation:"slide-up",fullscreen:!0},on:{close:t.onSourceLanguageDialogClose}},[n("div",{staticClass:"row"},[t.sourceLanguageSelectOn?n("mw-language-selector",{staticClass:"sx-article-language-selector__widget col-12",attrs:{languages:t.availableSourceLanguages},on:{select:t.onSourceLanguageSelected}}):t._e()],1)])],1),n("div",{staticClass:"sx-article-language-selector__arrow col-2 justify-center"},[n("mw-icon",{attrs:{icon:t.mwIconArrowNext}})],1),n("div",{staticClass:"col-5 justify-start"},[n("mw-button",{staticClass:"pa-3 sx-article-language-selector__button",attrs:{indicator:t.mwIconExpand,outlined:!1,type:"text"},on:{click:function(e){e.stopPropagation(),t.targetLanguageSelectOn=!0}}},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.targetLanguage)},domProps:{textContent:t._s(t.getAutonym(t.targetLanguage))}})]),n("mw-dialog",{directives:[{name:"show",rawName:"v-show",value:t.targetLanguageSelectOn,expression:"targetLanguageSelectOn"}],attrs:{title:t.$i18n("cx-sx-language-selector-dialog-title"),animation:"slide-up",fullscreen:!0},on:{close:function(e){t.targetLanguageSelectOn=!1}}},[n("div",{staticClass:"row"},[t.targetLanguageSelectOn?n("mw-language-selector",{staticClass:"sx-article-language-selector__widget col-12",attrs:{languages:t.targetLanguages},on:{select:t.onTargetLanguageSelected}}):t._e()],1)])],1)])}),[],!1,null,null,null)).exports,lt={name:"SxSectionSelector",components:{MwIcon:y.a,MwDialog:et.a,MwButton:o.a,SxArticleLanguageSelector:ut},mixins:[_.a],props:{active:{type:Boolean,default:!1},suggestion:{type:nt}},data:function(){return{mwIconClose:g.g,mwIconArrowForward:g.b,mwIconLinkExternal:g.n,mwIconRobot:g.p,mwIconLabFlask:g.k}},computed:{sourceLanguageAutonym:function(){return this.getAutonym(this.suggestion.sourceLanguage)},targetLanguageAutonym:function(){return this.getAutonym(this.suggestion.targetLanguage)},emptyMissingSections:function(){return 0===Object.keys(this.suggestion.missingSections).length},sourceArticlePath:function(){return"https://".concat(this.suggestion.sourceLanguage,".wikipedia.org/wiki/").concat(this.suggestion.sourceTitle)},targetArticlePath:function(){return"https://".concat(this.suggestion.targetLanguage,".wikipedia.org/wiki/").concat(this.suggestion.targetTitle)}},methods:{onClose:function(){this.$emit("close")},onSectionSelectorClick:function(){this.$emit("section-selector-button-click"),this.$emit("section-listing-open")}}},pt=(n("7ece"),Object(p.a)(lt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-dialog",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"sx-selector",attrs:{animation:"slide-up",fullscreen:!0},on:{close:function(e){return t.onClose()}}},[n("template",{slot:"header"},[n("div",{staticClass:"sx-selector__header pa-4"},[n("div",{staticClass:"row justify-start ma-0 pb-3"},[n("div",{staticClass:"col"},[n("h6",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-title",arg:"cx-sx-section-selector-title"}],staticClass:"sx-selector__header-text ma-0"}),n("h2",{staticClass:"sx-selector__title ma-0 py-0"},[t._v(" "+t._s(t.suggestion.sourceTitle)+" ")])]),n("div",{staticClass:"col shrink justify-end"},[n("mw-button",{staticClass:"pa-0",attrs:{large:!0,type:"icon",icon:t.mwIconClose},on:{click:function(e){return t.onClose()}}})],1)]),n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-subtitle",arg:"cx-sx-section-selector-subtitle"}],staticClass:"pt-0 ma-0"}),n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-desc",arg:"cx-sx-section-selector-desc"}],staticClass:"ma-0"})])]),n("div",{staticClass:"sx-selector__body"},[n("sx-article-language-selector"),n("div",{staticClass:"sx-selector__missing-sections py-2"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-missing-sections-title",value:[t.targetLanguageAutonym],expression:"[\n          targetLanguageAutonym\n        ]",arg:"cx-sx-section-selector-missing-sections-title"}],staticClass:"sx-selector__list-title mb-0 pb-0 py-3 px-4"}),t.emptyMissingSections?t._e():n("ul",{staticClass:"sx-selector__missing-sections-list ma-0"},t._l(t.suggestion.missingSections,(function(e,a){return n("li",{key:a,staticClass:"row ma-0"},[n("mw-button",{staticClass:"col-12 justify-between py-3 px-4",attrs:{indicator:t.mwIconArrowForward,label:a,type:"text",outlined:!1,block:!0}})],1)})),0),t.emptyMissingSections?n("div",{staticClass:"sx-selector__empty-missing-sections row px-4 my-0"},[n("div",{staticClass:"col py-6 justify-center"},[n("svg",{attrs:{width:"136px",height:"136px",viewBox:"0 0 136 136",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("title",[t._v("sad-robot")]),n("g",{attrs:{id:"sad-robot",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"}},[n("g",{attrs:{id:"Group"}},[n("circle",{attrs:{id:"Oval",fill:"#EAECF0",cx:"68",cy:"68",r:"68"}}),n("path",{attrs:{id:"Mask",d:"M70,40.99684 L96.02,40.99684 C100.428,40.99684 104,44.58084 104,48.98484 L104,82.99684 L74,82.99684 L74,92.99684 L96.02,92.99684 C100.428,92.99684 104,96.54884 104,100.99684 L104,108.99684 L32,108.99684 L32,100.99684 C32,96.57684 35.572,92.99684 39.98,92.99684 L62,92.99684 L62,82.99684 L32,82.99684 L32,48.98484 C32,44.57284 35.572,40.99684 39.98,40.99684 L66,40.99684 L66,32.65684 C63.244908,31.68276 61.59226,28.86552 62.086412,25.98536 C62.580564,23.10524 65.077784,21 68,21 C70.9222,21 73.41944,23.10524 73.9136,25.98536 C74.40776,28.86552 72.75508,31.68276 70,32.65684 L70,40.99684 Z M62,78 C62,74.6862915 64.6862915,72 68,72 C71.3137085,72 74,74.6862915 74,78 M54,64.99684 C57.313708,64.99684 60,62.310548 60,58.99684 C60,55.68312 57.313708,52.99684 54,52.99684 C50.686292,52.99684 48,55.68312 48,58.99684 C48,62.310548 50.686292,64.99684 54,64.99684 Z M82,64.99684 C85.31372,64.99684 88,62.310548 88,58.99684 C88,55.68312 85.31372,52.99684 82,52.99684 C78.68628,52.99684 76,55.68312 76,58.99684 C76,62.310548 78.68628,64.99684 82,64.99684 Z",fill:"#54595D"}})])])])]),n("div",{staticClass:"sx-selector__empty-missing-sections-details col-12 pa-0"},[n("h6",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-empty-missing-sections-title",arg:"cx-sx-section-selector-empty-missing-sections-title"}]})]),n("div",{staticClass:"sx-selector__empty-missing-sections-details col-12 pa-0 mb-2"},[n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-empty-missing-sections-desc",arg:"cx-sx-section-selector-empty-missing-sections-desc"}]})]),n("div",{staticClass:"col-12 pa-0 mb-2"},[n("mw-button",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-pick-other-translation-button-label",arg:"cx-sx-section-selector-pick-other-translation-button-label"}],staticClass:"sx-selector__empty-missing-sections__close-button px-0",attrs:{type:"text"},on:{click:function(e){return t.onClose()}}})],1)]):t._e()]),n("div",{staticClass:"sx-selector__present-sections py-2"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-present-sections-title",value:[t.targetLanguageAutonym],expression:"[\n          targetLanguageAutonym\n        ]",arg:"cx-sx-section-selector-present-sections-title"}],staticClass:"sx-selector__list-title mb-0 pb-0 py-3 px-4"}),n("ul",{staticClass:"sx-selector__present-sections-list ma-0"},t._l(t.suggestion.presentSections,(function(e,a){return n("li",{key:a,staticClass:"row ma-0"},[n("mw-button",{staticClass:"col-12 justify-between py-3 px-4",attrs:{indicator:t.mwIconArrowForward,type:"text",outlined:!1,block:!0}},[n("div",{staticClass:"sx-selector__present-section-button-content"},[n("p",{staticClass:"sx-selector__present-section-button-source mb-0"},[t._v(" "+t._s(a)+" ")]),n("p",{staticClass:"sx-selector__present-section-button-target mb-0"},[t._v(" "+t._s(e)+" ")])])])],1)})),0)]),n("div",{staticClass:"py-2"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-more-details-title",value:[t.targetLanguageAutonym],expression:"[\n          targetLanguageAutonym\n        ]",arg:"cx-sx-section-selector-more-details-title"}],staticClass:"sx-selector__list-title mb-0 pb-0 py-3 px-4"}),n("ul",{staticClass:"ma-0"},[n("li",{staticClass:"row ma-0"},[n("mw-button",{staticClass:"col-12 justify-between py-3 px-4",attrs:{href:t.sourceArticlePath,target:"_blank",indicator:t.mwIconLinkExternal,label:t.$i18n("cx-sx-section-selector-view-article-button-label",t.sourceLanguageAutonym),type:"text",outlined:!1,block:!0}})],1),n("li",{staticClass:"row ma-0"},[n("mw-button",{staticClass:"col-12 justify-between py-3 px-4",attrs:{href:t.targetArticlePath,target:"_blank",indicator:t.mwIconLinkExternal,label:t.$i18n("cx-sx-section-selector-view-article-button-label",t.targetLanguageAutonym),type:"text",outlined:!1,block:!0}})],1)])]),n("div",{staticClass:"row sx-selector__additional-considerations ma-0"},[n("div",{staticClass:"col-md-6 col-12"},[n("div",{staticClass:"pa-3 pt-5"},[n("h6",[n("mw-icon",{attrs:{icon:t.mwIconRobot}}),t._v(" "+t._s(t.$i18n("cx-sx-section-selector-automatic-section-matching-title"))+" ")],1),n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-automatic-section-matching-description",arg:"cx-sx-section-selector-automatic-section-matching-description"}]}),n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-learn-more-anchor-label",arg:"cx-sx-section-selector-learn-more-anchor-label"}],attrs:{href:"#"}})])]),n("div",{staticClass:"col-md-6 col-12"},[n("div",{staticClass:"pa-3 pt-5"},[n("h6",[n("mw-icon",{attrs:{icon:t.mwIconLabFlask}}),t._v(" "+t._s(t.$i18n("cx-sx-section-selector-unsupported-sections-title"))+" ")],1),n("p",[t._v(" "+t._s(t.$i18n("cx-sx-section-selector-unsupported-sections-description"))+" ")]),n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-learn-more-anchor-label",arg:"cx-sx-section-selector-learn-more-anchor-label"}],attrs:{href:"#"}})])])])],1)],2)}),[],!1,null,null,null)).exports,ht={name:"SxArticleSelector",components:{MwDialog:et.a,MwIcon:y.a,MwThumbnail:C.a,SxSectionSelector:pt,SxArticleLanguageSelector:ut,MwButton:o.a},mixins:[_.a],props:{active:{type:Boolean,default:!1}},data:function(){return{mwIconClose:g.g,mwIconExpand:g.i,mwIconLanguage:g.l,mwIconBookmarkOutline:g.f,mwIconArrowNext:g.c,showSectionTranslation:!1}},computed:Object(G.a)(Object(G.a)({},Object(Q.d)({currentSectionSuggestion:function(t){return t.suggestions.currentSectionSuggestion}})),{},{targetLanguageAutonym:function(){return this.getAutonym(this.targetLanguage)},translationExists:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.presentSectionsCount},langLinksCount:function(){var t;return null===(t=this.sourceArticle)||void 0===t?void 0:t.langLinksCount},sourceArticle:function(){return this.$store.getters["mediawiki/getPage"](this.sourceLanguage,this.sourceTitle)},sourceLanguage:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.sourceLanguage},sourceTitle:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.sourceTitle},targetLanguage:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.targetLanguage},missingSectionsCount:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.missingSectionsCount},sourceArticleThumbnail:function(){var t;return null===(t=this.sourceArticle)||void 0===t?void 0:t.thumbnail},weeklyViews:function(){var t,e=(null===(t=this.sourceArticle)||void 0===t?void 0:t.pageviews)||{};return Object.values(e).reduce((function(t,e){return t+e}),0)}}),mounted:function(){this.$store.dispatch("mediawiki/fetchLanguageTitles",{language:this.sourceLanguage,title:this.sourceTitle})},methods:{onClose:function(){this.$emit("close")},setURLParams:function(){if(history.pushState){var t=new URL(location.href),e=new URLSearchParams(location.search);e.set("page",this.sourceTitle),e.set("from",this.sourceLanguage),e.set("to",this.targetLanguage),e.set("sx",!0),t.search=e,t=t.toString(),history.replaceState({url:t},null,t)}},onSectionSelectorClick:function(){this.$emit("section-translation-article-select"),this.showSectionTranslation=!0,this.setURLParams(),this.$emit("section-listing-open")},onSectionSelectorDialogClose:function(){this.showSectionTranslation=!1,this.$emit("section-listing-close"),this.$emit("close")}}},wt=(n("93c3"),Object(p.a)(ht,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-dialog",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"sx-article-selector",attrs:{fullscreen:!0},on:{close:function(e){return t.onClose()}}},[n("template",{slot:"header"},[n("div",{staticClass:"row sx-article-selector__header ma-0 pa-2"},[n("div",{staticClass:"col shrink pe-2"},[n("mw-thumbnail",{staticClass:"sx-article-selector__header-thumbnail",attrs:{thumbnail:t.sourceArticleThumbnail,"icon-size":48}})],1),n("div",{staticClass:"col"},[n("div",{staticClass:"sx-article-selector__header-title column justify-between ma-0"},[n("div",{staticClass:"col"},[n("h6",{staticClass:"pa-0 ma-0"},[t._v(t._s(t.sourceTitle))])]),n("div",{staticClass:"col shrink sx-article-selector__stats"},[n("span",{staticClass:"pe-3"},[n("mw-icon",{attrs:{icon:t.mwIconLanguage}}),t._v(" "+t._s(t.langLinksCount)+" ")],1),n("span",[t._v(" "+t._s(t.weeklyViews)+" visits per week ")])])])]),n("div",{staticClass:"col shrink items-start"},[n("mw-button",{staticClass:"pa-0",attrs:{type:"icon",large:!0,icon:t.mwIconBookmarkOutline}}),n("mw-button",{staticClass:"pa-0",attrs:{type:"icon",large:!0,icon:t.mwIconClose},on:{click:function(e){return t.onClose()}}})],1)])]),n("div",{staticClass:"sx-article-selector__body"},[n("sx-article-language-selector"),t.translationExists?n("div",{staticClass:"sx-article-selector__translation-status row pa-4 ma-0"},[n("div",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-existing-translation-status",value:[t.targetLanguageAutonym],expression:"[targetLanguageAutonym]",arg:"cx-sx-existing-translation-status"}],staticClass:"col-8"}),n("div",{staticClass:"col-4 justify-end"},[n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-view-translation-anchor",arg:"cx-sx-view-translation-anchor"}],attrs:{href:"#"}})])]):t._e(),t.translationExists?n("div",{staticClass:"row pa-4 pb-0 ma-0"},[n("div",{staticClass:"col-12"},[n("span",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-existing-translation-additional-info",value:[t.targetLanguageAutonym],expression:"[\n            targetLanguageAutonym\n          ]",arg:"cx-sx-existing-translation-additional-info"}]}),n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-existing-translation-learn-more",arg:"cx-sx-existing-translation-learn-more"}],attrs:{href:"#"}})])]):t._e(),n("div",{staticClass:"row sx-article-selector__action justify-center pt-4 pb-3"},[t.translationExists?n("mw-button",{attrs:{large:!0,progressive:!0,disabled:0===t.missingSectionsCount,label:t.$i18n("cx-sx-select-section")},on:{click:function(e){return t.onSectionSelectorClick()}}}):n("mw-button",{attrs:{large:!0,progressive:!0,label:t.$i18n("cx-sx-start-translation-button-label")},on:{click:function(e){return t.onSectionSelectorClick()}}})],1),t.missingSectionsCount?n("div",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-missing-section-stats",value:[t.missingSectionsCount,t.targetLanguageAutonym],expression:"[\n        missingSectionsCount,\n        targetLanguageAutonym\n      ]",arg:"cx-sx-missing-section-stats"}],staticClass:"row sx-article-selector__action justify-center pb-2 mb-4"}):t._e(),n("div",{staticClass:"row sx-article-selector__license justify-center ma-0"},[n("p",{staticClass:"pa-3"},[n("small",{directives:[{name:"i18n-html",rawName:"v-i18n-html:cx-license-agreement",arg:"cx-license-agreement"}]})])])],1),t.currentSectionSuggestion?n("sx-section-selector",{attrs:{active:t.showSectionTranslation,suggestion:t.currentSectionSuggestion},on:{close:t.onSectionSelectorDialogClose}}):t._e()],2)}),[],!1,null,null,null)).exports,St={name:"SxTranslationListLanguageSelector",components:{MwLanguageSelector:it.a,MwDialog:et.a,MwIcon:y.a,MwButton:o.a},mixins:[_.a],props:{selectedSourceLanguage:{type:String,required:!0},selectedTargetLanguage:{type:String,required:!0},sourceLanguages:{type:Array,required:!0},targetLanguages:{type:Array,required:!0}},data:function(){return{mwIconArrowNext:g.c,mwIconExpand:g.i,sourceLanguageSelectOn:!1,targetLanguageSelectOn:!1}},methods:{openSourceLanguageDialog:function(){this.sourceLanguageSelectOn=!0},openTargetLanguageDialog:function(){this.targetLanguageSelectOn=!0},onSourceLanguageDialogClose:function(){this.sourceLanguageSelectOn=!1},onTargetLanguageDialogClose:function(){this.targetLanguageSelectOn=!1},onSourceLanguageSelected:function(t){this.sourceLanguageSelectOn=!1,this.$emit("update:selected-source-language",t)},onTargetLanguageSelected:function(t){this.targetLanguageSelectOn=!1,this.$emit("update:selected-target-language",t)}}},_t=(a={name:"CxSuggestionList",components:{SxTranslationListLanguageSelector:(n("e4a3"),Object(p.a)(St,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row sx-translation-list-language-selector ma-0 justify-center"},[n("div",{staticClass:"col-5 justify-end"},[n("mw-button",{staticClass:"pa-3 sx-translation-list-language-selector__button",attrs:{indicator:t.mwIconExpand,outlined:!1,type:"text"},on:{click:function(e){return e.stopPropagation(),t.openSourceLanguageDialog(e)}}},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.selectedSourceLanguage)},domProps:{textContent:t._s(t.getAutonym(t.selectedSourceLanguage))}})]),n("mw-dialog",{directives:[{name:"show",rawName:"v-show",value:t.sourceLanguageSelectOn,expression:"sourceLanguageSelectOn"}],attrs:{title:t.$i18n("cx-sx-language-selector-dialog-title"),animation:"slide-up",fullscreen:!0},on:{close:t.onSourceLanguageDialogClose}},[n("div",{staticClass:"row"},[t.sourceLanguageSelectOn?n("mw-language-selector",{staticClass:"sx-translation-list-language-selector__widget col-12",attrs:{languages:t.sourceLanguages},on:{select:t.onSourceLanguageSelected}}):t._e()],1)])],1),n("div",{staticClass:"sx-translation-list-language-selector__arrow col-2 justify-center"},[n("mw-icon",{attrs:{icon:t.mwIconArrowNext}})],1),n("div",{staticClass:"col-5 justify-start"},[n("mw-button",{staticClass:"pa-3 sx-translation-list-language-selector__button",attrs:{indicator:t.mwIconExpand,outlined:!1,type:"text"},on:{click:function(e){return e.stopPropagation(),t.openTargetLanguageDialog(e)}}},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.selectedTargetLanguage)},domProps:{textContent:t._s(t.getAutonym(t.selectedTargetLanguage))}})]),n("mw-dialog",{directives:[{name:"show",rawName:"v-show",value:t.targetLanguageSelectOn,expression:"targetLanguageSelectOn"}],attrs:{title:t.$i18n("cx-sx-language-selector-dialog-title"),animation:"slide-up",fullscreen:!0},on:{close:t.onTargetLanguageDialogClose}},[n("div",{staticClass:"row"},[t.targetLanguageSelectOn?n("mw-language-selector",{staticClass:"sx-translation-list-language-selector__widget col-12",attrs:{languages:t.targetLanguages},on:{select:t.onTargetLanguageSelected}}):t._e()],1)])],1)])}),[],!1,null,null,null)).exports,CxTranslationSuggestion:H,SxArticleSelector:wt,MwCard:L.a,MwButton:o.a,MwSpinner:A.a},mixins:[_.a],props:{active:{type:Boolean,default:!1},sourceLanguage:{type:String,required:!0},targetLanguage:{type:String,required:!0}},data:function(){return{mwIconRefresh:g.o,pageSuggestionsLoaded:!1,sectionSuggestionsLoaded:!0,showSxArticleSelector:!1,paginationIndex:0,pageSize:3}},computed:Object(G.a)(Object(G.a)({},Object(Q.d)({currentSectionSuggestion:function(t){return t.suggestions.currentSectionSuggestion},supportedLanguageCodes:function(t){return t.mediawiki.supportedLanguageCodes||[]}})),{},{availableSourceLanguages:function(){var t=this;return this.supportedLanguageCodes.filter((function(e){return e!==t.targetLanguage})).reduce((function(e,n){return[].concat(Object(B.a)(e),[{name:t.getAutonym(n),code:n}])}),[])},availableTargetLanguages:function(){var t=this;return this.supportedLanguageCodes.filter((function(e){return e!==t.sourceLanguage})).reduce((function(e,n){return[].concat(Object(B.a)(e),[{name:t.getAutonym(n),code:n}])}),[])},pageSuggestionsForPair:function(){return this.$store.getters["suggestions/getPageSuggestionsForPair"](this.sourceLanguage,this.targetLanguage)},sectionSuggestionForPair:function(){return this.$store.getters["suggestions/getSectionSuggestionsForPair"](this.sourceLanguage,this.targetLanguage)},pageSuggestionsForPairSubset:function(){return this.pageSuggestionsForPair.slice(this.paginationIndex*this.pageSize,this.paginationIndex*this.pageSize+this.pageSize)},publishedTranslations:function(){return this.$store.getters["translator/getPublishedTranslationsForLanguagePair"](this.sourceLanguage,this.targetLanguage)},seedArticleTitle:function(){return this.paginationIndex<this.publishedTranslations.length?this.publishedTranslations[this.paginationIndex].sourceTitle:null}}),watch:{pageSuggestionsForPair:function(){this.pageSuggestionsLoaded=!0},sectionSuggestionForPair:function(){this.sectionSuggestionsLoaded=!0},active:function(){var t,e;this.active&&((null===(t=this.pageSuggestionsForPair)||void 0===t?void 0:t.length)||this.getPageSuggestions({sourceLanguage:this.sourceLanguage,targetLanguage:this.targetLanguage,seed:this.seedArticleTitle}),(null===(e=this.sectionSuggestionForPair)||void 0===e?void 0:e.length)||this.getSectionSuggestions({sourceLanguage:this.sourceLanguage,targetLanguage:this.targetLanguage}))},sourceLanguage:function(){this.getPageSuggestions({sourceLanguage:this.sourceLanguage,targetLanguage:this.targetLanguage}),this.pageSuggestionsLoaded=!1},targetLanguage:function(){this.getPageSuggestions({sourceLanguage:this.sourceLanguage,targetLanguage:this.targetLanguage}),this.pageSuggestionsLoaded=!1}},mounted:function(){var t=new URLSearchParams(location.search),e=t.get("sx"),n=t.get("from"),a=t.get("to"),s=t.get("page");if(e&&s){var i=new nt({sourceLanguage:n,targetLanguage:a,sourceTitle:s,missing:{}});this.startSectionTranslation(i),this.$store.dispatch("suggestions/loadSectionSuggestion",i)}}},Object(D.a)(a,"mounted",(function(){var t=new URLSearchParams(location.search),e=t.get("sx"),n=t.get("from"),a=t.get("to"),s=t.get("page");if(e&&s){var i=new nt({sourceLanguage:n,targetLanguage:a,sourceTitle:s,missing:{}});this.startSectionTranslation(i),this.$store.dispatch("suggestions/loadSectionSuggestion",i)}})),Object(D.a)(a,"methods",Object(G.a)(Object(G.a)({},Object(Q.b)({getPageSuggestions:"suggestions/getPageSuggestions",getSectionSuggestions:"suggestions/getSectionSuggestions"})),{},{showMoreSuggestions:function(){this.paginationIndex*this.pageSize+this.pageSize>=this.pageSuggestionsForPair.length?this.paginationIndex=0:(this.paginationIndex++,this.seedArticleTitle&&this.$store.dispatch("suggestions/getPageSuggestions",{sourceLanguage:this.sourceLanguage,targetLanguage:this.targetLanguage,seed:this.seedArticleTitle}))},startSectionTranslation:function(t){this.showSxArticleSelector=!0,this.$store.commit("suggestions/setCurrentSectionSuggestion",t)},onSectionTranslationDialogClose:function(){this.showSxArticleSelector=!1}})),a),Tt=(n("dc98"),Object(p.a)(_t,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}]},[n("mw-card",{staticClass:"cx-translation-list--suggestions pa-0 mb-0"},[n("template",{slot:"header"},[n("h3",{staticClass:"mw-ui-card__title pa-4 pt-5 mb-0",domProps:{textContent:t._s(t.$i18n("cx-suggestionlist-title"))}})]),n("sx-translation-list-language-selector",{attrs:{"selected-source-language":t.sourceLanguage,"selected-target-language":t.targetLanguage,"source-languages":t.availableSourceLanguages,"target-languages":t.availableTargetLanguages},on:{"update:selected-source-language":function(e){return t.$emit("update:source-language",e)},"update:selected-target-language":function(e){return t.$emit("update:target-language",e)}}}),n("div",{staticClass:"cx-translation-list__division"},[n("h6",{directives:[{name:"i18n",rawName:"v-i18n:cx-suggestion-list-new-pages-division",arg:"cx-suggestion-list-new-pages-division"}],staticClass:"ma-0 pa-4"})]),t.pageSuggestionsLoaded?t._e():n("mw-spinner"),t._l(t.pageSuggestionsForPairSubset,(function(e,a){return n("cx-translation-suggestion",{key:"suggestion-"+a,staticClass:"ma-0",attrs:{suggestion:e,from:t.sourceLanguage,to:t.targetLanguage}})}))],2),t.sectionSuggestionForPair.length?n("mw-card",{staticClass:"cx-translation-list--sx-suggestions pa-0 mb-0"},[n("div",{staticClass:"cx-translation-list__division"},[n("h6",{directives:[{name:"i18n",rawName:"v-i18n:cx-suggestionlist-expand-sections-title",arg:"cx-suggestionlist-expand-sections-title"}],staticClass:"ma-0 pa-4"})]),t.sectionSuggestionsLoaded?t._e():n("mw-spinner"),t._l(t.sectionSuggestionForPair,(function(e,a){return n("cx-translation-suggestion",{key:"suggestion-"+a,staticClass:"ma-0",attrs:{suggestion:e,from:e.sourceLanguage,to:e.targetLanguage},on:{click:function(n){return t.startSectionTranslation(e)}}})}))],2):t._e(),n("div",{staticClass:"cx-suggestion-list__refresh-button-container d-flex justify-center"},[t.pageSuggestionsLoaded?n("mw-button",{staticClass:"ma-0 pa-4",attrs:{type:"text",block:!0,label:t.$i18n("cx-suggestionlist-refresh"),outlined:!1,icon:t.mwIconRefresh},on:{click:t.showMoreSuggestions}}):t._e()],1),t.currentSectionSuggestion?n("sx-article-selector",{attrs:{active:t.showSxArticleSelector},on:{close:t.onSectionTranslationDialogClose}}):t._e()],1)}),[],!1,null,null,null)).exports,Ot=n("b1ab"),It=n("703d"),Pt={name:"CxDashboard",components:{CxSuggestionList:Tt,CxTranslationList:R,MwButtonGroup:Ot.a,MwBottomNavigation:It.a},data:function(){return{mwIconArticleCheck:g.d,mwIconLightBulb:g.m,mwIconEdit:g.h,suggestionsLoaded:!1,publishedTranslationsLoaded:!1,draftTranslationsLoaded:!1,active:"draft",sourceLanguage:"en",targetLanguage:"ml"}},computed:{listSelector:function(){return[{value:"suggestions",props:{label:this.$i18n("cx-translation-filter-suggested-translations"),icon:g.m,type:"text"}},{value:"draft",props:{label:this.$i18n("cx-translation-filter-draft-translations"),icon:g.h,type:"text"}},{value:"published",props:{label:this.$i18n("cx-translation-filter-published-translations"),icon:g.d,type:"text"}}]}},watch:{active:function(){window.scrollTo(0,0)}},mounted:function(){new URLSearchParams(window.location.search).get("sx")&&(this.active="suggestions")},created:function(){this.$store.dispatch("translator/init"),this.$store.dispatch("mediawiki/fetchLanguageInfo"),this.$store.dispatch("mediawiki/fetchSupportedLanguageCodes")}},$t=Object(p.a)(Pt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"cx-translation-dashboard"},[n("nav",{staticClass:"h-sm-and-down"},[n("mw-button-group",{attrs:{items:t.listSelector,active:t.active},on:{select:function(e){t.active=e}}})],1),n("cx-suggestion-list",{staticClass:"col-12 pa-0 ma-0",attrs:{"source-language":t.sourceLanguage,"target-language":t.targetLanguage,active:"suggestions"===t.active}}),n("cx-translation-list",{staticClass:"col-12 pa-0 ma-0",attrs:{"source-language":t.sourceLanguage,"target-language":t.targetLanguage,"translation-status":"published",active:"published"===t.active}}),n("cx-translation-list",{staticClass:"col-12 pa-0 ma-0",attrs:{"source-language":t.sourceLanguage,"target-language":t.targetLanguage,"translation-status":"draft",active:"draft"===t.active}}),n("mw-bottom-navigation",{staticClass:"h-md-and-up",attrs:{items:t.listSelector,active:t.active},on:{"update:active":function(e){t.active=e}}})],1)}),[],!1,null,null,null).exports,Ft=(n("1421"),{name:"CxDashboardApp",components:{MwButton:o.a,CxHeader:h,CxDashboard:$t},data:function(){return{mwIconAdd:g.a}}}),Nt=(n("7c55"),Object(p.a)(Ft,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"cxdashboard"}},[n("cx-header"),n("section",{staticClass:"row cx-translation-header"},[n("mw-button",{staticClass:"col-md-4 col-xs-12 col-lg-3 col-offset-lg-1 mb-4 mt-4",attrs:{progressive:"",large:"",icon:t.mwIconAdd,label:t.$i18n("cx-create-new-translation")}})],1),n("section",{staticClass:"row cx-translation-dashboard-container"},[n("cx-dashboard",{staticClass:"col-xs-12 col-md-8 col-lg-7 col-offset-lg-1 mb-4 pb-12"})],1)],1)}),[],!1,null,null,null)).exports,Et=(n("96cf"),n("1da1")),Dt=n("bc3a"),Bt=n.n(Dt);function Gt(t){return Ut.apply(this,arguments)}function Ut(){return(Ut=Object(Et.a)(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={action:"query",format:"json",assert:"user",formatversion:2,list:"contenttranslation"},a=mw.util.wikiScript("api"),e&&(n.offset=e),t.abrupt("return",Bt()({method:"get",url:a,params:n,withCredentials:!0}).then(function(){var t=Object(Et.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.data.query.contenttranslation.translations,s=a.map((function(t){return new T(t.translation)})),!(null===(n=e.data.continue)||void 0===n?void 0:n.offset)){t.next=7;break}return t.next=5,Gt(e.data.continue.offset);case 5:i=t.sent,s=s.concat(i);case 7:return t.abrupt("return",s);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var qt={fetchTranslations:Gt},Zt={namespaced:!0,state:{username:mw.config.get("wgUserName"),translations:[]},getters:{getPublishedTranslationsForLanguagePair:function(t){return function(e,n){return t.translations.filter((function(t){return t.sourceLanguage===e&&t.targetLanguage===n&&"published"===t.status}))}},getDraftTranslationsForLanguagePair:function(t){return function(e,n){return t.translations.filter((function(t){return t.sourceLanguage===e&&t.targetLanguage===n&&"draft"===t.status}))}},getPublishedTranslations:function(t){return function(){return t.translations.filter((function(t){return"published"===t.status}))}},getDraftTranslations:function(t){return function(){return t.translations.filter((function(t){return"draft"===t.status}))}}},actions:{init:function(t){(0,t.dispatch)("getTanslations")},getTanslations:function(t){var e=t.commit,n=t.dispatch;qt.fetchTranslations().then((function(t){for(var a={},s=0;s<t.length;s++){var i=t[s];e("addTranslation",i),a[i.sourceLanguage]=a[i.sourceLanguage]||[],a[i.sourceLanguage].push(i.sourceTitle)}for(var r in a)n("mediawiki/fetchPageMetadata",{language:r,titles:a[r]},{root:!0})}))}},mutations:{addTranslation:function(t,e){t.translations.push(e)}}};function Jt(){return(Jt=Object(Et.a)(regeneratorRuntime.mark((function t(e,n,a){var s,i,r,o,c,u=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=u.length>3&&void 0!==u[3]?u[3]:24,i="/data/recommendation/article/creation/translation/".concat(e),a&&(i+="/".concat(a)),r=new mw.cx.SiteMapper,o=r.getRestbaseUrl(n,i),t.next=7,Bt.a.get(o,{count:s}).then((function(t){var e;return(null===(e=t.data)||void 0===e?void 0:e.items)||[]}));case 7:return c=t.sent,t.abrupt("return",c.map((function(t){return new W({sourceTitle:t.title.replace(/_/g," "),sourceLanguage:e,targetLanguage:n,wikidataId:t.wikidata_id,langLinksCount:t.sitelink_count})})));case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Kt(t,e,n){return Qt.apply(this,arguments)}function Qt(){return(Qt=Object(Et.a)(regeneratorRuntime.mark((function t(e,n,a){var s,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=new mw.cx.SiteMapper,i=s.getCXServerUrl("/suggest/sections/".concat(n,"/").concat(e,"/").concat(a)),t.next=4,Bt.a.get(i).then((function(t){var e;return null===(e=t.data)||void 0===e?void 0:e.sections})).catch((function(t){return null}));case 4:return r=t.sent,t.abrupt("return",r?new nt(r):null);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function te(){return(te=Object(Et.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],a=0;case 2:if(!(a<e.length)){t.next=13;break}return s=e[a],t.next=6,Kt(s.sourceLanguage,s.sourceTitle,s.targetLanguage);case 6:if((i=t.sent)&&n.push(i),5!==n.length){t.next=10;break}return t.abrupt("break",13);case 10:a++,t.next=2;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n("7db0"),n("5319");var ee={fetchSuggestions:function(t,e,n){return Jt.apply(this,arguments)},fetchSectionSuggestions:Kt,getSxSuggestionsFromPublishedArticles:function(t){return te.apply(this,arguments)}},re={namespaced:!0,state:{pageSuggestions:[],sectionSuggestions:[],favorites:{},currentSectionSuggestion:null},getters:{getPageSuggestionsForPair:function(t){return function(e,n){return t.pageSuggestions.filter((function(t){return t.sourceLanguage===e&&t.targetLanguage===n}))}},getSectionSuggestionsForPair:function(t){return function(e,n){return t.sectionSuggestions.filter((function(t){return t.sourceLanguage===e&&t.targetLanguage===n}))}},getSectionSuggestionsForArticle:function(t){return function(e,n,a){return t.sectionSuggestions.find((function(t){return t.sourceLanguage===e&&t.targetLanguage===n&&t.sourceTitle===a}))}}},actions:{getPageSuggestions:function(t,e){var n=t.commit,a=t.dispatch,s=e.sourceLanguage,i=e.targetLanguage,r=e.seed;ee.fetchSuggestions(s,i,r).then((function(t){for(var e=[],i=0;i<t.length;i++)n("addPageSuggestion",t[i]),e.push(t[i].sourceTitle);e.length&&a("mediawiki/fetchPageMetadata",{language:s,titles:e},{root:!0})}))},getSectionSuggestions:function(t,e){return Object(Et.a)(regeneratorRuntime.mark((function n(){var a,s,i,r,o,c,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.commit,s=t.dispatch,i=t.rootGetters,r=[],o=i["translator/getPublishedTranslationsForLanguagePair"](e.sourceLanguage,e.targetLanguage),n.next=5,ee.getSxSuggestionsFromPublishedArticles(o);case 5:for(c=n.sent,u=0;u<c.length;u++)a("addSectionSuggestion",c[u]),r.push(c[u].sourceTitle);r.length&&s("mediawiki/fetchPageMetadata",{language:e.sourceLanguage,titles:r},{root:!0});case 8:case"end":return n.stop()}}),n)})))()},loadSectionSuggestion:function(t,e){return Object(Et.a)(regeneratorRuntime.mark((function n(){var a,s,i,r,o,c,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.commit,s=t.dispatch,i=t.getters,r=e.sourceLanguage,o=e.targetLanguage,c=e.sourceTitle,u=i.getSectionSuggestionsForArticle(r,o,c)){n.next=11;break}return n.next=6,ee.fetchSectionSuggestions(r,c,o);case 6:if(u=n.sent){n.next=9;break}return n.abrupt("return");case 9:a("addSectionSuggestion",u),s("mediawiki/fetchPageMetadata",{language:r,titles:[c]},{root:!0});case 11:a("setCurrentSectionSuggestion",u);case 12:case"end":return n.stop()}}),n)})))()}},mutations:{addPageSuggestion:function(t,e){t.pageSuggestions.push(e)},addSectionSuggestion:function(t,e){t.sectionSuggestions.push(e)},setCurrentSectionSuggestion:function(t,e){t.currentSectionSuggestion=e}}},oe=(n("4160"),n("45fc"),n("159b"),n("a15b"),n("dca8"),n("a4d3"),n("e01a"),function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.description,a=e.langlinkscount,s=e.lastrevid,i=e.original,r=e.pageid,o=e.pagelanguage,c=e.pageprops,u=e.pageviews,g=e.thumbnail,l=e.title,d=e._alias;Object(k.a)(this,t),this.language=o,this.title=l,this.pageId=r,this.description=n,this.image=i,this.pageprops=c,this.pageviews=u,this.thumbnail=g,this.langLinksCount=a,this.revision=s,this.alias=d,this.wikidataId=null==c?void 0:c.wikibase_item}return Object(z.a)(t,[{key:"id",get:function(){return"".concat(this.language,"/").concat(this.title)}}]),t}()),ce=function t(e,n){Object(k.a)(this,t),this.wikidataId=e,this.titles=n};var le={fetchPages:function(t,e){var n={action:"query",format:"json",formatversion:2,prop:"info|pageprops|pageimages|description|pageviews|langlinkscount",pvipdays:7,piprop:"thumbnail|name|original",pithumbsize:100,titles:e.join("|"),lllimit:500,origin:"*",redirects:!0},a="https://".concat(t,".wikipedia.org/w/api.php");return Bt.a.get(a,{params:n}).then((function(t){var e=t.data.query.pages,a=(t.data.query.redirects||[]).reduce((function(t,e){return Object(G.a)(Object(G.a)({},t),{},Object(D.a)({},e.to,e.from))}),{});return e.map((function(t){return t=a[t.title]?Object(G.a)(Object(G.a)({},t),{},{_alias:a[t.title]}):t,Object.freeze(new oe(t))}))}))},fetchLanguageTitles:function(t,e){var n={action:"query",format:"json",formatversion:2,prop:"langlinks|pageprops",titles:e,lllimit:500,origin:"*",redirects:!0},a="https://".concat(t,".wikipedia.org/w/api.php");return Bt.a.get(a,{params:n}).then(function(){var n=Object(Et.a)(regeneratorRuntime.mark((function n(a){var s,i,r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=a.data.query.pages)&&r.length&&!(null===(s=r[0])||void 0===s?void 0:s.missing)){n.next=3;break}return n.abrupt("return",null);case 3:if(o=[{lang:t,title:e}].concat(Object(B.a)(r[0].langlinks)),c=null===(i=r[0].pageprops)||void 0===i?void 0:i.wikibase_item){n.next=7;break}return n.abrupt("return",null);case 7:return n.abrupt("return",Object.freeze(new ce(c,o)));case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())}};function me(){return(me=Object(Et.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://cxserver.wikimedia.org/v1/list/languagepairs",t.next=3,Bt.a.get("https://cxserver.wikimedia.org/v1/list/languagepairs",{origin:"*"}).then((function(t){return t.data.source}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var he={fetchLanguageInfo:function de(t){var e={action:"query",format:"json",formatversion:2,meta:"languageinfo",liprop:"autonym|dir",origin:"*"};return t&&(e.licontinue=t),Bt.a.get(mw.util.wikiScript("api"),{params:e}).then(function(){var t=Object(Et.a)(regeneratorRuntime.mark((function t(e){var n,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null===(n=e.data.continue)||void 0===n?void 0:n.licontinue,s=e.data.query.languageinfo,!a){t.next=10;break}return t.t0=Object,t.t1={},t.t2=s,t.next=8,de(a);case 8:t.t3=t.sent,s=t.t0.assign.call(t.t0,t.t1,t.t2,t.t3);case 10:return t.abrupt("return",s);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},fetchSupportedLanguageCodes:function(){return me.apply(this,arguments)}},Le={namespaced:!0,state:{pages:[],languageInfo:{},languageTitleGroups:[],supportedLanguageCodes:[]},getters:{getPage:function(t){return function(e,n){return t.pages.find((function(t){return t.language===e&&(t.title===n||t.alias===n)}))}},getLanguageTitleGroup:function(t){return function(e,n){return t.languageTitleGroups.find((function(t){return t.titles.find((function(t){return t.lang===e&&t.title===n}))}))}},getLanguageTitleGroupByWikidataId:function(t){return function(e){return t.languageTitleGroups.find((function(t){return t.wikidataId===e}))}},titleExistsInLanguageForGroup:function(t,e){return function(t,n){var a;return((null===(a=e.getLanguageTitleGroupByWikidataId(t))||void 0===a?void 0:a.titles)||[]).some((function(t){return t.lang===n}))}},getTitleByLanguageForGroup:function(t,e){return function(t,n){var a,s;return null===(a=((null===(s=e.getLanguageTitleGroupByWikidataId(t))||void 0===s?void 0:s.titles)||[]).find((function(t){return t.lang===n})))||void 0===a?void 0:a.title}}},actions:{fetchPageMetadata:function(t,e){return Object(Et.a)(regeneratorRuntime.mark((function n(){var a,s,i,r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=t.getters,s=t.commit,i=e.titles.filter((function(t){return!a.getPage(e.language,t)})),r=50,o=0;case 4:if(!(o<i.length)){n.next=13;break}return c=i.slice(o,o+r),n.next=8,le.fetchPages(e.language,c);case 8:n.sent.forEach((function(t){s("addPage",t)}));case 10:o+=r,n.next=4;break;case 13:case"end":return n.stop()}}),n)})))()},fetchLanguageTitles:function(t,e){var n=t.commit,a=t.getters,s=e.language,i=e.title;a.getLanguageTitleGroup(s,i)||le.fetchLanguageTitles(s,i).then((function(t){return t&&n("addLanguageTitleGroup",t)}))},fetchLanguageInfo:function(t){var e=t.commit;he.fetchLanguageInfo().then((function(t){e("setLanguageInfo",t)}))},fetchSupportedLanguageCodes:function(t){var e=t.commit;he.fetchSupportedLanguageCodes().then((function(t){e("setSupportedLanguageCodes",t)}))}},mutations:{addPage:function(t,e){t.pages.push(e)},addLanguageTitleGroup:function(t,e){t.languageTitleGroups.push(e)},setLanguageInfo:function(t,e){t.languageInfo=e},setSupportedLanguageCodes:function(t,e){t.supportedLanguageCodes=e}}};s.a.use(Q.a);var Se=new Q.a.Store({modules:{translator:Zt,suggestions:re,mediawiki:Le}}),be=n("5093"),Ce=n.n(be),ye=mw.config.get("wgUserLanguage"),ke=mw.messages.values||{};s.a.use(Ce.a,{locale:ye,finalFallback:"en",messages:ke}),new s.a({store:Se,el:"#cxdashboard",render:function(t){return t(Nt)}})},"64ab":function(t,e,n){},"69ee":function(t,e,n){"use strict";var a=n("7b46");n.n(a).a},7275:function(t,e,n){"use strict";var a=n("a2f6");n.n(a).a},"7b46":function(t,e,n){},"7c55":function(t,e,n){"use strict";var a=n("2395");n.n(a).a},"7ece":function(t,e,n){"use strict";var a=n("be16");n.n(a).a},"93c3":function(t,e,n){"use strict";var a=n("0f8f");n.n(a).a},"9bc3":function(t,e,n){"use strict";var a=n("64ab");n.n(a).a},"9e66":function(t,e,n){},a2f6:function(t,e,n){},be16:function(t,e,n){},c638:function(t,e,n){},dc98:function(t,e,n){"use strict";var a=n("9e66");n.n(a).a},e243:function(t,e,n){},e4a3:function(t,e,n){"use strict";var a=n("c638");n.n(a).a}});
//# sourceMappingURL=cxdashboard.js.map