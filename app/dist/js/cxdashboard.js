/*@nomin*/
!function(t){function e(e){for(var a,r,o=e[0],c=e[1],u=e[2],l=0,d=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&d.push(s[r][0]),s[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);for(g&&g(e);d.length;)d.shift()();return i.push.apply(i,u||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==s[c]&&(a=!1)}a&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},s={dashboard:0},i=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window.webpackJsonp=window.webpackJsonp||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var g=c;i.push([0,"cxdashboard.libs","mediawiki.ui"]),n()}({0:function(t,e,n){t.exports=n("56d7")},"0f8f":function(t,e,n){},2395:function(t,e,n){},"46f8":function(t,e,n){"use strict";var a=n("e243");n.n(a).a},"56d7":function(t,e,n){"use strict";n.r(e),n("d3b7"),n("ddb0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=n("f7d3"),u=n("4cf1"),l={name:"cx-header",components:{MwButton:r.a},data:function(){return{mwIconWikipediaLogo:u.v,mwIconBell:u.e,mwIconTray:u.t,mwIconExpand:u.i,mwIconUserAvatar:u.u}},computed:{username:function(){return mw.user.getName()},currentPageURL:function(){return"./"+mw.config.get("wgPageName")}}},d=(n("7275"),n("2877")),p=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"row cx-header"},[n("div",{staticClass:"col-6 col-xs-8 items-center justify-start"},[n("h1",{staticClass:"header ma-0 pa-0"},[n("mw-button",{attrs:{type:"text",href:t.currentPageURL,icon:t.mwIconWikipediaLogo,"icon-size":32,label:t.$i18n("cx-dashboard-header")}})],1)]),n("div",{staticClass:"col-6 col-xs-4 items-center justify-end"},[n("mw-button",{staticClass:"h-sm-and-down ",attrs:{type:"icon",large:"",icon:t.mwIconBell}}),n("mw-button",{staticClass:"h-sm-and-down",attrs:{type:"icon",large:"",icon:t.mwIconTray}}),n("mw-button",{staticClass:"h-sm-and-down",attrs:{type:"text",large:"",outlined:"",icon:t.mwIconUserAvatar,label:t.username,indicatorSize:18,indicator:t.mwIconExpand}}),n("mw-button",{staticClass:"h-md-and-up me-5",attrs:{type:"icon","icon-size":32,icon:t.mwIconUserAvatar}})],1)])}),[],!1,null,null,null).exports,w=(n("ac1f"),n("3ca3"),n("841c"),n("2b3d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-card",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],class:"cx-translation-list--"+t.translationStatus,attrs:{title:t.$i18n("cx-translation-label-"+t.translationStatus)}},[t.loaded?t._e():n("mw-spinner"),t._l(t.translations,(function(e,a){return n("div",{key:t.translationStatus+"-"+a,staticClass:"row pa-0 ma-0"},[n("cx-translation-work",{staticClass:"col-12 pa-0 ma-0",attrs:{translation:e}})],1)}))],2)}),x=(n("c975"),n("5e62")),L=n("3592"),C=n("5872"),y=n("61a5"),_=n("d4ec"),k=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.sourceLanguage,a=e.targetLanguage,s=e.sourceTitle,i=e.targetTitle,r=e.status,o=e.id,c=e.sourceURL,u=e.targetURL,g=e.startTimestamp,l=e.lastUpdateTimestamp,d=e.progress,m=void 0===d?{}:d,p=e.startedTranslator,h=e.lastUpdatedTranslator,f=e.cxVersion;Object(_.a)(this,t),this.id=o,this.cxVersion=f,this.sourceLanguage=n,this.targetLanguage=a,this.sourceTitle=s,this.targetTitle=i,this.sourceURL=c,this.targetURL=u,this.progress=m,this.status=r,this.startedTranslator=p,this.lastUpdatedTranslator=h,this.lastUpdateTimestamp=l,this.startTimestamp=g},I={name:"cx-translation-work",components:{MwThumbnail:L.a,MwIcon:C.a},mixins:[y.a],props:{translation:{type:k,required:!0}},data:function(){return{mwIconEdit:u.h,mwIconTrash:u.s,mwIconArrowForward:u.b}},methods:{onClick:function(t){this.$emit("click",t),this.startTranslation(this.translation)},startTranslation:function(t){var e=new mw.cx.SiteMapper;e.setCXToken(t.sourceLanguage,t.targetLanguage,t.sourceTitle),location.href=e.getCXUrl(t.sourceTitle,t.targetTitle,t.sourceLanguage,t.targetLanguage,{campaign:(new mw.Uri).query.campaign})},getPage:function(t,e){return this.$store.getters["mediawiki/getPage"](t,e)},getImage:function(t,e){var n=this.getPage(t,e);return null==n?void 0:n.thumbnail}}},O=(n("69ee"),Object(d.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.translation?n("div",{directives:[{name:"show",rawName:"v-show",value:t.translation,expression:"translation"}],staticClass:"row cx-translation pa-4",on:{click:t.onClick}},[n("div",{staticClass:"col-2 pa-2"},[n("mw-thumbnail",{attrs:{thumbnail:t.getImage(t.translation.sourceLanguage,t.translation.sourceTitle)}})],1),n("div",{staticClass:"col-9 pa-2"},[n("div",{staticClass:"row"},[n("span",{staticClass:"col-12 cx-translation__source-title",attrs:{lang:t.translation.sourceLanguage}},[t._v(t._s(t.translation.sourceTitle))]),n("span",{staticClass:"col-12 cx-translation__target-title",attrs:{lang:t.translation.targetLanguage}},[t._v(t._s(t.translation.targetTitle))]),n("span",{staticClass:"col-12 mt-2 cx-translation__languages text-small"},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.translation.sourceLanguage)},domProps:{textContent:t._s(t.getAutonym(t.translation.sourceLanguage))}}),n("mw-icon",{attrs:{icon:t.mwIconArrowForward}}),n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.translation.targetLanguage)},domProps:{textContent:t._s(t.getAutonym(t.translation.targetLanguage))}})],1)])]),n("div",{staticClass:"col-1 pa-2"},[n("mw-icon",{attrs:{size:24,icon:"published"===t.translation.status?t.mwIconEdit:t.mwIconTrash}})],1)]):t._e()}),[],!1,null,null,null)).exports,P=n("3d5e"),$={name:"cx-translation-list",components:{CxTranslationWork:O,MwCard:x.a,MwSpinner:P.a},props:{active:{type:Boolean,default:!1},translationStatus:{type:String,validator:function(t){return-1!==["published","draft"].indexOf(t)}},sourceLanguage:{type:String,default:"en"},targetLanguage:{type:String}},data:function(){return{loaded:!1}},computed:{translations:function(){return"published"===this.translationStatus?this.$store.getters["translator/getPublishedTranslations"]():this.$store.getters["translator/getDraftTranslations"]()}},watch:{translations:function(){this.loaded=!0}}},R=Object(d.a)($,w,[],!1,null,null,null).exports,N=(n("fb6a"),n("5530")),B=(n("99af"),n("bee2")),D=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.sourceLanguage,a=e.targetLanguage,s=e.sourceTitle,i=e.targetTitle,r=e.pageViews,o=e.wikidataId,c=e.rank;Object(_.a)(this,t),this.sourceLanguage=n,this.targetLanguage=a,this.sourceTitle=s,this.targetTitle=i,this.wikidataId=o,this.pageViews=r,this.rank=c}return Object(B.a)(t,[{key:"id",get:function(){return"".concat(this.sourceLanguage,"/").concat(this.targetLanguage,"/").concat(this.sourceTitle)}}]),t}(),z={name:"cx-translation-suggestion",components:{MwThumbnail:L.a,MwIcon:C.a},mixins:[y.a],props:{suggestion:{type:D}},data:function(){return{mwIconStar:u.r,mwIconArrowForward:u.b}},computed:{page:function(){return this.$store.getters["mediawiki/getPage"](this.suggestion.sourceLanguage,this.suggestion.sourceTitle)}},methods:{handleClick:function(t){this.$emit("click",t)}}},V=(n("46f8"),Object(d.a)(z,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.suggestion?n("div",{staticClass:"row cx-suggestion pa-4",on:{click:t.handleClick}},[n("div",{staticClass:"col shrink pe-4"},[n("mw-thumbnail",{staticClass:"cx-suggestion__thumbnail",attrs:{thumbnail:t.page&&t.page.thumbnail,width:84}})],1),n("div",{staticClass:"col pe-2"},[n("p",{staticClass:"mt-0 mb-2 cx-suggestion__source-title",attrs:{lang:t.suggestion.sourceLanguage}},[t._v(" "+t._s(t.suggestion.sourceTitle)+" ")]),n("p",{staticClass:"cx-suggestion__source-description",attrs:{lang:t.suggestion.sourceLanguage}},[t._v(" "+t._s(t.page&&t.page.description)+" ")]),n("p",{staticClass:"mt-2 cx-suggestion__languages text-small"},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.suggestion.sourceLanguage)},domProps:{textContent:t._s(t.getAutonym(t.suggestion.sourceLanguage))}}),n("mw-icon",{attrs:{icon:t.mwIconArrowForward}}),n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.suggestion.targetLanguage)},domProps:{textContent:t._s(t.getAutonym(t.suggestion.targetLanguage))}})],1)]),n("div",{staticClass:"col-1"},[n("mw-icon",{attrs:{icon:t.mwIconStar,size:24}})],1)]):t._e()}),[],!1,null,null,null)).exports,H=(n("13d5"),n("07ac"),n("25f0"),n("2f62")),Y=(n("b64b"),n("a88b")),Z=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.sourceLanguage,a=e.targetLanguage,s=e.sourceTitle,i=e.targetTitle,r=e.present,o=e.missing;Object(_.a)(this,t),this.sourceLanguage=n,this.targetLanguage=a,this.sourceTitle=s,this.targetTitle=i,this.missingSections=o,this.presentSections=r}return Object(B.a)(t,[{key:"missingSectionsCount",get:function(){return Object.keys(this.missingSections).length}},{key:"presentSectionsCount",get:function(){return Object.keys(this.presentSections||{}).length}}]),t}(),nt=(n("4de4"),n("d81d"),n("2909")),it={name:"sx-article-language-selector",components:{MwLanguageSelector:n("7960").a,MwDialog:Y.a,MwIcon:C.a,MwButton:r.a},mixins:[y.a],data:function(){return{mwIconArrowNext:u.c,mwIconExpand:u.i,sourceLanguageSelectOn:!1,targetLanguageSelectOn:!1}},computed:Object(N.a)(Object(N.a)(Object(N.a)({},Object(H.c)({currentSectionSuggestion:function(t){return t.suggestions.currentSectionSuggestion},supportedLanguageCodes:function(t){return t.mediawiki.supportedLanguageCodes||[]}})),Object(H.b)({titleExistsInLanguageForGroup:"mediawiki/titleExistsInLanguageForGroup",getTitleByLanguageForGroup:"mediawiki/getTitleByLanguageForGroup"})),{},{availableSourceLanguages:function(){var t=this;return this.currentLanguageTitleGroup.titles.filter((function(e){return e.lang!==t.sourceLanguage})).map((function(e){return{name:t.getAutonym(e.lang),code:e.lang}}))},sourceLanguage:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.sourceLanguage},targetLanguage:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.targetLanguage},sourceTitle:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.sourceTitle},targetLanguages:function(){var t=this;return this.supportedLanguageCodes.filter((function(e){return e!==t.sourceLanguage})).reduce((function(e,n){return[].concat(Object(nt.a)(e),[{name:t.getAutonym(n),code:n}])}),[])},currentLanguageTitleGroup:function(){return this.$store.getters["mediawiki/getLanguageTitleGroup"](this.sourceLanguage,this.sourceTitle)},currentWikidataId:function(){return this.currentLanguageTitleGroup.wikidataId}}),methods:{openSourceLanguageDialog:function(){this.sourceLanguageSelectOn=!0},onSourceLanguageSelected:function(t){this.sourceLanguageSelectOn=!1;var e=t===this.targetLanguage?null:this.targetLanguage,n=this.getTitleByLanguageForGroup(this.currentWikidataId,t);this.updateSectionSuggestion(t,e,n)},onTargetLanguageSelected:function(t){this.targetLanguageSelectOn=!1;var e=this.currentSectionSuggestion,n=e.sourceLanguage,a=e.sourceTitle;this.updateSectionSuggestion(n,t,a)},updateSectionSuggestion:function(t,e,n){var a=new Z({sourceLanguage:t,targetLanguage:e,sourceTitle:n,missing:{}});this.titleExistsInLanguageForGroup(this.currentWikidataId,e)?this.$store.dispatch("suggestions/loadSectionSuggestion",a):this.$store.commit("suggestions/setCurrentSectionSuggestion",a)},onSourceLanguageDialogClose:function(){this.sourceLanguageSelectOn=!1}}},ot=(n("9bc3"),Object(d.a)(it,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row sx-article-language-selector ma-0 justify-center"},[n("div",{staticClass:"col-5 justify-end"},[n("mw-button",{staticClass:"pa-3 sx-article-language-selector__button",attrs:{indicator:t.mwIconExpand,large:!0,outlined:!1,type:"text"},on:{click:t.openSourceLanguageDialog}},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.sourceLanguage)},domProps:{textContent:t._s(t.getAutonym(t.sourceLanguage))}})]),n("mw-dialog",{directives:[{name:"show",rawName:"v-show",value:t.sourceLanguageSelectOn,expression:"sourceLanguageSelectOn"}],attrs:{title:t.$i18n("cx-sx-language-selector-dialog-title"),animation:"slide-up",fullscreen:!0},on:{close:t.onSourceLanguageDialogClose}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12"},[t.sourceLanguageSelectOn?n("mw-language-selector",{staticClass:"sx-article-language-selector__widget",attrs:{languages:t.availableSourceLanguages},on:{select:t.onSourceLanguageSelected}}):t._e()],1)])])],1),n("div",{staticClass:"sx-article-language-selector__arrow col-2 justify-center"},[n("mw-icon",{attrs:{icon:t.mwIconArrowNext}})],1),n("div",{staticClass:"col-5 justify-start"},[n("mw-button",{staticClass:"pa-3 sx-article-language-selector__button",attrs:{indicator:t.mwIconExpand,large:!0,outlined:!1,type:"text"},on:{click:function(e){t.targetLanguageSelectOn=!0}}},[n("span",{staticClass:"mw-ui-autonym",attrs:{dir:t.getDirection(t.targetLanguage)},domProps:{textContent:t._s(t.getAutonym(t.targetLanguage))}})]),n("mw-dialog",{directives:[{name:"show",rawName:"v-show",value:t.targetLanguageSelectOn,expression:"targetLanguageSelectOn"}],attrs:{title:t.$i18n("cx-sx-language-selector-dialog-title"),animation:"slide-up",fullscreen:!0},on:{close:function(e){t.targetLanguageSelectOn=!1}}},[t.targetLanguageSelectOn?n("mw-language-selector",{staticClass:"sx-article-language-selector__widget",attrs:{languages:t.targetLanguages},on:{select:t.onTargetLanguageSelected}}):t._e()],1)],1)])}),[],!1,null,null,null)).exports,ut={name:"sx-section-selector",components:{MwIcon:C.a,MwDialog:Y.a,MwButton:r.a,SxArticleLanguageSelector:ot},mixins:[y.a],data:function(){return{mwIconClose:u.g,mwIconArrowForward:u.b,mwIconLinkExternal:u.n,mwIconRobot:u.p,mwIconLabFlask:u.k}},props:{active:{type:Boolean,default:!1},suggestion:{type:Z}},computed:{sourceLanguageAutonym:function(){return this.getAutonym(this.suggestion.sourceLanguage)},targetLanguageAutonym:function(){return this.getAutonym(this.suggestion.targetLanguage)},emptyMissingSections:function(){return 0===Object.keys(this.suggestion.missingSections).length}},methods:{onClose:function(){this.$emit("close")},onSectionSelectorClick:function(){this.$emit("section-selector-button-click"),this.$emit("section-listing-open")}}},lt=(n("7ece"),Object(d.a)(ut,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-dialog",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"sx-selector",attrs:{animation:"slide-up",fullscreen:!0},on:{close:function(e){return t.onClose()}}},[n("template",{slot:"header"},[n("div",{staticClass:"sx-selector__header pa-4"},[n("div",{staticClass:"row justify-start ma-0 pb-3"},[n("div",{staticClass:"col-11"},[n("h3",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-title",arg:"cx-sx-section-selector-title"}],staticClass:"sx-selector__header-text ma-0"}),n("h2",{staticClass:"sx-selector__title ma-0 pb-0"},[t._v(" "+t._s(t.suggestion.sourceTitle)+" ")])]),n("div",{staticClass:"col-1 justify-end"},[n("mw-button",{staticClass:"pa-0",attrs:{large:!0,type:"icon",icon:t.mwIconClose},on:{click:function(e){return t.onClose()}}})],1)]),n("h3",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-subtitle",arg:"cx-sx-section-selector-subtitle"}],staticClass:"row justify-start pt-0 ps-1 ma-0"}),n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-desc",arg:"cx-sx-section-selector-desc"}],staticClass:"row justify-start ps-1 ma-0"})])]),n("div",{staticClass:"sx-selector__body"},[n("sx-article-language-selector"),n("div",{staticClass:"sx-selector__missing-sections py-2 px-3"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-missing-sections-title",value:[t.targetLanguageAutonym],expression:"[\n          targetLanguageAutonym\n        ]",arg:"cx-sx-section-selector-missing-sections-title"}],staticClass:"py-3 ps-1 sx-selector__list-title"}),t.emptyMissingSections?t._e():n("ul",{staticClass:"sx-selector__missing-sections-list ma-0"},t._l(t.suggestion.missingSections,(function(e,a){return n("li",{key:a,staticClass:"row py-3 ma-0"},[n("mw-button",{staticClass:"col-12 justify-between pa-0",attrs:{indicator:t.mwIconArrowForward,label:a,type:"text",outlined:!1,block:!0}})],1)})),0),t.emptyMissingSections?n("div",{staticClass:"row px-4"},[n("div",{staticClass:"col-12 pa-0"},[n("h6",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-empty-missing-sections-title",arg:"cx-sx-section-selector-empty-missing-sections-title"}]})]),n("div",{staticClass:"col-12 mb-4"},[n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-empty-missing-sections-desc",arg:"cx-sx-section-selector-empty-missing-sections-desc"}]})]),n("div",{staticClass:"col-12 mb-4"},[n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-pick-other-translation-button-label",arg:"cx-sx-section-selector-pick-other-translation-button-label"}]})])]):t._e()]),n("div",{staticClass:"sx-selector__present-sections py-2 px-3"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-present-sections-title",value:[t.targetLanguageAutonym],expression:"[\n          targetLanguageAutonym\n        ]",arg:"cx-sx-section-selector-present-sections-title"}],staticClass:"py-3 ps-1 sx-selector__list-title"}),n("ul",{staticClass:"sx-selector__present-sections-list ma-0"},t._l(t.suggestion.presentSections,(function(e,a){return n("li",{key:a,staticClass:"row py-3 ma-0"},[n("mw-button",{staticClass:"col-12 justify-between pa-0",attrs:{indicator:t.mwIconLinkExternal,type:"text",outlined:!1,block:!0}},[n("div",{staticClass:"sx-selector__present-section-button-content"},[n("p",{staticClass:"sx-selector__present-section-button-source mb-0"},[t._v(" "+t._s(a)+" ")]),n("p",{staticClass:"sx-selector__present-section-button-target mb-0"},[t._v(" "+t._s(e)+" ")])])])],1)})),0)]),n("div",{staticClass:"py-2 px-3"},[n("h4",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-more-details-title",value:[t.targetLanguageAutonym],expression:"[\n          targetLanguageAutonym\n        ]",arg:"cx-sx-section-selector-more-details-title"}],staticClass:"py-3 ps-1 sx-selector__list-title"}),n("ul",{staticClass:"ma-0"},[n("li",{staticClass:"row py-3 ma-0"},[n("mw-button",{staticClass:"col-12 justify-between pa-0",attrs:{indicator:t.mwIconLinkExternal,label:t.$i18n("cx-sx-section-selector-view-article-button-label",t.sourceLanguageAutonym),type:"text",outlined:!1,block:!0}})],1),n("li",{staticClass:"row py-3 ma-0"},[n("mw-button",{staticClass:"col-12 justify-between pa-0",attrs:{indicator:t.mwIconLinkExternal,label:t.$i18n("cx-sx-section-selector-view-article-button-label",t.targetLanguageAutonym),type:"text",outlined:!1,block:!0}})],1)])]),n("div",{staticClass:"row sx-selector__additional-considerations ma-0"},[n("div",{staticClass:"col-md-6 col-12"},[n("div",{staticClass:"pa-3 pt-5"},[n("h6",[n("mw-icon",{attrs:{icon:t.mwIconRobot}}),t._v(" "+t._s(t.$i18n("cx-sx-section-selector-automatic-section-matching-title"))+" ")],1),n("p",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-automatic-section-matching-description",arg:"cx-sx-section-selector-automatic-section-matching-description"}]}),n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-learn-more-anchor-label",arg:"cx-sx-section-selector-learn-more-anchor-label"}],attrs:{href:"#"}})])]),n("div",{staticClass:"col-md-6 col-12"},[n("div",{staticClass:"pa-3 pt-5"},[n("h6",[n("mw-icon",{attrs:{icon:t.mwIconLabFlask}}),t._v(" "+t._s(t.$i18n("cx-sx-section-selector-unsupported-sections-title"))+" ")],1),n("p",[t._v(" "+t._s(t.$i18n("cx-sx-section-selector-unsupported-sections-description"))+" ")]),n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-section-selector-learn-more-anchor-label",arg:"cx-sx-section-selector-learn-more-anchor-label"}],attrs:{href:"#"}})])])])],1)],2)}),[],!1,null,null,null)).exports,mt={name:"sx-article-selector",mixins:[y.a],components:{MwDialog:Y.a,MwIcon:C.a,MwThumbnail:L.a,SxSectionSelector:lt,SxArticleLanguageSelector:ot,MwButton:r.a},data:function(){return{mwIconClose:u.g,mwIconExpand:u.i,mwIconLanguage:u.l,mwIconBookmarkOutline:u.f,mwIconArrowNext:u.c,showSectionTranslation:!1}},props:{active:{type:Boolean,default:!1}},computed:Object(N.a)(Object(N.a)({},Object(H.c)({currentSectionSuggestion:function(t){return t.suggestions.currentSectionSuggestion}})),{},{targetLanguageAutonym:function(){return this.getAutonym(this.targetLanguage)},translationExists:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.presentSectionsCount},langLinksCount:function(){var t;return null===(t=this.sourceArticle)||void 0===t?void 0:t.langLinksCount},sourceArticle:function(){return this.$store.getters["mediawiki/getPage"](this.sourceLanguage,this.sourceTitle)},sourceLanguage:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.sourceLanguage},sourceTitle:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.sourceTitle},targetLanguage:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.targetLanguage},missingSectionsCount:function(){var t;return null===(t=this.currentSectionSuggestion)||void 0===t?void 0:t.missingSectionsCount},sourceArticleThumbnail:function(){var t;return null===(t=this.sourceArticle)||void 0===t?void 0:t.thumbnail},weeklyViews:function(){var t,e=(null===(t=this.sourceArticle)||void 0===t?void 0:t.pageviews)||{};return Object.values(e).reduce((function(t,e){return t+e}),0)}}),methods:{onClose:function(){this.$emit("close")},setURLParams:function(){if(history.pushState){var t=new URL(location.href),e=new URLSearchParams(location.search);e.set("page",this.sourceTitle),e.set("from",this.sourceLanguage),e.set("to",this.targetLanguage),e.set("sx",!0),t.search=e,t=t.toString(),history.replaceState({url:t},null,t)}},onSectionSelectorClick:function(){this.$emit("section-translation-article-select"),this.showSectionTranslation=!0,this.setURLParams(),this.$emit("section-listing-open")},onSectionSelectorDialogClose:function(){this.showSectionTranslation=!1,this.$emit("section-listing-close"),this.$emit("close")}},mounted:function(){this.$store.dispatch("mediawiki/fetchLanguageTitles",{language:this.sourceLanguage,title:this.sourceTitle})}},wt={name:"cx-suggestion-list",components:{CxTranslationSuggestion:V,SxArticleSelector:(n("93c3"),Object(d.a)(mt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("mw-dialog",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}],staticClass:"sx-article-selector",attrs:{fullscreen:!0},on:{close:function(e){return t.onClose()}}},[n("template",{slot:"header"},[n("div",{staticClass:"row sx-article-selector__header ma-0 pa-2"},[n("div",{staticClass:"col shrink pe-2"},[n("mw-thumbnail",{staticClass:"sx-article-selector__header-thumbnail",attrs:{thumbnail:t.sourceArticleThumbnail,"icon-size":48}})],1),n("div",{staticClass:"col"},[n("div",{staticClass:"sx-article-selector__header-title column justify-between ma-0"},[n("div",{staticClass:"col"},[n("h6",{staticClass:"pa-0 ma-0"},[t._v(t._s(t.sourceTitle))])]),n("div",{staticClass:"col shrink sx-article-selector__stats"},[n("span",{staticClass:"pe-3"},[n("mw-icon",{attrs:{icon:t.mwIconLanguage}}),t._v(" "+t._s(t.langLinksCount)+" ")],1),n("span",[t._v(" "+t._s(t.weeklyViews)+" visits per week ")])])])]),n("div",{staticClass:"col shrink items-start"},[n("mw-button",{staticClass:"pa-0",attrs:{type:"icon",large:!0,icon:t.mwIconBookmarkOutline}}),n("mw-button",{staticClass:"pa-0",attrs:{type:"icon",large:!0,icon:t.mwIconClose},on:{click:function(e){return t.onClose()}}})],1)])]),n("div",{staticClass:"sx-article-selector__body"},[n("sx-article-language-selector"),t.translationExists?n("div",{staticClass:"sx-article-selector__translation-status row pa-4 ma-0"},[n("div",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-existing-translation-status",value:[t.targetLanguageAutonym],expression:"[targetLanguageAutonym]",arg:"cx-sx-existing-translation-status"}],staticClass:"col-8"}),n("div",{staticClass:"col-4 justify-end"},[n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-view-translation-anchor",arg:"cx-sx-view-translation-anchor"}],attrs:{href:"#"}})])]):t._e(),t.translationExists?n("div",{staticClass:"row pa-4 pb-0 ma-0"},[n("div",{staticClass:"col-12"},[n("span",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-existing-translation-additional-info",value:[t.targetLanguageAutonym],expression:"[\n            targetLanguageAutonym\n          ]",arg:"cx-sx-existing-translation-additional-info"}]}),n("a",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-existing-translation-learn-more",arg:"cx-sx-existing-translation-learn-more"}],attrs:{href:"#"}})])]):t._e(),n("div",{staticClass:"row sx-article-selector__action justify-center pt-4 pb-3"},[t.translationExists?n("mw-button",{attrs:{large:!0,progressive:!0,disabled:0===t.missingSectionsCount,label:t.$i18n("cx-sx-select-section")},on:{click:function(e){return t.onSectionSelectorClick()}}}):n("mw-button",{attrs:{large:!0,progressive:!0,label:t.$i18n("cx-sx-start-translation-button-label")},on:{click:function(e){return t.onSectionSelectorClick()}}})],1),t.missingSectionsCount?n("div",{directives:[{name:"i18n",rawName:"v-i18n:cx-sx-missing-section-stats",value:[t.missingSectionsCount,t.targetLanguageAutonym],expression:"[\n        missingSectionsCount,\n        targetLanguageAutonym\n      ]",arg:"cx-sx-missing-section-stats"}],staticClass:"row sx-article-selector__action justify-center pb-2 mb-4"}):t._e(),n("div",{staticClass:"row sx-article-selector__license justify-center ma-0"},[n("p",{staticClass:"pa-3"},[n("small",{directives:[{name:"i18n-html",rawName:"v-i18n-html:cx-license-agreement",arg:"cx-license-agreement"}]})])])],1),t.currentSectionSuggestion?n("sx-section-selector",{attrs:{active:t.showSectionTranslation,suggestion:t.currentSectionSuggestion},on:{close:t.onSectionSelectorDialogClose}}):t._e()],2)}),[],!1,null,null,null)).exports,MwCard:x.a,MwButton:r.a,MwSpinner:P.a},props:{active:{type:Boolean,default:!1},sourceLanguage:{type:String,default:"en"},targetLanguage:{type:String}},data:function(){return{mwIconRefresh:u.o,pageSuggestionsLoaded:!1,sectionSuggestionsLoaded:!0,showSxArticleSelector:!1,startIndex:0,endIndex:3}},computed:Object(N.a)(Object(N.a)({},Object(H.c)({currentSectionSuggestion:function(t){return t.suggestions.currentSectionSuggestion}})),{},{pageSuggestionsForPair:function(){return this.$store.getters["suggestions/getPageSuggestionsForPair"](this.sourceLanguage,this.targetLanguage)},sectionSuggestionForPair:function(){return this.$store.getters["suggestions/getSectionSuggestionsForPair"](this.sourceLanguage,this.targetLanguage)},pageSuggestionsForPairSubset:function(){return this.pageSuggestionsForPair.slice(this.startIndex,this.endIndex)}}),watch:{pageSuggestionsForPair:function(){this.pageSuggestionsLoaded=!0},sectionSuggestionForPair:function(){this.sectionSuggestionsLoaded=!0},active:function(){var t,e;this.active&&((null===(t=this.pageSuggestionsForPair)||void 0===t?void 0:t.length)||this.$store.dispatch("suggestions/getPageSuggestions",{sourceLanguage:this.sourceLanguage,targetLanguage:this.targetLanguage}),(null===(e=this.sectionSuggestionForPair)||void 0===e?void 0:e.length)||this.$store.dispatch("suggestions/getSectionSuggestions",{sourceLanguage:this.sourceLanguage,targetLanguage:this.targetLanguage}))}},methods:{reloadSuggestions:function(){this.startIndex+=this.endIndex,this.endIndex+=this.endIndex,this.pageSuggestionsForPair.length<=this.startIndex&&(this.startIndex=0,this.endIndex=3)},startSectionTranslation:function(t){this.showSxArticleSelector=!0,this.$store.commit("suggestions/setCurrentSectionSuggestion",t)},onSectionTranslationDialogClose:function(){this.showSxArticleSelector=!1}},mounted:function(){var t=new URLSearchParams(location.search),e=t.get("sx"),n=t.get("from"),a=t.get("to"),s=t.get("page");if(e&&s){var i=new Z({sourceLanguage:n,targetLanguage:a,sourceTitle:s,missing:{}});this.startSectionTranslation(i),this.$store.dispatch("suggestions/loadSectionSuggestion",i)}}},xt=Object(d.a)(wt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"show",rawName:"v-show",value:t.active,expression:"active"}]},[n("mw-card",{staticClass:"cx-translation-list--suggestions pa-0",attrs:{title:t.$i18n("cx-suggestionlist-title")}},[t.pageSuggestionsLoaded?t._e():n("mw-spinner"),t._l(t.pageSuggestionsForPairSubset,(function(e,a){return n("cx-translation-suggestion",{key:"suggestion-"+a,staticClass:"ma-0",attrs:{suggestion:e,from:t.sourceLanguage,to:t.targetLanguage}})}))],2),t.sectionSuggestionForPair.length?n("mw-card",{staticClass:"cx-translation-list--sx-suggestions pa-0",attrs:{title:t.$i18n("cx-suggestionlist-expand-sections-title")}},[t.sectionSuggestionsLoaded?t._e():n("mw-spinner"),t._l(t.sectionSuggestionForPair,(function(e,a){return n("cx-translation-suggestion",{key:"suggestion-"+a,staticClass:"ma-0",attrs:{suggestion:e,from:e.sourceLanguage,to:e.targetLanguage},on:{click:function(n){return t.startSectionTranslation(e)}}})}))],2):t._e(),t.pageSuggestionsLoaded?n("mw-button",{attrs:{block:!0,label:t.$i18n("cx-suggestionlist-refresh"),outlined:!1,icon:t.mwIconRefresh},on:{click:t.reloadSuggestions}}):t._e(),t.currentSectionSuggestion?n("sx-article-selector",{attrs:{active:t.showSxArticleSelector},on:{close:t.onSectionTranslationDialogClose}}):t._e()],1)}),[],!1,null,null,null).exports,bt=n("b1ab"),St=n("703d"),Ct={name:"cx-dashboard",components:{CxSuggestionList:xt,CxTranslationList:R,MwButtonGroup:bt.a,MwBottomNavigation:St.a},data:function(){return{mwIconArticleCheck:u.d,mwIconLightBulb:u.m,mwIconEdit:u.h,suggestionsLoaded:!1,publishedTranslationsLoaded:!1,draftTranslationsLoaded:!1,active:"draft",sourceLanguage:"en",targetLanguage:"ml"}},computed:{listSelector:function(){return[{value:"suggestions",props:{label:this.$i18n("cx-translation-filter-suggested-translations"),icon:u.m,type:"text"}},{value:"draft",props:{label:this.$i18n("cx-translation-filter-draft-translations"),icon:u.h,type:"text"}},{value:"published",props:{label:this.$i18n("cx-translation-filter-published-translations"),icon:u.d,type:"text"}}]}},watch:{active:function(){window.scrollTo(0,0)}},mounted:function(){new URLSearchParams(window.location.search).get("sx")&&(this.active="suggestions")},created:function(){this.$store.dispatch("translator/init"),this.$store.dispatch("mediawiki/fetchLanguageInfo"),this.$store.dispatch("mediawiki/fetchSupportedLanguageCodes")}},_t=Object(d.a)(Ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"cx-translation-dashboard"},[n("nav",{staticClass:"h-sm-and-down"},[n("mw-button-group",{attrs:{items:t.listSelector,active:t.active},on:{select:function(e){t.active=e}}})],1),n("cx-suggestion-list",{staticClass:"col-12 pa-0 ma-0",attrs:{sourceLanguage:t.sourceLanguage,targetLanguage:t.targetLanguage,active:"suggestions"===t.active}}),n("cx-translation-list",{staticClass:"col-12 pa-0 ma-0",attrs:{sourceLanguage:t.sourceLanguage,targetLanguage:t.targetLanguage,translationStatus:"published",active:"published"===t.active}}),n("cx-translation-list",{staticClass:"col-12 pa-0 ma-0",attrs:{sourceLanguage:t.sourceLanguage,targetLanguage:t.targetLanguage,translationStatus:"draft",active:"draft"===t.active}}),n("mw-bottom-navigation",{staticClass:"h-md-and-up",attrs:{items:t.listSelector,active:t.active},on:{"update:active":function(e){t.active=e}}})],1)}),[],!1,null,null,null).exports,Tt=(n("1421"),{name:"cx-dashboard-app",components:{MwButton:r.a,CxHeader:p,CxDashboard:_t},data:function(){return{mwIconAdd:u.a}}}),jt=(n("7c55"),Object(d.a)(Tt,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container",attrs:{id:"cxdashboard"}},[n("cx-header"),n("section",{staticClass:"row cx-translation-header"},[n("mw-button",{staticClass:"col-md-4 col-xs-12 col-lg-3 col-offset-lg-1 mb-4 mt-4",attrs:{progressive:"",large:"",icon:t.mwIconAdd,label:t.$i18n("cx-create-new-translation")}})],1),n("section",{staticClass:"row cx-translation-dashboard-container"},[n("cx-dashboard",{staticClass:"col-xs-12 col-md-8 col-lg-7 col-offset-lg-1 mb-4"})],1)],1)}),[],!1,null,null,null)).exports,Ot=(n("96cf"),n("1da1")),Pt=n("bc3a"),At=n.n(Pt);function $t(t){return Ft.apply(this,arguments)}function Ft(){return(Ft=Object(Ot.a)(regeneratorRuntime.mark((function t(e){var n,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={action:"query",format:"json",assert:"user",formatversion:2,list:"contenttranslation"},a=mw.util.wikiScript("api"),e&&(n.offset=e),t.abrupt("return",At()({method:"get",url:a,params:n,withCredentials:!0}).then(function(){var t=Object(Ot.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.data.query.contenttranslation.translations,s=a.map((function(t){return new k(t.translation)})),!(null===(n=e.data.continue)||void 0===n?void 0:n.offset)){t.next=7;break}return t.next=5,$t(e.data.continue.offset);case 5:i=t.sent,s=s.concat(i);case 7:return t.abrupt("return",s);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var Rt={fetchTranslations:$t},Ut={namespaced:!0,state:{username:mw.config.get("wgUserName"),translations:[]},getters:{getPublishedTranslationsForLanguagePair:function(t){return function(e,n){return t.translations.filter((function(t){return t.sourceLanguage===e&&t.targetLanguage===n&&"published"===t.status}))}},getDraftTranslationsForLanguagePair:function(t){return function(e,n){return t.translations.filter((function(t){return t.sourceLanguage===e&&t.targetLanguage===n&&"draft"===t.status}))}},getPublishedTranslations:function(t){return function(){return t.translations.filter((function(t){return"published"===t.status}))}},getDraftTranslations:function(t){return function(){return t.translations.filter((function(t){return"draft"===t.status}))}}},actions:{init:function(t){(0,t.dispatch)("getTanslations")},getTanslations:function(t){var e=t.commit,n=t.dispatch;Rt.fetchTranslations().then((function(t){for(var a={},s=0;s<t.length;s++){var i=t[s];e("addTranslation",i),a[i.sourceLanguage]=a[i.sourceLanguage]||[],a[i.sourceLanguage].push(i.sourceTitle)}for(var r in a)n("mediawiki/fetchPageMetadata",{language:r,titles:a[r]},{root:!0})}))}},mutations:{addTranslation:function(t,e){t.translations.push(e)}}};function Dt(){return(Dt=Object(Ot.a)(regeneratorRuntime.mark((function t(e,n,a){var s,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s={source:e,target:n,seed:a,search:"related_articles",application:"CX"},i=mw.config.get("wgRecommendToolAPIURL"),t.next=4,At.a.get(i,{params:s}).then((function(t){return t.data}));case 4:return r=t.sent,t.abrupt("return",r.map((function(t){return new D({sourceTitle:t.title.replace(/_/g," "),sourceLanguage:e,targetLanguage:n,wikidataId:t.wikidata_id,pageViews:t.pageviews,rank:t.rank})})));case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function qt(t,e,n){return zt.apply(this,arguments)}function zt(){return(zt=Object(Ot.a)(regeneratorRuntime.mark((function t(e,n,a){var s,i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s=new mw.cx.SiteMapper,i=s.getCXServerUrl("/suggest/sections/".concat(n,"/").concat(e,"/").concat(a)),t.next=4,At.a.get(i).then((function(t){var e;return null===(e=t.data)||void 0===e?void 0:e.sections})).catch((function(t){return null}));case 4:return r=t.sent,t.abrupt("return",r?new Z(r):null);case 6:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function Vt(){return(Vt=Object(Ot.a)(regeneratorRuntime.mark((function t(e){var n,a,s,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=[],a=0;case 2:if(!(a<e.length)){t.next=13;break}return s=e[a],t.next=6,qt(s.sourceLanguage,s.sourceTitle,s.targetLanguage);case 6:if(i=t.sent,n.push(i),5!==n.length){t.next=10;break}return t.abrupt("break",13);case 10:a++,t.next=2;break;case 13:return t.abrupt("return",n);case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n("7db0"),n("5319");var Xt={fetchSuggestions:function(t,e,n){return Dt.apply(this,arguments)},fetchSectionSuggestions:qt,getSxSuggestionsFromPublishedArticles:function(t){return Vt.apply(this,arguments)}},Yt={namespaced:!0,state:{pageSuggestions:[],sectionSuggestions:[],favorites:{},currentSectionSuggestion:null},getters:{getPageSuggestionsForPair:function(t){return function(e,n){return t.pageSuggestions.filter((function(t){return t.sourceLanguage===e&&t.targetLanguage===n}))}},getSectionSuggestionsForPair:function(t){return function(e,n){return t.sectionSuggestions.filter((function(t){return t.sourceLanguage===e&&t.targetLanguage===n}))}},getSectionSuggestionsForArticle:function(t){return function(e,n,a){return t.sectionSuggestions.find((function(t){return t.sourceLanguage===e&&t.targetLanguage===n&&t.sourceTitle===a}))}}},actions:{getPageSuggestions:function(t,e){var n=t.commit,a=t.dispatch;Xt.fetchSuggestions(e.sourceLanguage,e.targetLanguage,e.seeds).then((function(t){for(var s=[],i=0;i<t.length;i++)n("addPageSuggestion",t[i]),s.push(t[i].sourceTitle);s.length&&a("mediawiki/fetchPageMetadata",{language:e.sourceLanguage,titles:s},{root:!0})}))},getSectionSuggestions:function(t,e){return Object(Ot.a)(regeneratorRuntime.mark((function n(){var a,s,i,r,o,c,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a=t.commit,s=t.dispatch,i=t.rootGetters,r=[],o=i["translator/getPublishedTranslationsForLanguagePair"](e.sourceLanguage,e.targetLanguage),n.next=5,Xt.getSxSuggestionsFromPublishedArticles(o);case 5:for(c=n.sent,u=0;u<c.length;u++)a("addSectionSuggestion",c[u]),r.push(c[u].sourceTitle);r.length&&s("mediawiki/fetchPageMetadata",{language:e.sourceLanguage,titles:r},{root:!0});case 8:case"end":return n.stop()}}),n)})))()},loadSectionSuggestion:function(t,e){return Object(Ot.a)(regeneratorRuntime.mark((function n(){var a,s,i,r,o,c,u;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=t.commit,s=t.dispatch,i=t.getters,r=e.sourceLanguage,o=e.targetLanguage,c=e.sourceTitle,u=i.getSectionSuggestionsForArticle(r,o,c)){n.next=11;break}return n.next=6,Xt.fetchSectionSuggestions(r,c,o);case 6:if(u=n.sent){n.next=9;break}return n.abrupt("return");case 9:a("addSectionSuggestion",u),s("mediawiki/fetchPageMetadata",{language:r,titles:[c]},{root:!0});case 11:a("setCurrentSectionSuggestion",u);case 12:case"end":return n.stop()}}),n)})))()}},mutations:{addPageSuggestion:function(t,e){t.pageSuggestions.push(e)},addSectionSuggestion:function(t,e){t.sectionSuggestions.push(e)},setCurrentSectionSuggestion:function(t,e){t.currentSectionSuggestion=e}}},Zt=(n("4160"),n("45fc"),n("159b"),n("a15b"),n("dca8"),n("ade3")),te=(n("a4d3"),n("e01a"),function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.description,a=e.langlinkscount,s=e.lastrevid,i=e.original,r=e.pageid,o=e.pagelanguage,c=e.pageprops,u=e.pageviews,g=e.thumbnail,l=e.title,d=e._alias;Object(_.a)(this,t),this.language=o,this.title=l,this.pageId=r,this.description=n,this.image=i,this.pageprops=c,this.pageviews=u,this.thumbnail=g,this.langLinksCount=a,this.revision=s,this.alias=d,this.wikidataId=null==c?void 0:c.wikibase_item}return Object(B.a)(t,[{key:"id",get:function(){return"".concat(this.language,"/").concat(this.title)}}]),t}()),ee=function t(e,n){Object(_.a)(this,t),this.wikidataId=e,this.titles=n};var se={fetchPages:function(t,e){var n={action:"query",format:"json",formatversion:2,prop:"info|pageprops|pageimages|description|pageviews|langlinkscount",pvipdays:7,piprop:"thumbnail|name|original",pithumbsize:100,titles:e.join("|"),lllimit:500,origin:"*",redirects:!0},a="https://".concat(t,".wikipedia.org/w/api.php");return At.a.get(a,{params:n}).then((function(t){var e=t.data.query.pages,a=(t.data.query.redirects||[]).reduce((function(t,e){return Object(N.a)(Object(N.a)({},t),{},Object(Zt.a)({},e.to,e.from))}),{});return e.map((function(t){return t=a[t.title]?Object(N.a)(Object(N.a)({},t),{},{_alias:a[t.title]}):t,Object.freeze(new te(t))}))}))},fetchLanguageTitles:function(t,e){var n={action:"query",format:"json",formatversion:2,prop:"langlinks|pageprops",titles:e,lllimit:500,origin:"*",redirects:!0},a="https://".concat(t,".wikipedia.org/w/api.php");return At.a.get(a,{params:n}).then(function(){var n=Object(Ot.a)(regeneratorRuntime.mark((function n(a){var s,i,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((i=a.data.query.pages)&&i.length){n.next=3;break}return n.abrupt("return",null);case 3:if(r=[{lang:t,title:e}].concat(Object(nt.a)(i[0].langlinks)),o=null===(s=i[0].pageprops)||void 0===s?void 0:s.wikibase_item){n.next=7;break}return n.abrupt("return",null);case 7:return n.abrupt("return",Object.freeze(new ee(o,r)));case 8:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}())}};function oe(){return(oe=Object(Ot.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://cxserver.wikimedia.org/v1/list/languagepairs",t.next=3,At.a.get("https://cxserver.wikimedia.org/v1/list/languagepairs",{origin:"*"}).then((function(t){return t.data.source}));case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var ce={fetchLanguageInfo:function ie(t){var e={action:"query",format:"json",formatversion:2,meta:"languageinfo",liprop:"autonym|dir",origin:"*"};return t&&(e.licontinue=t),At.a.get(mw.util.wikiScript("api"),{params:e}).then(function(){var t=Object(Ot.a)(regeneratorRuntime.mark((function t(e){var n,a,s;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=null===(n=e.data.continue)||void 0===n?void 0:n.licontinue,s=e.data.query.languageinfo,!a){t.next=10;break}return t.t0=Object,t.t1={},t.t2=s,t.next=8,ie(a);case 8:t.t3=t.sent,s=t.t0.assign.call(t.t0,t.t1,t.t2,t.t3);case 10:return t.abrupt("return",s);case 11:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},fetchSupportedLanguageCodes:function(){return oe.apply(this,arguments)}},me={namespaced:!0,state:{pages:[],languageInfo:{},languageTitleGroups:[],supportedLanguageCodes:[]},getters:{getPage:function(t){return function(e,n){return t.pages.find((function(t){return t.language===e&&(t.title===n||t.alias===n)}))}},getLanguageTitleGroup:function(t){return function(e,n){return t.languageTitleGroups.find((function(t){return t.titles.find((function(t){return t.lang===e&&t.title===n}))}))}},getLanguageTitleGroupByWikidataId:function(t){return function(e){return t.languageTitleGroups.find((function(t){return t.wikidataId===e}))}},titleExistsInLanguageForGroup:function(t,e){return function(t,n){var a;return((null===(a=e.getLanguageTitleGroupByWikidataId(t))||void 0===a?void 0:a.titles)||[]).some((function(t){return t.lang===n}))}},getTitleByLanguageForGroup:function(t,e){return function(t,n){var a,s;return null===(a=((null===(s=e.getLanguageTitleGroupByWikidataId(t))||void 0===s?void 0:s.titles)||[]).find((function(t){return t.lang===n})))||void 0===a?void 0:a.title}}},actions:{fetchPageMetadata:function(t,e){return Object(Ot.a)(regeneratorRuntime.mark((function n(){var a,s,i,r,o,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:a=t.getters,s=t.commit,i=e.titles.filter((function(t){return!a.getPage(e.language,t)})),r=50,o=0;case 4:if(!(o<i.length)){n.next=13;break}return c=i.slice(o,o+r),n.next=8,se.fetchPages(e.language,c);case 8:n.sent.forEach((function(t){s("addPage",t)}));case 10:o+=r,n.next=4;break;case 13:case"end":return n.stop()}}),n)})))()},fetchLanguageTitles:function(t,e){var n=t.commit,a=t.getters,s=e.language,i=e.title;a.getLanguageTitleGroup(s,i)||se.fetchLanguageTitles(s,i).then((function(t){return t&&n("addLanguageTitleGroup",t)}))},fetchLanguageInfo:function(t){var e=t.commit;ce.fetchLanguageInfo().then((function(t){e("setLanguageInfo",t)}))},fetchSupportedLanguageCodes:function(t){var e=t.commit;ce.fetchSupportedLanguageCodes().then((function(t){e("setSupportedLanguageCodes",t)}))}},mutations:{addPage:function(t,e){t.pages.push(e)},addLanguageTitleGroup:function(t,e){t.languageTitleGroups.push(e)},setLanguageInfo:function(t,e){t.languageInfo=e},setSupportedLanguageCodes:function(t,e){t.supportedLanguageCodes=e}}};a.a.use(H.a);var pe=new H.a.Store({modules:{translator:Ut,suggestions:Yt,mediawiki:me}}),he=n("5093"),fe=n.n(he),we=mw.config.get("wgUserLanguage"),xe=mw.messages.values||{};a.a.use(fe.a,{locale:we,finalFallback:"en",messages:xe}),new a.a({store:pe,render:function(t){return t(jt)},el:"#cxdashboard"})},"64ab":function(t,e,n){},"69ee":function(t,e,n){"use strict";var a=n("7b46");n.n(a).a},7275:function(t,e,n){"use strict";var a=n("a2f6");n.n(a).a},"7b46":function(t,e,n){},"7c55":function(t,e,n){"use strict";var a=n("2395");n.n(a).a},"7ece":function(t,e,n){"use strict";var a=n("be16");n.n(a).a},"93c3":function(t,e,n){"use strict";var a=n("0f8f");n.n(a).a},"9bc3":function(t,e,n){"use strict";var a=n("64ab");n.n(a).a},a2f6:function(t,e,n){},be16:function(t,e,n){},e243:function(t,e,n){}});
//# sourceMappingURL=cxdashboard.js.map