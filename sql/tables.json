[
	{
		"name": "cx_significant_edits",
		"comment": "Stores recent significant edits by a user in any wiki. Only the 10 latest edits by each user are stored. This table is used to identify potential section suggestions for the 'recent-edit' entrypoint",
		"columns": [
			{
				"name": "cxse_id",
				"comment": "edit id. Autogenerated",
				"type": "integer",
				"options": { "notnull": true, "unsigned": true, "autoincrement": true }
			},
			{
				"name": "cxse_global_user_id",
				"comment": "Global user id of the user that did the edit",
				"type": "integer",
				"options": { "notnull": true, "unsigned": true }
			},
			{
				"name": "cxse_page_wikidata_id",
				"comment": "Wikidata id (qid) of the page that was edited without the 'Q' prefix",
				"type": "integer",
				"options": { "notnull": true, "unsigned": true }
			},
			{
				"name": "cxse_language",
				"comment": "Language of the page that was edited. Used as source language to fetch section suggestions from cxserver, when user visits a page that they have edited, in another language.",
				"type": "binary",
				"options": { "notnull": true, "length": 36 }
			},
			{
				"name": "cxse_wiki_family",
				"comment": "Wiki family of the wiki in which the edit happened. Currently unused, but added for future expansion of Content Translation to non-Wikipedia wikis",
				"type": "integer",
				"options": { "notnull": true, "unsigned": true }
			},
			{
				"name": "cxse_page_title",
				"comment": "Title of the page that was edited. Used as source title to fetch section suggestions from cxserver, when user visits a page that they have edited, in another language.",
				"type": "binary",
				"options": { "notnull": true, "length": 255 }
			},
			{
				"name": "cxse_section_titles",
				"comment": "Titles of the sections that were edited. Stores a JSON string representing an array of strings",
				"type": "blob",
				"options": { "notnull": true, "length": 16777215 }
			},
			{
				"name": "cxse_timestamp",
				"comment": "Timestamp of this edit",
				"type": "mwtimestamp",
				"options": { "notnull": true }
			}
		],
		"indexes": [
			{
				"name": "cx_significant_edits_page",
				"comment": "Query edits that were made by a specific user, for a page with a specific Wikidata ID, in a specific language and wiki-family",
				"columns": [
					"cxse_global_user_id",
					"cxse_page_wikidata_id",
					"cxse_language",
					"cxse_wiki_family"
				],
				"unique": true
			}
		],
		"pk": [ "cxse_id" ]
	},
	{
		"name": "cx_section_translations",
		"columns": [
			{
				"name": "cxsx_id",
				"comment": "Section translation id. Autogenerated",
				"type": "integer",
				"options": { "notnull": true, "unsigned": true, "autoincrement": true }
			},
			{
				"name": "cxsx_translation_id",
				"comment": "Translation id. translation_id from cx_translations table",
				"type": "integer",
				"options": { "notnull": true, "unsigned": true }
			},
			{
				"name": "cxsx_section_id",
				"comment": "Section id. Based on source revision id and cx id of the translated page section",
				"type": "binary",
				"options": { "notnull": true, "length": 30 }
			},
			{
				"name": "cxsx_source_section_title",
				"comment": "Source section title",
				"type": "binary",
				"options": { "notnull": true, "length": 512 }
			},
			{
				"name": "cxsx_target_section_title",
				"comment": "Target section title",
				"type": "binary",
				"options": { "notnull": true, "length": 512 }
			}
		],
		"indexes": [
			{
				"name": "cx_sx_sections",
				"comment": "Translation to sections relation",
				"columns": [
					"cxsx_translation_id",
					"cxsx_section_id"
				],
				"unique": true
			}
		],
		"pk": [ "cxsx_id" ]
	}
]
